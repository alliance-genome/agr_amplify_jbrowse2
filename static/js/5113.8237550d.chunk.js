"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[5113],{25113:function(e,n,t){t.r(n);var a=t(96234),r=t(96902),o=t(4782),i=t(60916),l=t(20450),s=t(39041),c=t(3915),u=t(88117),d=t(72988),p=t(62215),v=t(71078),m=t(18726),h=t(96565),g=t(91188),f=t(47057),x=t(29938),Z=(0,g.ZL)()((function(e){return{paper:{padding:e.spacing(2),margin:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},field:{margin:e.spacing(2)}}})),b=["read paired","read mapped in proper pair","read unmapped","mate unmapped","read reverse strand","mate reverse strand","first in pair","second in pair","not primary alignment","read fails platform/vendor quality checks","read is PCR or optical duplicate","supplementary alignment"];function y(e){var n=e.flag,t=void 0===n?0:n,a=e.setFlag;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i.Z,{type:"number",value:t,onChange:function(e){return a(+e.target.value)}}),b.map((function(e,n){var r=t&1<<n,o="".concat(e,"_").concat(r);return(0,x.jsxs)("div",{children:[(0,x.jsx)("input",{type:"checkbox",checked:Boolean(r),onChange:function(e){e.target.checked?a(t|1<<n):a(t&~(1<<n))}}),(0,x.jsx)("label",{htmlFor:o,children:e})]},o)}))]})}n.default=(0,o.observer)((function(e){var n,t,o=e.model,g=e.handleClose,b=Z().classes,j=o.filterBy,C=(0,r.useState)(null===j||void 0===j?void 0:j.flagInclude),k=(0,a.Z)(C,2),F=k[0],w=k[1],S=(0,r.useState)(null===j||void 0===j?void 0:j.flagExclude),N=(0,a.Z)(S,2),A=N[0],R=N[1],B=(0,r.useState)((null===j||void 0===j||null===(n=j.tagFilter)||void 0===n?void 0:n.tag)||""),D=(0,a.Z)(B,2),L=D[0],E=D[1],P=(0,r.useState)((null===j||void 0===j||null===(t=j.tagFilter)||void 0===t?void 0:t.value)||""),V=(0,a.Z)(P,2),M=V[0],_=V[1],z=(0,r.useState)((null===j||void 0===j?void 0:j.readName)||""),T=(0,a.Z)(z,2),H=T[0],O=T[1],q=L.match(/^[A-Za-z][A-Za-z0-9]$/),I="https://broadinstitute.github.io/picard/explain-flags.html";return(0,x.jsxs)(l.Z,{open:!0,onClose:g,children:[(0,x.jsxs)(s.Z,{children:["Filter options",(0,x.jsx)(c.Z,{"aria-label":"close",className:b.closeButton,onClick:g,children:(0,x.jsx)(f.Z,{})})]}),(0,x.jsxs)(u.Z,{children:[(0,x.jsxs)(d.Z,{children:["Set filter bitmask options. Refer to ",(0,x.jsx)(p.Z,{href:I,children:I})," ","for details"]}),(0,x.jsx)(v.Z,{className:b.paper,variant:"outlined",children:(0,x.jsxs)("div",{style:{display:"flex"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)(d.Z,{children:"Read must have ALL these flags"}),(0,x.jsx)(y,{flag:F,setFlag:w})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(d.Z,{children:"Read must have NONE of these flags"}),(0,x.jsx)(y,{flag:A,setFlag:R})]})]})}),(0,x.jsxs)(v.Z,{className:b.paper,variant:"outlined",children:[(0,x.jsx)(d.Z,{children:"Filter by tag name and value. Use * in the value field to get all reads containing any value for that tag. Example: filter tag name SA with value * to get all split/supplementary reads. Other examples include HP for haplotype, or RG for read group"}),(0,x.jsx)(i.Z,{className:b.field,value:L,onChange:function(e){E(e.target.value)},placeholder:"Enter tag name",inputProps:{maxLength:2,"data-testid":"color-tag-name-input"},error:2===L.length&&!q,helperText:2!==L.length||q?"":"Not a valid tag","data-testid":"color-tag-name"}),(0,x.jsx)(i.Z,{className:b.field,value:M,onChange:function(e){_(e.target.value)},placeholder:"Enter tag value",inputProps:{"data-testid":"color-tag-name-input"},"data-testid":"color-tag-value"})]}),(0,x.jsxs)(v.Z,{className:b.paper,variant:"outlined",children:[(0,x.jsx)(d.Z,{children:"Filter by read name"}),(0,x.jsx)(i.Z,{className:b.field,value:H,onChange:function(e){O(e.target.value)},placeholder:"Enter read name",inputProps:{"data-testid":"color-tag-readname-input"},"data-testid":"color-tag-readname"})]}),(0,x.jsxs)(m.Z,{children:[(0,x.jsx)(h.Z,{variant:"contained",color:"primary",autoFocus:!0,type:"submit",onClick:function(){o.setFilterBy({flagInclude:F,flagExclude:A,readName:H,tagFilter:""!==L?{tag:L,value:M}:void 0}),g()},children:"Submit"}),(0,x.jsx)(h.Z,{variant:"contained",color:"secondary",onClick:function(){return g()},children:"Cancel"})]})]})]})}))},62215:function(e,n,t){t.d(n,{Z:function(){return F}});var a=t(68079),r=t(96234),o=t(56666),i=t(31461),l=t(7896),s=t(96902),c=t(24463),u=t(73674),d=t(58475),p=t(52449),v=t(31085),m=t(13140),h=t(4606),g=t(72988),f=t(8085),x=t(72762),Z=t(16644),b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},y=function(e){var n=e.theme,t=e.ownerState,a=function(e){return b[e]||e}(t.color),r=(0,x.D)(n,"palette.".concat(a),!1)||t.color,o=(0,x.D)(n,"palette.".concat(a,"Channel"));return"vars"in n&&o?"rgba(".concat(o," / 0.4)"):(0,Z.Fq)(r,.4)},j=t(29938),C=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],k=(0,p.ZP)(g.Z,{name:"MuiLink",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["underline".concat((0,d.Z)(t.underline))],"button"===t.component&&n.button]}})((function(e){var n=e.theme,t=e.ownerState;return(0,l.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,l.Z)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:y({theme:n,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&(0,o.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(f.Z.focusVisible),{outline:"auto"}))})),F=s.forwardRef((function(e,n){var t=(0,v.Z)({props:e,name:"MuiLink"}),o=t.className,p=t.color,g=void 0===p?"primary":p,x=t.component,Z=void 0===x?"a":x,y=t.onBlur,F=t.onFocus,w=t.TypographyClasses,S=t.underline,N=void 0===S?"always":S,A=t.variant,R=void 0===A?"inherit":A,B=t.sx,D=(0,i.Z)(t,C),L=(0,m.Z)(),E=L.isFocusVisibleRef,P=L.onBlur,V=L.onFocus,M=L.ref,_=s.useState(!1),z=(0,r.Z)(_,2),T=z[0],H=z[1],O=(0,h.Z)(n,M),q=(0,l.Z)({},t,{color:g,component:Z,focusVisible:T,underline:N,variant:R}),I=function(e){var n=e.classes,t=e.component,a=e.focusVisible,r=e.underline,o={root:["root","underline".concat((0,d.Z)(r)),"button"===t&&"button",a&&"focusVisible"]};return(0,u.Z)(o,f.w,n)}(q);return(0,j.jsx)(k,(0,l.Z)({color:g,className:(0,c.default)(I.root,o),classes:w,component:Z,onBlur:function(e){P(e),!1===E.current&&H(!1),y&&y(e)},onFocus:function(e){V(e),!0===E.current&&H(!0),F&&F(e)},ref:O,ownerState:q,variant:R,sx:[].concat((0,a.Z)(Object.keys(b).includes(g)?[]:[{color:g}]),(0,a.Z)(Array.isArray(B)?B:[B]))},D))}))},8085:function(e,n,t){t.d(n,{w:function(){return o}});var a=t(74732),r=t(61235);function o(e){return(0,r.Z)("MuiLink",e)}var i=(0,a.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);n.Z=i}}]);
//# sourceMappingURL=5113.8237550d.chunk.js.map