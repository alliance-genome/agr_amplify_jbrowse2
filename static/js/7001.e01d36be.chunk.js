"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[7001,3180],{75439:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(66204),a=n(66159),i=n(86636),o=n(80846),s=n(43306),l=n.n(s),c=n(91370),u=n.n(c),d=n(44047),m=n(90872);async function f(e,t){const n=(0,m.getSession)(t),{view:r}=t;try{if(!r)throw new Error("No view associated with this view anymore");await r.navToLocString(e)}catch(e){console.error(e),n.notify(`${e}`)}}var p=n(80013),g=n(41814);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function b(e){const{tag:t,model:n}=e;return r.createElement(d.BaseCard,h({},e,{title:"Supplementary alignments"}),r.createElement(p.Z,null,"List of supplementary alignment locations"),r.createElement("ul",null,t.split(";").filter((e=>!!e)).map(((e,t)=>{const[i,o,s,l]=e.split(","),c=(0,g.getLengthOnRef)(l),u=Math.floor(c/5),d=+o,m=+o+c,p=`${i}:${Math.max(1,d-u)}-${m+u}`,h=`${i}:${d.toLocaleString("en-US")}-${m.toLocaleString("en-US")} (${s}) [${c}bp]`;return r.createElement("li",{key:`${p}-${t}`},r.createElement(a.Z,{onClick:async e=>{e.preventDefault(),f(p,n)},href:"#"},h))}))))}var v=n(53447),y=n(39780),E=n(70539),w=n(38684),C=n(47693);function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}const S=(0,w.ZL)()({compact:{paddingRight:0,paddingTop:0,paddingBottom:0}}),O=["read paired","read mapped in proper pair","read unmapped","mate unmapped","read reverse strand","mate reverse strand","first in pair","second in pair","not primary alignment","read fails platform/vendor quality checks","read is PCR or optical duplicate","supplementary alignment"];function Z(e){const{classes:t}=S(),{feature:n}=e,{flags:a}=n;return r.createElement(d.BaseCard,R({},e,{title:"Flags"}),r.createElement(C.Z,{name:"Flag",value:a}),r.createElement(v.Z,null,O.map(((e,n)=>{const i=a&1<<n,o=`${e}_${i}`;return r.createElement(y.Z,{key:o,control:r.createElement(E.Z,{className:t.compact,checked:Boolean(i),name:e,readOnly:!0}),label:e})}))))}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const k=["clipPos","flags"],T={AM:"The smallest template-independent mapping quality in the template",AS:"Alignment score generated by aligner",BC:"Barcode sequence identifying the sample",BQ:"Offset to base alignment quality (BAQ)",BZ:"Phred quality of the unique molecular barcode bases in the {OX} tag",CB:"Cell identifier",CC:"Reference name of the next hit",CM:"Edit distance between the color sequence and the color reference (see also {NM})",CO:"Free-text comments",CP:"Leftmost coordinate of the next hit",CQ:"Color read base qualities",CR:"Cellular barcode sequence bases (uncorrected)",CS:"Color read sequence",CT:"Complete read annotation tag, used for consensus annotation dummy features",CY:"Phred quality of the cellular barcode sequence in the {CR} tag",E2:"The 2nd most likely base calls",FI:"The index of segment in the template",FS:"Segment suffix",FZ:"Flow signal intensities",GC:"Reserved for backwards compatibility reasons",GQ:"Reserved for backwards compatibility reasons",GS:"Reserved for backwards compatibility reasons",H0:"Number of perfect hits",H1:"Number of 1-difference hits (see also {NM})",H2:"Number of 2-difference hits",HI:"Query hit index",IH:"Query hit total count",LB:"Library",MC:"CIGAR string for mate/next segment",MD:"String encoding mismatched and deleted reference bases",MF:"Reserved for backwards compatibility reasons",MI:"Molecular identifier; a string that uniquely identifies the molecule from which the record was derived",ML:"Base modification probabilities",MM:"Base modifications / methylation ",MQ:"Mapping quality of the mate/next segment",NH:"Number of reported alignments that contain the query in the current record",NM:"Edit distance to the reference",OA:"Original alignment",OC:"Original CIGAR (deprecated; use {OA} instead)",OP:"Original mapping position (deprecated; use {OA} instead)",OQ:"Original base quality",OX:"Original unique molecular barcode bases",PG:"Program",PQ:"Phred likelihood of the template",PT:"Read annotations for parts of the padded read sequence",PU:"Platform unit",Q2:"Phred quality of the mate/next segment sequence in the {R2} tag",QT:"Phred quality of the sample barcode sequence in the {BC} tag",QX:"Quality score of the unique molecular identifier in the {RX} tag",R2:"Sequence of the mate/next segment in the template",RG:"Read group",RT:"Reserved for backwards compatibility reasons",RX:"Sequence bases of the (possibly corrected) unique molecular identifier",S2:"Reserved for backwards compatibility reasons",SA:"Other canonical alignments in a chimeric alignment",SM:"Template-independent mapping quality",SQ:"Reserved for backwards compatibility reasons",TC:"The number of segments in the template",TS:"Transcript strand",U2:"Phred probability of the 2nd call being wrong conditional on the best being wrong",UQ:"Phred likelihood of the segment, conditional on the mapping being correct"};function P({value:e}){const[t,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),o=String(e);return o.length>100?r.createElement(r.Fragment,null,r.createElement("button",{type:"button",onClick:()=>{l()(o),i(!0),setTimeout((()=>i(!1)),700)}},a?"Copied to clipboard":"Copy"),r.createElement("button",{type:"button",onClick:()=>n((e=>!e))},t?"Show less":"Show more"),r.createElement("div",null,t?o:`${o.slice(0,100)}...`)):r.createElement("div",null,o)}function M({locString:e,model:t}){return r.createElement(a.Z,{onClick:n=>{n.preventDefault(),f(e,t)},href:"#"},e)}const L=(0,o.observer)((function(e){const{model:t}=e,n=u()(t.featureData),a=function(e,t){return t.tags?.SA||t.SA}(0,n);return r.createElement(i.Z,{"data-testid":"alignment-side-drawer"},r.createElement(d.FeatureDetails,q({},e,{omit:k,descriptions:{...T,tags:T},feature:n,formatter:(e,n)=>"next_segment_position"===n?r.createElement(M,{model:t,locString:e}):r.createElement(P,{value:e})})),a?r.createElement(b,{model:t,tag:a}):null,void 0!==n.flags?r.createElement(Z,q({feature:n},e)):null)}))},6816:(e,t,n)=>{n.d(t,{d:()=>c});var r=n(66204),a=n(52682),i=n(76734),o=n(26074),s=n(43188);function l(e){return e.substring(2).toLowerCase()}function c(e){const{children:t,disableReactTree:n=!1,mouseEvent:c="onClick",onClickAway:u,touchEvent:d="onTouchEnd"}=e,m=r.useRef(!1),f=r.useRef(null),p=r.useRef(!1),g=r.useRef(!1);r.useEffect((()=>(setTimeout((()=>{p.current=!0}),0),()=>{p.current=!1})),[]);const h=(0,a.Z)(t.ref,f),b=(0,i.Z)((e=>{const t=g.current;g.current=!1;const r=(0,o.Z)(f.current);if(!p.current||!f.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r))return;if(m.current)return void(m.current=!1);let a;a=e.composedPath?e.composedPath().indexOf(f.current)>-1:!r.documentElement.contains(e.target)||f.current.contains(e.target),a||!n&&t||u(e)})),v=e=>n=>{g.current=!0;const r=t.props[e];r&&r(n)},y={ref:h};return!1!==d&&(y[d]=v(d)),r.useEffect((()=>{if(!1!==d){const e=l(d),t=(0,o.Z)(f.current),n=()=>{m.current=!0};return t.addEventListener(e,b),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,b),t.removeEventListener("touchmove",n)}}}),[b,d]),!1!==c&&(y[c]=v(c)),r.useEffect((()=>{if(!1!==c){const e=l(c),t=(0,o.Z)(f.current);return t.addEventListener(e,b),()=>{t.removeEventListener(e,b)}}}),[b,c]),(0,s.jsx)(r.Fragment,{children:r.cloneElement(t,y)})}},96987:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(55559),a=n(30984),i=n(66204),o=n(56317),s=n(58029),l=n(57369),c=n(61125),u=n(41666),d=n(43188);const m=["className","component","disableGutters","variant"],f=(0,c.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((({theme:e,ownerState:t})=>(0,a.Z)({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},"dense"===t.variant&&{minHeight:48})),(({theme:e,ownerState:t})=>"regular"===t.variant&&e.mixins.toolbar)),p=i.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiToolbar"}),{className:i,component:c="div",disableGutters:p=!1,variant:g="regular"}=n,h=(0,r.Z)(n,m),b=(0,a.Z)({},n,{component:c,disableGutters:p,variant:g}),v=(e=>{const{classes:t,disableGutters:n,variant:r}=e,a={root:["root",!n&&"gutters",r]};return(0,s.Z)(a,u.N,t)})(b);return(0,d.jsx)(f,(0,a.Z)({as:c,className:(0,o.Z)(v.root,i),ref:t,ownerState:b},h))}))},41666:(e,t,n)=>{n.d(t,{N:()=>i,Z:()=>o});var r=n(58109),a=n(95201);function i(e){return(0,a.Z)("MuiToolbar",e)}const o=(0,r.Z)("MuiToolbar",["root","gutters","regular","dense"])}}]);
//# sourceMappingURL=7001.e01d36be.chunk.js.map