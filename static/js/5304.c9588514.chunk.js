"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[5304],{45304:function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(30969));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=90,c=219,h=222,u=192,p=100,d=3e3,f="navigator"in n.g&&/Win/i.test(navigator.platform),y="navigator"in n.g&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),g="npm__react-simple-code-editor__textarea",_=function(e){function t(){var e,n,i;a(this,t);for(var o=arguments.length,g=Array(o),_=0;_<o;_++)g[_]=arguments[_];return n=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(g))),i.state={capture:!0},i._recordCurrentState=function(){var e=i._input;if(e){var t=e.value,n=e.selectionStart,r=e.selectionEnd;i._recordChange({value:t,selectionStart:n,selectionEnd:r})}},i._getLines=function(e,t){return e.substring(0,t).split("\n")},i._recordChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i._history,o=n.stack,a=n.offset;if(o.length&&a>-1){i._history.stack=o.slice(0,a+1);var s=i._history.stack.length;if(s>p){var l=s-p;i._history.stack=o.slice(l,s),i._history.offset=Math.max(i._history.offset-l,0)}}var c=Date.now();if(t){var h=i._history.stack[i._history.offset];if(h&&c-h.timestamp<d){var u=/[^a-z0-9]([a-z0-9]+)$/i,f=i._getLines(h.value,h.selectionStart).pop().match(u),y=i._getLines(e.value,e.selectionStart).pop().match(u);if(f&&y&&y[1].startsWith(f[1]))return void(i._history.stack[i._history.offset]=r({},e,{timestamp:c}))}}i._history.stack.push(r({},e,{timestamp:c})),i._history.offset++},i._updateInput=function(e){var t=i._input;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,i.props.onValueChange(e.value))},i._applyEdits=function(e){var t=i._input,n=i._history.stack[i._history.offset];n&&t&&(i._history.stack[i._history.offset]=r({},n,{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),i._recordChange(e),i._updateInput(e)},i._undoEdit=function(){var e=i._history,t=e.stack,n=e.offset,r=t[n-1];r&&(i._updateInput(r),i._history.offset=Math.max(n-1,0))},i._redoEdit=function(){var e=i._history,t=e.stack,n=e.offset,r=t[n+1];r&&(i._updateInput(r),i._history.offset=Math.min(n+1,t.length-1))},i._handleKeyDown=function(e){var t=i.props,n=t.tabSize,r=t.insertSpaces,o=t.ignoreTabKey,a=t.onKeyDown;if(!a||(a(e),!e.defaultPrevented)){var s=e.target,p=s.value,d=s.selectionStart,g=s.selectionEnd,_=(r?" ":"     ").repeat(n);if(9===e.keyCode&&!o&&i.state.capture)if(e.preventDefault(),e.shiftKey){var v=i._getLines(p,d),m=v.length-1,b=i._getLines(p,g).length-1,k=p.split("\n").map((function(e,t){return t>=m&&t<=b&&e.startsWith(_)?e.substring(_.length):e})).join("\n");if(p!==k){var S=v[m];i._applyEdits({value:k,selectionStart:S.startsWith(_)?d-_.length:d,selectionEnd:g-(p.length-k.length)})}}else if(d!==g){var C=i._getLines(p,d),E=C.length-1,w=i._getLines(p,g).length-1,x=C[E];i._applyEdits({value:p.split("\n").map((function(e,t){return t>=E&&t<=w?_+e:e})).join("\n"),selectionStart:/\S/.test(x)?d+_.length:d,selectionEnd:g+_.length*(w-E+1)})}else{var K=d+_.length;i._applyEdits({value:p.substring(0,d)+_+p.substring(g),selectionStart:K,selectionEnd:K})}else if(8===e.keyCode){var O=d!==g;if(p.substring(0,d).endsWith(_)&&!O){e.preventDefault();var L=d-_.length;i._applyEdits({value:p.substring(0,d-_.length)+p.substring(g),selectionStart:L,selectionEnd:L})}}else if(13===e.keyCode){if(d===g){var D=i._getLines(p,d).pop().match(/^\s+/);if(D&&D[0]){e.preventDefault();var j="\n"+D[0],I=d+j.length;i._applyEdits({value:p.substring(0,d)+j+p.substring(g),selectionStart:I,selectionEnd:I})}}}else if(57===e.keyCode||e.keyCode===c||e.keyCode===h||e.keyCode===u){var z=void 0;57===e.keyCode&&e.shiftKey?z=["(",")"]:e.keyCode===c?z=e.shiftKey?["{","}"]:["[","]"]:e.keyCode===h?z=e.shiftKey?['"','"']:["'","'"]:e.keyCode!==u||e.shiftKey||(z=["`","`"]),d!==g&&z&&(e.preventDefault(),i._applyEdits({value:p.substring(0,d)+z[0]+p.substring(d,g)+z[1]+p.substring(g),selectionStart:d,selectionEnd:g+2}))}else!(y?e.metaKey&&e.keyCode===l:e.ctrlKey&&e.keyCode===l)||e.shiftKey||e.altKey?(y?e.metaKey&&e.keyCode===l&&e.shiftKey:f?e.ctrlKey&&89===e.keyCode:e.ctrlKey&&e.keyCode===l&&e.shiftKey)&&!e.altKey?(e.preventDefault(),i._redoEdit()):77!==e.keyCode||!e.ctrlKey||y&&!e.shiftKey||(e.preventDefault(),i.setState((function(e){return{capture:!e.capture}}))):(e.preventDefault(),i._undoEdit())}},i._handleChange=function(e){var t=e.target,n=t.value,r=t.selectionStart,o=t.selectionEnd;i._recordChange({value:n,selectionStart:r,selectionEnd:o},!0),i.props.onValueChange(n)},i._history={stack:[],offset:-1},s(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this._recordCurrentState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,i=t.style,a=t.padding,s=t.highlight,l=t.textareaId,c=t.autoFocus,h=t.disabled,u=t.form,p=t.maxLength,d=t.minLength,f=t.name,y=t.placeholder,_=t.readOnly,m=t.required,b=t.onClick,k=t.onFocus,S=t.onBlur,C=t.onKeyUp,E=(t.onKeyDown,t.onValueChange,t.tabSize,t.insertSpaces,t.ignoreTabKey,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["value","style","padding","highlight","textareaId","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey"])),w={paddingTop:a,paddingRight:a,paddingBottom:a,paddingLeft:a},x=s(n);return o.createElement("div",r({},E,{style:r({},v.container,i)}),o.createElement("textarea",{ref:function(t){return e._input=t},style:r({},v.editor,v.textarea,w),className:g,id:l,value:n,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:b,onKeyUp:C,onFocus:k,onBlur:S,disabled:h,form:u,maxLength:p,minLength:d,name:f,placeholder:y,readOnly:_,required:m,autoFocus:c,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),o.createElement("pre",r({"aria-hidden":"true",style:r({},v.editor,v.highlight,w)},"string"===typeof x?{dangerouslySetInnerHTML:{__html:x+"<br />"}}:{children:x})),o.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.npm__react-simple-code-editor__textarea:empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .npm__react-simple-code-editor__textarea {\n    color: transparent !important;\n  }\n\n  .npm__react-simple-code-editor__textarea::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"}}))}},{key:"session",get:function(){return{history:this._history}},set:function(e){this._history=e.history}}]),t}(o.Component);_.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},t.Z=_;var v={container:{position:"relative",textAlign:"left",whiteSpace:"pre-wrap",wordBreak:"keep-all",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"inherit",wordBreak:"inherit"}}}}]);
//# sourceMappingURL=5304.c9588514.chunk.js.map