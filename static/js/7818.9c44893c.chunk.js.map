{"version":3,"file":"static/js/7818.9c44893c.chunk.js","mappings":"oRAaA,SAASA,EAAWC,EAAiBC,GACnC,OACED,EAAIE,OACJF,EAAIG,UAAYC,KAAKC,MAAMJ,EAAMD,EAAIM,YACpCL,EAAMD,EAAIM,UAEf,CAAC,SAEcC,EAAOC,EAAAC,GAAA,OAAAC,EAAAC,MAAC,KAADC,UAAA,UAAAF,IAoCrB,OApCqBA,GAAAG,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAtB,SAAAC,EAAuBC,EAAwBC,GAAe,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAR,EAAAA,EAAAA,KAAAS,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACzCT,EAAIU,SAAST,GAAK,OAA3B,IAAJC,EAAIK,EAAAI,OACIT,EAAKU,OAAM,CAAAL,EAAAE,KAAA,cACjB,IAAII,MAAM,4CAA2C,OA2BzD,OAxBAV,EAAY,EAEVE,EAAOH,EACVY,SAAS,QACTC,MAAM,SACNC,QAAO,SAAAC,GAAI,MAAI,KAAKC,KAAKD,EAAK,IAC9BE,KAAI,SAAAF,GAAI,OAAIA,EAAKF,MAAM,KAAK,IAC5BC,QAAO,SAAAI,GAAG,MAAe,KAAXA,EAAI,EAAS,IAC3BD,KAAI,SAAAC,GAMH,OALKhB,GAAWA,EAAQiB,OAASD,EAAI,KACnChB,EAAU,CAAEiB,KAAMD,EAAI,GAAIE,GAAInB,GAC9BA,GAAa,GAGR,CACLmB,GAAIlB,EAAQkB,GACZD,KAAMD,EAAI,GACVR,QAASQ,EAAI,GACbG,MAAO,EACPC,KAAMJ,EAAI,GACVnC,QAASmC,EAAI,GACb/B,YAAa+B,EAAI,GACjBlC,WAAYkC,EAAI,GAEpB,IAAEb,EAAAkB,OAAA,SAEG,CACLJ,KAAMK,OAAOC,YAAYtB,EAAKc,KAAI,SAAAS,GAAK,MAAI,CAACA,EAAMP,KAAMO,EAAM,KAC9DN,GAAII,OAAOC,YAAYtB,EAAKc,KAAI,SAAAS,GAAK,MAAI,CAACA,EAAMN,GAAIM,EAAM,OAC3D,wBAAArB,EAAAsB,OAAA,GAAA9B,EAAA,MACFL,MAAA,KAAAC,UAAA,KAEoBmC,EAAY,WAM/B,SAAAA,EAAAC,GAYC,IAXCC,EAAKD,EAALC,MACAhC,EAAG+B,EAAH/B,IACAiC,EAAIF,EAAJE,KACAC,EAAOH,EAAPG,QAAOC,EAAAJ,EACPK,eAAAA,OAAc,IAAAD,EAAG,IAAOA,EAQxB,IARwBE,EAAAA,EAAAA,GAAA,KAAAP,GAQpBE,EACFM,KAAKN,MAAQA,MACR,KAAIC,EAGT,MAAM,IAAIpB,MAAM,0DAFhByB,KAAKN,MAAQ,IAAIO,EAAAA,GAAUN,E,CAK7B,GAAIjC,EACFsC,KAAKtC,IAAMA,OACN,GAAIkC,EACTI,KAAKtC,IAAM,IAAIuC,EAAAA,GAAUL,OACpB,KAAID,EAGT,MAAM,IAAIpB,MAAM,qDAFhByB,KAAKtC,IAAM,IAAIuC,EAAAA,GAAU,GAADC,OAAIP,EAAI,Q,CAIlCK,KAAKF,eAAiBA,CACxB,CAoIC,OApIAK,EAAAA,EAAAA,GAAAX,EAAA,EAAAY,IAAA,cAAAC,MAAA,eAAAC,GAAAhD,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAED,SAAA+C,EAAkB5C,GAAe,OAAAJ,EAAAA,EAAAA,KAAAS,MAAA,SAAAwC,GAAA,cAAAA,EAAAtC,KAAAsC,EAAArC,MAAA,OAG9B,OAFI6B,KAAKS,UACRT,KAAKS,QAAUzD,EAAQgD,KAAKtC,IAAKC,IAClC6C,EAAArB,OAAA,SACMa,KAAKS,SAAO,wBAAAD,EAAAjB,OAAA,GAAAgB,EAAA,UACpB,gBAAAG,GAAA,OAAAJ,EAAAlD,MAAA,KAAAC,UAAA,EAPA,IASD,CAAA+C,IAAA,mBAAAC,MAAA,eAAAM,GAAArD,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAMA,SAAAoD,EAAuBjD,GAAe,OAAAJ,EAAAA,EAAAA,KAAAS,MAAA,SAAA6C,GAAA,cAAAA,EAAA3C,KAAA2C,EAAA1C,MAAA,OACvB,OADuB0C,EAAAC,GAC7B1B,OAAMyB,EAAA1C,KAAA,EAAa6B,KAAKe,YAAYpD,GAAK,OAAM,OAANkD,EAAAG,GAAAH,EAAAxC,KAAEU,KAAI8B,EAAA1B,OAAA,SAAA0B,EAAAC,GAAxCG,KAAIC,KAAAL,EAAAC,GAAAD,EAAAG,KAAA,wBAAAH,EAAAtB,OAAA,GAAAqB,EAAA,UACnB,gBAAAO,GAAA,OAAAR,EAAAvD,MAAA,KAAAC,UAAA,EARD,IAUA,CAAA+C,IAAA,mBAAAC,MAAA,eAAAe,GAAA9D,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAMA,SAAA6D,EAAuB1D,GAAe,IAAA2D,EAAA7E,EAAA8E,EAAAC,EAAA,OAAAjE,EAAAA,EAAAA,KAAAS,MAAA,SAAAyD,GAAA,cAAAA,EAAAvD,KAAAuD,EAAAtD,MAAA,OACgB,OAA9CmD,EAAe,CAAC,EAA8BG,EAAAtD,KAAA,EAClC6B,KAAKe,YAAYpD,GAAK,OAExC,IAFMlB,EAAGgF,EAAApD,KACHkD,EAAOnC,OAAOsC,OAAOjF,EAAIuC,IACtBwC,EAAI,EAAGA,EAAID,EAAKjD,OAAQkD,GAAK,EACpCF,EAAaC,EAAKC,GAAGzC,MAAQwC,EAAKC,GAAGlD,OACtC,OAAAmD,EAAAtC,OAAA,SACMmC,GAAY,wBAAAG,EAAAlC,OAAA,GAAA8B,EAAA,UACpB,gBAAAM,GAAA,OAAAP,EAAAhE,MAAA,KAAAC,UAAA,EAdD,IAgBA,CAAA+C,IAAA,kBAAAC,MAAA,eAAAuB,GAAAtE,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAMA,SAAAqE,EAAsBC,EAAiBnE,GAAe,IAAAoE,EAAAtF,EAAA,OAAAc,EAAAA,EAAAA,KAAAS,MAAA,SAAAgE,GAAA,cAAAA,EAAA9D,KAAA8D,EAAA7D,MAAA,cAAA6D,EAAA7D,KAAA,EAClC6B,KAAKe,YAAYpD,GAAK,OAA/B,OAAHlB,EAAGuF,EAAA3D,KAAA2D,EAAA7C,OAAA,SACe,QAAjB4C,EAAAtF,EAAIsC,KAAK+C,UAAQ,IAAAC,OAAA,EAAAA,EAAEzD,QAAM,wBAAA0D,EAAAzC,OAAA,GAAAsC,EAAA,UACjC,gBAAAI,EAAAC,GAAA,OAAAN,EAAAxE,MAAA,KAAAC,UAAA,EATD,IAWA,CAAA+C,IAAA,uBAAAC,MAAA,eAAA8B,GAAA7E,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAKA,SAAA4E,EAA2BrD,EAAcpB,GAAe,OAAAJ,EAAAA,EAAAA,KAAAS,MAAA,SAAAqE,GAAA,cAAAA,EAAAnE,KAAAmE,EAAAlE,MAAA,cAAAkE,EAAAlE,KAAA,EACtC6B,KAAKe,YAAYpD,GAAK,OAAW,OAAX0E,EAAAvB,GAAO/B,EAAIsD,EAAAlD,OAAA,WAAAkD,EAAAhE,KAATU,KAAIsD,EAAAvB,KAAA,wBAAAuB,EAAA9C,OAAA,GAAA6C,EAAA,UAC7C,gBAAAE,EAAAC,GAAA,OAAAJ,EAAA/E,MAAA,KAAAC,UAAA,EAPD,IASA,CAAA+C,IAAA,kBAAAC,MAAA,eAAAmC,GAAAlF,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAMA,SAAAiF,EACEC,EACAC,EACAC,EACAjF,GAAe,IAAAkF,EAAA,OAAAtF,EAAAA,EAAAA,KAAAS,MAAA,SAAA8E,GAAA,cAAAA,EAAA5E,KAAA4E,EAAA3E,MAAA,cAAA2E,EAAA3E,KAAA,EAEW6B,KAAKe,YAAYpD,GAAK,OAAI,GAAJmF,EAAAhC,GAAK4B,EAA/CG,EAAUC,EAAAzE,KAAkCW,GAAE8D,EAAAhC,IACnC,CAAFgC,EAAA3E,KAAA,eAAA2E,EAAA3D,OAAA,cACN4D,GAAS,cAAAD,EAAA3D,OAAA,SAEXa,KAAKgD,qBAAqBH,EAAYF,EAAKC,EAAKjF,IAAK,wBAAAmF,EAAAvD,OAAA,GAAAkD,EAAA,UAC7D,gBAAAQ,EAAAC,EAAAC,EAAAC,GAAA,OAAAZ,EAAApF,MAAA,KAAAC,UAAA,EAjBD,IAmBA,CAAA+C,IAAA,oBAAAC,MAAA,eAAAgD,GAAA/F,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAKA,SAAA8F,EACExB,EACAa,EACAC,EACAjF,GAAe,IAAAkF,EAAA,OAAAtF,EAAAA,EAAAA,KAAAS,MAAA,SAAAuF,GAAA,cAAAA,EAAArF,KAAAqF,EAAApF,MAAA,cAAAoF,EAAApF,KAAA,EAEW6B,KAAKe,YAAYpD,GAAK,OAAM,GAAN4F,EAAAzC,GAAOgB,EAAjDe,EAAUU,EAAAlF,KAAkCU,KAAIwE,EAAAzC,IACrC,CAAFyC,EAAApF,KAAA,eAAAoF,EAAApE,OAAA,cACN4D,GAAS,cAAAQ,EAAApE,OAAA,SAGXa,KAAKgD,qBAAqBH,EAAYF,EAAKC,EAAKjF,IAAK,wBAAA4F,EAAAhE,OAAA,GAAA+D,EAAA,UAC7D,gBAAAE,EAAAC,EAAAC,EAAAC,GAAA,OAAAN,EAAAjG,MAAA,KAAAC,UAAA,EAjBD,IAmBA,CAAA+C,IAAA,cAAAC,MAAA,eAAAuD,GAAAtG,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MACA,SAAAqG,EACE/B,EACAa,EACAC,EACAjF,GAAe,OAAAJ,EAAAA,EAAAA,KAAAS,MAAA,SAAA8F,GAAA,cAAAA,EAAA5F,KAAA4F,EAAA3F,MAAA,cAAA2F,EAAA3E,OAAA,SAERa,KAAK+D,kBAAkBjC,EAASa,EAAKC,EAAKjF,IAAK,wBAAAmG,EAAAvE,OAAA,GAAAsE,EAAA,UACvD,gBAAAG,EAAAC,EAAAC,EAAAC,GAAA,OAAAP,EAAAxG,MAAA,KAAAC,UAAA,EARD,IAQC,CAAA+C,IAAA,uBAAAC,MAAA,eAAA+D,GAAA9G,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAED,SAAA6G,EACExB,GAAsB,IAAAF,EAAAhF,EAAAuB,EAAAoF,EAAAC,EAAAC,EAAAC,EAAApH,UAAA,OAAAE,EAAAA,EAAAA,KAAAS,MAAA,SAAA0G,GAAA,cAAAA,EAAAxG,KAAAwG,EAAAvG,MAAA,OAKT,GAFbR,EAAe8G,EAAAnG,OAAA,EAAAmG,EAAA,QAAA1B,EAEX7D,EAHOuF,EAAAnG,OAAA,EAAAmG,EAAA,QAAA1B,KADXJ,EAAG8B,EAAAnG,OAAA,QAAAyE,IAAA0B,EAAA,GAAAA,EAAA,GAAG,GAKI,GAAC,CAAAC,EAAAvG,KAAA,cACH,IAAIwG,UAAU,qCAAoC,OAIzD,SAFW5B,IAAR7D,GAAqBA,EAAM2D,EAAWvE,UACxCY,EAAM2D,EAAWvE,UAEfqE,GAAOzD,GAAG,CAAAwF,EAAAvG,KAAA,eAAAuG,EAAAvF,OAAA,SACL,IAAE,OAI2C,GADhDmF,EAAW9H,EAAWqG,EAAYF,MAClC4B,EAAU/H,EAAWqG,EAAY3D,GAAOoF,GAEhCtE,KAAKF,gBAAc,CAAA4E,EAAAvG,KAAA,eACzB,IAAII,MAAM,gBAAD2B,OACGqE,EAAQK,iBAAgB,wCAAA1E,OAAuCF,KAAKF,eAAe8E,iBAAgB,WACpH,QAGyC,OAAtCJ,EAAWK,EAAOC,YAAYP,GAAQG,EAAAvG,KAAA,GACtC6B,KAAKN,MAAMqF,KAAKP,EAAU,EAAGD,EAASD,EAAU3G,GAAK,eAAA+G,EAAAvF,OAAA,SACpDqF,EAAShG,SAAS,QAAQwG,QAAQ,OAAQ,KAAG,yBAAAN,EAAAnF,OAAA,GAAA8E,EAAA,UACrD,gBAAAY,GAAA,OAAAb,EAAAhH,MAAA,KAAAC,UAAA,EA/BA,MA+BAmC,CAAA,CAzK8B,GCvDZ0F,EAAkB,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GACrC,SAAAA,EAAAzF,GAgBC,IAAA8F,EAfC7F,EAAKD,EAALC,MACAC,EAAIF,EAAJE,KACAjC,EAAG+B,EAAH/B,IACAkC,EAAOH,EAAPG,QACA4F,EAAG/F,EAAH+F,IACAC,EAAOhG,EAAPgG,QACA3F,EAAcL,EAAdK,eAkBC,OAlBaC,EAAAA,EAAAA,GAAA,KAAAmF,GAUdK,EAAAF,EAAAnE,KAAA,KAAM,CAAExB,MAAAA,EAAOC,KAAAA,EAAMjC,IAAAA,EAAKkC,QAAAA,EAASE,eAAAA,IAC/BJ,GAAS8F,EACXD,EAAK7F,MAAQ,IAAIgG,EAAAA,eAAe,CAC9BC,WAAYjG,EACZkG,cAAeJ,IAER7F,GAAQ8F,IACjBF,EAAK7F,MAAQ,IAAIgG,EAAAA,eAAe,CAAE/F,KAAAA,EAAM8F,QAAAA,KACzCF,CACH,CAAC,OAAApF,EAAAA,EAAAA,GAAA+E,EAAA,CA3BoC,CAAQ1F,E,wBCJlC,IAAAO,EAAA8F,EAAAA,OAAAA,QAAA1F,EAAA0F,EAAAA,OAAAA,QACTC,EAAmB9F,MAAQA,KAAK8F,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACA3G,OAAO6G,eAAeC,EAAS,aAAc,CAAE7F,OAAO,IACtD,IAAM8F,EAA6BN,EAAQ,OACrCO,EAA6BN,EAAgBD,EAAQ,QACrDQ,EAA4BP,EAAgBD,EAAQ,OACpDS,EAAqB,WACvB,SAAAA,EAAA7G,GAA8B,IAAhB8G,EAAI9G,EAAJ8G,KAAMC,EAAK/G,EAAL+G,MAChB,GADqBzG,EAAA,KAAAuG,GACD,oBAATC,EACP,MAAM,IAAI5B,UAAU,6BAExB,GAAqB,kBAAV6B,EACP,MAAM,IAAI7B,UAAU,4BAExB,GAAyB,oBAAd6B,EAAMC,KACQ,oBAAdD,EAAME,KACW,oBAAjBF,EAAMG,OACb,MAAM,IAAIhC,UAAU,qEAExB3E,KAAKwG,MAAQA,EACbxG,KAAK4G,aAAeL,CACxB,CAyEC,OAzEApG,EAAAmG,EAAA,EAAAlG,IAAA,QAAAC,MAaD,SAAMD,EAAKd,GACHU,KAAKwG,MAAMC,IAAIrG,KAASd,GACxBU,KAAKwG,MAAMG,OAAOvG,EAE1B,GAAC,CAAAA,IAAA,OAAAC,MACD,SAAKD,EAAKrC,EAAM8I,EAAQC,GAAgB,IAAAvB,EAAA,KAC9BwB,EAAU,IAAIX,EAA2BY,QACzCC,EAAiB,IAAIZ,EAA0BW,QACrDC,EAAeC,YAAYJ,GAC3B,IAAMK,EAAW,CACbJ,QAASA,EACTK,QAASpH,KAAK4G,aAAa7I,EAAMgJ,EAAQF,QAAQ,SAACQ,GAC9CJ,EAAeK,SAASD,EAC5B,IACAE,SAAS,EACTN,eAAAA,EACIO,cACA,OAAOxH,KAAK+G,QAAQF,OAAOW,OAC/B,GAEJL,EAASJ,QAAQU,UAAUZ,GAE3BM,EAASJ,QAAQF,OAAOa,iBAAiB,SAAS,WACzCP,EAASI,SACVhC,EAAKoC,MAAMvH,EAAK+G,EAExB,IAEAA,EAASC,QACJQ,MAAK,WACNT,EAASI,SAAU,CACvB,IAAG,WACCJ,EAASI,SAAU,EAEnBhC,EAAKoC,MAAMvH,EAAK+G,EACpB,IACKU,OAAM,SAAAC,GAIP,MADAC,QAAQC,MAAMF,GACRA,CACV,IACA9H,KAAKwG,MAAME,IAAItG,EAAK+G,EACxB,GAAC,CAAA/G,IAAA,MAAAC,MAkBD,SAAID,GACA,OAAOJ,KAAKwG,MAAMyB,IAAI7H,EAC1B,GAOA,CAAAA,IAAA,MAAAC,MAMA,SAAID,EAAKrC,EAAM8I,EAAQC,GACnB,IAAKD,GAAU9I,aAAgBoI,EAA2B+B,YACtD,MAAM,IAAIvD,UAAU,yGAExB,IAAMwD,EAAanI,KAAKwG,MAAMC,IAAIrG,GAClC,OAAI+H,EACIA,EAAWX,UAAYW,EAAWZ,SAElCvH,KAAK2H,MAAMvH,EAAK+H,GACTnI,KAAKyG,IAAIrG,EAAKrC,EAAM8I,EAAQC,IAEnCqB,EAAWZ,QAEJY,EAAWf,SAItBe,EAAWpB,QAAQU,UAAUZ,GAC7BsB,EAAWlB,eAAeC,YAAYJ,GAC/BR,EAAsB8B,mBAAmBD,EAAWf,QAASP,KAGxE7G,KAAKuG,KAAKnG,EAAKrC,EAAM8I,EAAQC,GACtBR,EAAsB8B,mBAG7BpI,KAAKwG,MAAMC,IAAIrG,GAAKgH,QAASP,GACjC,GACA,CAAAzG,IAAA,SAAAC,MAMA,SAAOD,GACH,IAAMiI,EAAcrI,KAAKwG,MAAMC,IAAIrG,GAC/BiI,IACKA,EAAYd,SACbc,EAAYtB,QAAQuB,QAExBtI,KAAKwG,MAAMG,OAAOvG,GAE1B,GACA,CAAAA,IAAA,QAAAC,MAIA,WAII,IAFA,IAAMkI,EAAUvI,KAAKwG,MAAMvF,OACvBuH,EAAc,EACTC,EAASF,EAAQpK,QAASsK,EAAOC,KAAMD,EAASF,EAAQpK,OAC7D6B,KAAK2G,OAAO8B,EAAOpI,OACnBmI,GAAe,EAEnB,OAAOA,CACX,IAAC,EAAApI,IAAA,mBAAAC,MAhJD,SAAwBsI,GACpB,MAEmB,eAAnBA,EAAU5J,MAGa,gBAAnB4J,EAAUC,MAEY,wBAAtBD,EAAUtB,SAEY,mBAAtBsB,EAAUtB,OAClB,GAAC,CAAAjH,IAAA,qBAAAC,MA6CD,SAA0B+G,EAASP,GAI/B,SAASgC,IACL,GAAIhC,GAAUA,EAAOW,QACjB,MAAMpI,OAAO0J,OAAO,IAAIvK,MAAM,WAAY,CAAEqK,KAAM,eAE1D,CACA,OAAOxB,EAAQQ,MAAK,SAAAa,GAEhB,OADAI,IACOJ,CACX,IAAG,SAAAT,GAEC,MADAa,IACMb,CACV,GACJ,KAAC1B,CAAA,CAxFsB,GAkK3BJ,EAAAA,QAAkBI,C,wBC1KL,IAAAnG,EAAA0F,EAAAA,OAAAA,QAAA9F,EAAA8F,EAAAA,OAAAA,QACbzG,OAAO6G,eAAeC,EAAS,aAAc,CAAE7F,OAAO,IACtD,IAAM8F,EAA6BN,EAAQ,OACrCkD,EAAU5I,GAAA,SAAA4I,IAAAhJ,EAAA,KAAAgJ,EAAA,IAMVC,EAAwB,WAC1B,SAAAA,IAAcjJ,EAAA,KAAAiJ,GACVhJ,KAAKiJ,QAAU,IAAIC,IACnBlJ,KAAKmJ,gBAAkB,IAAIhD,EAA2BiD,eAC1D,CAoCC,OA9BDjJ,EAAA6I,EAAA,EAAA5I,IAAA,YAAAC,MACA,WAAqC,IAAAkF,EAAA,KAA3BsB,EAAMxJ,UAAAiB,OAAA,QAAAyE,IAAA1F,UAAA,GAAAA,UAAA,GAAG,IAAI0L,EACnB,GAAI/I,KAAK6G,OAAOW,QACZ,MAAM,IAAIjJ,MAAM,yCAIpByB,KAAKiJ,QAAQI,IAAIxC,GACbA,EAAOW,QAGPxH,KAAKsJ,cAAczC,GAEqB,oBAA5BA,EAAOa,kBACnBb,EAAOa,iBAAiB,SAAS,WAC7BnC,EAAK+D,cAAczC,EACvB,GAER,GAAC,CAAAzG,IAAA,gBAAAC,MACD,SAAcwG,GACV7G,KAAKiJ,QAAQtC,OAAOE,GACM,IAAtB7G,KAAKiJ,QAAQM,MACbvJ,KAAKmJ,gBAAgBb,OAE7B,GAAC,CAAAlI,IAAA,SAAAqG,IACD,WACI,OAAOzG,KAAKmJ,gBAAgBtC,MAChC,GAAC,CAAAzG,IAAA,QAAAC,MACD,WACIL,KAAKmJ,gBAAgBb,OACzB,KAACU,CAAA,CAxCyB,GA0C9B9C,EAAAA,QAAkB8C,C,uBCnDL,IAAAjJ,EAAA8F,EAAAA,OAAAA,QAAA1F,EAAA0F,EAAAA,OAAAA,QACbzG,OAAO6G,eAAeC,EAAS,aAAc,CAAE7F,OAAO,IAAQ,IACxDmJ,EAAuB,WACzB,SAAAA,IAAczJ,EAAA,KAAAyJ,GACVxJ,KAAKyJ,UAAY,IAAIP,GACzB,CAUC,OAVA/I,EAAAqJ,EAAA,EAAApJ,IAAA,cAAAC,MACD,WAAkC,IAAtBiH,EAAQjK,UAAAiB,OAAA,QAAAyE,IAAA1F,UAAA,GAAAA,UAAA,GAAG,WAAQ,EAC3B2C,KAAKyJ,UAAUJ,IAAI/B,GACnBA,EAAStH,KAAK0J,eAClB,GAAC,CAAAtJ,IAAA,WAAAC,MACD,SAASgH,GACLrH,KAAK0J,eAAiBrC,EACtBrH,KAAKyJ,UAAUE,SAAQ,SAAAC,GACnBA,EAAIvC,EACR,GACJ,KAACmC,CAAA,CAbwB,GAe7BtD,EAAAA,QAAkBsD,C,wBCflBpK,OAAO6G,eAAeC,EAAS,aAAc,CAAE7F,OAAO,IACtD6F,EAAQgC,YAAchC,EAAQkD,qBAAkB,EAChD,IAAMS,EAAiBhE,EAAQ,OAC3BiE,EAAY,WAIZ,GAAoB,qBAATC,KACP,OAAOA,KAEX,GAAsB,qBAAXC,OACP,OAAOA,OAEX,GAAsB,qBAAXC,EAAAA,EACP,OAAOA,EAAAA,EAEX,MAAM,IAAI1L,MAAM,iCACpB,EAEI6K,EAAyD,qBAAhCU,IAAYV,gBAAkCS,EAAeT,gBAAkBU,IAAYV,gBACxHlD,EAAQkD,gBAAkBA,EAE1B,IAAIlB,EAAqD,qBAAhC4B,IAAYV,gBAAkCS,EAAe3B,YAAc4B,IAAY5B,YAChHhC,EAAQgC,YAAcA,C,wBCxBtB,IAAIpC,EAAmB9F,MAAQA,KAAK8F,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACA3G,OAAO6G,eAAeC,EAAS,aAAc,CAAE7F,OAAO,IACtD,IAAM6J,EAA0BpE,EAAgBD,EAAQ,QACxDK,EAAAA,QAAkBgE,EAAwBlD,O","sources":["../../../node_modules/@gmod/indexedfasta/src/indexedFasta.ts","../../../node_modules/@gmod/indexedfasta/src/bgzipIndexedFasta.ts","../../../node_modules/abortable-promise-cache/esm/AbortablePromiseCache.js","../../../node_modules/abortable-promise-cache/esm/AggregateAbortController.js","../../../node_modules/abortable-promise-cache/esm/AggregateStatusReporter.js","../../../node_modules/abortable-promise-cache/esm/abortcontroller-ponyfill.js","../../../node_modules/abortable-promise-cache/esm/index.js"],"sourcesContent":["import { LocalFile, GenericFilehandle } from 'generic-filehandle'\n\ninterface BaseOpts {\n  signal?: AbortSignal\n}\n\ninterface IndexEntry {\n  offset: number\n  lineBytes: number\n  lineLength: number\n  length: number\n}\n\nfunction _faiOffset(idx: IndexEntry, pos: number) {\n  return (\n    idx.offset +\n    idx.lineBytes * Math.floor(pos / idx.lineLength) +\n    (pos % idx.lineLength)\n  )\n}\n\nasync function readFAI(fai: GenericFilehandle, opts?: BaseOpts) {\n  const text = await fai.readFile(opts)\n  if (!(text && text.length)) {\n    throw new Error('No data read from FASTA index (FAI) file')\n  }\n\n  let idCounter = 0\n  let currSeq: { name: string; id: number } | undefined\n  const data = text\n    .toString('utf8')\n    .split(/\\r?\\n/)\n    .filter(line => /\\S/.test(line))\n    .map(line => line.split('\\t'))\n    .filter(row => row[0] !== '')\n    .map(row => {\n      if (!currSeq || currSeq.name !== row[0]) {\n        currSeq = { name: row[0], id: idCounter }\n        idCounter += 1\n      }\n\n      return {\n        id: currSeq.id,\n        name: row[0],\n        length: +row[1],\n        start: 0,\n        end: +row[1],\n        offset: +row[2],\n        lineLength: +row[3],\n        lineBytes: +row[4],\n      }\n    })\n\n  return {\n    name: Object.fromEntries(data.map(entry => [entry.name, entry])),\n    id: Object.fromEntries(data.map(entry => [entry.id, entry])),\n  }\n}\n\nexport default class IndexedFasta {\n  fasta: GenericFilehandle\n  fai: GenericFilehandle\n  chunkSizeLimit: number\n  indexes?: ReturnType<typeof readFAI>\n\n  constructor({\n    fasta,\n    fai,\n    path,\n    faiPath,\n    chunkSizeLimit = 1000000,\n  }: {\n    fasta?: GenericFilehandle\n    fai?: GenericFilehandle\n    path?: string\n    faiPath?: string\n    chunkSizeLimit?: number\n  }) {\n    if (fasta) {\n      this.fasta = fasta\n    } else if (path) {\n      this.fasta = new LocalFile(path)\n    } else {\n      throw new Error('Need to pass filehandle for fasta or path to localfile')\n    }\n\n    if (fai) {\n      this.fai = fai\n    } else if (faiPath) {\n      this.fai = new LocalFile(faiPath)\n    } else if (path) {\n      this.fai = new LocalFile(`${path}.fai`)\n    } else {\n      throw new Error('Need to pass filehandle for  or path to localfile')\n    }\n    this.chunkSizeLimit = chunkSizeLimit\n  }\n\n  async _getIndexes(opts?: BaseOpts) {\n    if (!this.indexes) {\n      this.indexes = readFAI(this.fai, opts)\n    }\n    return this.indexes\n  }\n\n  /**\n   * @returns {array[string]} array of string sequence\n   * names that are present in the index, in which the\n   * array index indicates the sequence ID, and the value\n   * is the sequence name\n   */\n  async getSequenceNames(opts?: BaseOpts) {\n    return Object.keys((await this._getIndexes(opts)).name)\n  }\n\n  /**\n   * @returns {array[string]} array of string sequence\n   * names that are present in the index, in which the\n   * array index indicates the sequence ID, and the value\n   * is the sequence name\n   */\n  async getSequenceSizes(opts?: BaseOpts) {\n    const returnObject = {} as { [key: string]: number }\n    const idx = await this._getIndexes(opts)\n    const vals = Object.values(idx.id)\n    for (let i = 0; i < vals.length; i += 1) {\n      returnObject[vals[i].name] = vals[i].length\n    }\n    return returnObject\n  }\n\n  /**\n   * @returns {array[string]} array of string sequence\n   * names that are present in the index, in which the\n   * array index indicates the sequence ID, and the value\n   * is the sequence name\n   */\n  async getSequenceSize(seqName: string, opts?: BaseOpts) {\n    const idx = await this._getIndexes(opts)\n    return idx.name[seqName]?.length\n  }\n\n  /**\n   *\n   * @param {string} name\n   * @returns {Promise[boolean]} true if the file contains the given reference sequence name\n   */\n  async hasReferenceSequence(name: string, opts?: BaseOpts) {\n    return !!(await this._getIndexes(opts)).name[name]\n  }\n\n  /**\n   *\n   * @param {number} seqId\n   * @param {number} min\n   * @param {number} max\n   */\n  async getResiduesById(\n    seqId: number,\n    min: number,\n    max: number,\n    opts?: BaseOpts,\n  ) {\n    const indexEntry = (await this._getIndexes(opts)).id[seqId]\n    if (!indexEntry) {\n      return undefined\n    }\n    return this._fetchFromIndexEntry(indexEntry, min, max, opts)\n  }\n\n  /**\n   * @param {string} seqName\n   * @param {number} min\n   * @param {number} max\n   */\n  async getResiduesByName(\n    seqName: string,\n    min: number,\n    max: number,\n    opts?: BaseOpts,\n  ) {\n    const indexEntry = (await this._getIndexes(opts)).name[seqName]\n    if (!indexEntry) {\n      return undefined\n    }\n\n    return this._fetchFromIndexEntry(indexEntry, min, max, opts)\n  }\n\n  //alias for getResiduesByName\n  async getSequence(\n    seqName: string,\n    min: number,\n    max: number,\n    opts?: BaseOpts,\n  ) {\n    return this.getResiduesByName(seqName, min, max, opts)\n  }\n\n  async _fetchFromIndexEntry(\n    indexEntry: IndexEntry,\n    min = 0,\n    max: number,\n    opts?: BaseOpts,\n  ) {\n    let end = max\n    if (min < 0) {\n      throw new TypeError('regionStart cannot be less than 0')\n    }\n    if (end === undefined || end > indexEntry.length) {\n      end = indexEntry.length\n    }\n    if (min >= end) {\n      return ''\n    }\n\n    const position = _faiOffset(indexEntry, min)\n    const readlen = _faiOffset(indexEntry, end) - position\n\n    if (readlen > this.chunkSizeLimit) {\n      throw new Error(\n        `data size of ${readlen.toLocaleString()} bytes exceeded chunk size limit of ${this.chunkSizeLimit.toLocaleString()} bytes`,\n      )\n    }\n\n    const residues = Buffer.allocUnsafe(readlen)\n    await this.fasta.read(residues, 0, readlen, position, opts)\n    return residues.toString('utf8').replace(/\\s+/g, '')\n  }\n}\n","import { BgzfFilehandle } from '@gmod/bgzf-filehandle'\nimport { GenericFilehandle } from 'generic-filehandle'\nimport IndexedFasta from './indexedFasta'\n\nexport default class BgzipIndexedFasta extends IndexedFasta {\n  constructor({\n    fasta,\n    path,\n    fai,\n    faiPath,\n    gzi,\n    gziPath,\n    chunkSizeLimit,\n  }: {\n    fasta?: GenericFilehandle\n    path?: string\n    fai?: GenericFilehandle\n    faiPath?: string\n    gzi?: GenericFilehandle\n    gziPath?: string\n    chunkSizeLimit?: number\n  }) {\n    super({ fasta, path, fai, faiPath, chunkSizeLimit })\n    if (fasta && gzi) {\n      this.fasta = new BgzfFilehandle({\n        filehandle: fasta,\n        gziFilehandle: gzi,\n      })\n    } else if (path && gziPath) {\n      this.fasta = new BgzfFilehandle({ path, gziPath })\n    }\n  }\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst abortcontroller_ponyfill_1 = require(\"./abortcontroller-ponyfill\");\nconst AggregateAbortController_1 = __importDefault(require(\"./AggregateAbortController\"));\nconst AggregateStatusReporter_1 = __importDefault(require(\"./AggregateStatusReporter\"));\nclass AbortablePromiseCache {\n    constructor({ fill, cache, }) {\n        if (typeof fill !== 'function') {\n            throw new TypeError('must pass a fill function');\n        }\n        if (typeof cache !== 'object') {\n            throw new TypeError('must pass a cache object');\n        }\n        if (typeof cache.get !== 'function' ||\n            typeof cache.set !== 'function' ||\n            typeof cache.delete !== 'function') {\n            throw new TypeError('cache must implement get(key), set(key, val), and and delete(key)');\n        }\n        this.cache = cache;\n        this.fillCallback = fill;\n    }\n    static isAbortException(exception) {\n        return (\n        // DOMException\n        exception.name === 'AbortError' ||\n            // standard-ish non-DOM abort exception\n            //@ts-ignore\n            exception.code === 'ERR_ABORTED' ||\n            // stringified DOMException\n            exception.message === 'AbortError: aborted' ||\n            // stringified standard-ish exception\n            exception.message === 'Error: aborted');\n    }\n    evict(key, entry) {\n        if (this.cache.get(key) === entry) {\n            this.cache.delete(key);\n        }\n    }\n    fill(key, data, signal, statusCallback) {\n        const aborter = new AggregateAbortController_1.default();\n        const statusReporter = new AggregateStatusReporter_1.default();\n        statusReporter.addCallback(statusCallback);\n        const newEntry = {\n            aborter: aborter,\n            promise: this.fillCallback(data, aborter.signal, (message) => {\n                statusReporter.callback(message);\n            }),\n            settled: false,\n            statusReporter,\n            get aborted() {\n                return this.aborter.signal.aborted;\n            },\n        };\n        newEntry.aborter.addSignal(signal);\n        // remove the fill from the cache when its abortcontroller fires, if still in there\n        newEntry.aborter.signal.addEventListener('abort', () => {\n            if (!newEntry.settled) {\n                this.evict(key, newEntry);\n            }\n        });\n        // chain off the cached promise to record when it settles\n        newEntry.promise\n            .then(() => {\n            newEntry.settled = true;\n        }, () => {\n            newEntry.settled = true;\n            // if the fill throws an error (including abort) and is still in the cache, remove it\n            this.evict(key, newEntry);\n        })\n            .catch(e => {\n            // this will only be reached if there is some kind of\n            // bad bug in this library\n            console.error(e);\n            throw e;\n        });\n        this.cache.set(key, newEntry);\n    }\n    static checkSinglePromise(promise, signal) {\n        // check just this signal for having been aborted, and abort the\n        // promise if it was, regardless of what happened with the cached\n        // response\n        function checkForSingleAbort() {\n            if (signal && signal.aborted) {\n                throw Object.assign(new Error('aborted'), { code: 'ERR_ABORTED' });\n            }\n        }\n        return promise.then(result => {\n            checkForSingleAbort();\n            return result;\n        }, error => {\n            checkForSingleAbort();\n            throw error;\n        });\n    }\n    has(key) {\n        return this.cache.has(key);\n    }\n    /**\n     * Callback for getting status of the pending async\n     *\n     * @callback statusCallback\n     * @param {any} status, current status string or message object\n     */\n    /**\n     * @param {any} key cache key to use for this request\n     * @param {any} data data passed as the first argument to the fill callback\n     * @param {AbortSignal} [signal] optional AbortSignal object that aborts the request\n     * @param {statusCallback} a callback to get the current status of a pending async operation\n     */\n    get(key, data, signal, statusCallback) {\n        if (!signal && data instanceof abortcontroller_ponyfill_1.AbortSignal) {\n            throw new TypeError('second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?');\n        }\n        const cacheEntry = this.cache.get(key);\n        if (cacheEntry) {\n            if (cacheEntry.aborted && !cacheEntry.settled) {\n                // if it's aborted but has not realized it yet, evict it and redispatch\n                this.evict(key, cacheEntry);\n                return this.get(key, data, signal, statusCallback);\n            }\n            if (cacheEntry.settled) {\n                // too late to abort, just return it\n                return cacheEntry.promise;\n            }\n            // request is in-flight, add this signal to its list of signals,\n            // or if there is no signal, the aborter will become non-abortable\n            cacheEntry.aborter.addSignal(signal);\n            cacheEntry.statusReporter.addCallback(statusCallback);\n            return AbortablePromiseCache.checkSinglePromise(cacheEntry.promise, signal);\n        }\n        // if we got here, it is not in the cache. fill.\n        this.fill(key, data, signal, statusCallback);\n        return AbortablePromiseCache.checkSinglePromise(\n        //see https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#non-null-assertion-operator-postfix-\n        //eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        this.cache.get(key).promise, signal);\n    }\n    /**\n     * delete the given entry from the cache. if it exists and its fill request has\n     * not yet settled, the fill will be signaled to abort.\n     *\n     * @param {any} key\n     */\n    delete(key) {\n        const cachedEntry = this.cache.get(key);\n        if (cachedEntry) {\n            if (!cachedEntry.settled) {\n                cachedEntry.aborter.abort();\n            }\n            this.cache.delete(key);\n        }\n    }\n    /**\n     * Clear all requests from the cache. Aborts any that have not settled.\n     * @returns {number} count of entries deleted\n     */\n    clear() {\n        // iterate without needing regenerator-runtime\n        const keyIter = this.cache.keys();\n        let deleteCount = 0;\n        for (let result = keyIter.next(); !result.done; result = keyIter.next()) {\n            this.delete(result.value);\n            deleteCount += 1;\n        }\n        return deleteCount;\n    }\n}\nexports.default = AbortablePromiseCache;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst abortcontroller_ponyfill_1 = require(\"./abortcontroller-ponyfill\");\nclass NullSignal {\n}\n/**\n * aggregates a number of abort signals, will only fire the aggregated\n * abort if all of the input signals have been aborted\n */\nclass AggregateAbortController {\n    constructor() {\n        this.signals = new Set();\n        this.abortController = new abortcontroller_ponyfill_1.AbortController();\n    }\n    /**\n     * @param {AbortSignal} [signal] optional AbortSignal to add. if falsy,\n     *  will be treated as a null-signal, and this abortcontroller will no\n     *  longer be abortable.\n     */\n    //@ts-ignore\n    addSignal(signal = new NullSignal()) {\n        if (this.signal.aborted) {\n            throw new Error('cannot add a signal, already aborted!');\n        }\n        // note that a NullSignal will never fire, so if we\n        // have one this thing will never actually abort\n        this.signals.add(signal);\n        if (signal.aborted) {\n            // handle the abort immediately if it is already aborted\n            // for some reason\n            this.handleAborted(signal);\n        }\n        else if (typeof signal.addEventListener === 'function') {\n            signal.addEventListener('abort', () => {\n                this.handleAborted(signal);\n            });\n        }\n    }\n    handleAborted(signal) {\n        this.signals.delete(signal);\n        if (this.signals.size === 0) {\n            this.abortController.abort();\n        }\n    }\n    get signal() {\n        return this.abortController.signal;\n    }\n    abort() {\n        this.abortController.abort();\n    }\n}\nexports.default = AggregateAbortController;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass AggregateStatusReporter {\n    constructor() {\n        this.callbacks = new Set();\n    }\n    addCallback(callback = () => { }) {\n        this.callbacks.add(callback);\n        callback(this.currentMessage);\n    }\n    callback(message) {\n        this.currentMessage = message;\n        this.callbacks.forEach(elt => {\n            elt(message);\n        });\n    }\n}\nexports.default = AggregateStatusReporter;\n","\"use strict\";\n/* eslint-disable */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbortSignal = exports.AbortController = void 0;\nconst cjs_ponyfill_1 = require(\"abortcontroller-polyfill/dist/cjs-ponyfill\");\nvar getGlobal = function () {\n    // the only reliable means to get the global object is\n    // `Function('return this')()`\n    // However, this causes CSP violations in Chrome apps.\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    throw new Error('unable to locate global object');\n};\n//@ts-ignore\nlet AbortController = typeof getGlobal().AbortController === 'undefined' ? cjs_ponyfill_1.AbortController : getGlobal().AbortController;\nexports.AbortController = AbortController;\n//@ts-ignore\nlet AbortSignal = typeof getGlobal().AbortController === 'undefined' ? cjs_ponyfill_1.AbortSignal : getGlobal().AbortSignal;\nexports.AbortSignal = AbortSignal;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst AbortablePromiseCache_1 = __importDefault(require(\"./AbortablePromiseCache\"));\nexports.default = AbortablePromiseCache_1.default;\n"],"names":["_faiOffset","idx","pos","offset","lineBytes","Math","floor","lineLength","readFAI","_x","_x2","_readFAI","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee10","fai","opts","text","idCounter","currSeq","data","wrap","_context10","prev","next","readFile","sent","length","Error","toString","split","filter","line","test","map","row","name","id","start","end","abrupt","Object","fromEntries","entry","stop","IndexedFasta","_ref","fasta","path","faiPath","_ref$chunkSizeLimit","chunkSizeLimit","_classCallCheck","this","LocalFile","concat","_createClass","key","value","_getIndexes2","_callee","_context","indexes","_x3","_getSequenceNames","_callee2","_context2","t0","_getIndexes","t1","keys","call","_x4","_getSequenceSizes","_callee3","returnObject","vals","i","_context3","values","_x5","_getSequenceSize","_callee4","seqName","_a","_context4","_x6","_x7","_hasReferenceSequence","_callee5","_context5","_x8","_x9","_getResiduesById","_callee6","seqId","min","max","indexEntry","_context6","undefined","_fetchFromIndexEntry","_x10","_x11","_x12","_x13","_getResiduesByName","_callee7","_context7","_x14","_x15","_x16","_x17","_getSequence","_callee8","_context8","getResiduesByName","_x18","_x19","_x20","_x21","_fetchFromIndexEntry2","_callee9","position","readlen","residues","_args9","_context9","TypeError","toLocaleString","Buffer","allocUnsafe","read","replace","_x22","BgzipIndexedFasta","_IndexedFasta","_inherits","_super","_createSuper","_this","gzi","gziPath","BgzfFilehandle","filehandle","gziFilehandle","require","__importDefault","mod","__esModule","defineProperty","exports","abortcontroller_ponyfill_1","AggregateAbortController_1","AggregateStatusReporter_1","AbortablePromiseCache","fill","cache","get","set","delete","fillCallback","signal","statusCallback","aborter","default","statusReporter","addCallback","newEntry","promise","message","callback","settled","aborted","addSignal","addEventListener","evict","then","catch","e","console","error","has","AbortSignal","cacheEntry","checkSinglePromise","cachedEntry","abort","keyIter","deleteCount","result","done","exception","code","checkForSingleAbort","assign","NullSignal","AggregateAbortController","signals","Set","abortController","AbortController","add","handleAborted","size","AggregateStatusReporter","callbacks","currentMessage","forEach","elt","cjs_ponyfill_1","getGlobal","self","window","global","AbortablePromiseCache_1"],"sourceRoot":""}