"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[847,5997],{90847:function(e,t,r){r.r(t),r.d(t,{parseBedBuffer:function(){return p},parseBedPEBuffer:function(){return d},removeBedHeaders:function(){return f}});var n=r(34795),a=r(77162),u=r.n(a),s=r(45997),o="browser ".split("").map((function(e){return e.charCodeAt(0)})),c="track ".split("").map((function(e){return e.charCodeAt(0)})),i="#".split("").map((function(e){return e.charCodeAt(0)}));function m(e,t,r){for(var n=0;n<r.length;n+=1)if(t[e+n]!==r[n])return!1;return!0}function f(e){for(var t=0;t<e.length&&(m(t,e,o)||m(t,e,c)||m(t,e,i));t+=1)do{t+=1}while(10!==e[t]);return t?e.slice(t):e}function p(e,t){return l.apply(this,arguments)}function l(){return(l=(0,n.Z)(u().mark((function e(t,r){var n,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f(t),e.next=3,(0,s.parseTsvBuffer)(n);case 3:return a=e.sent,o=[{name:"chrom",dataType:{type:"LocRef"}},{name:"chromStart",dataType:{type:"LocStart"}},{name:"chromEnd",dataType:{type:"LocEnd"}},{name:"name",dataType:{type:"Text"}},{name:"score",dataType:{type:"Number"}},{name:"strand",dataType:{type:"Text"}}],a.columns.forEach((function(e,t){var r=o[t];r&&(e.name=r.name,e.dataType=r.dataType)})),a.hasColumnNames=!0,a.assemblyName=r.selectedAssemblyName,a.columnDisplayOrder.push(a.columnDisplayOrder.length),a.columns.unshift({name:"Location",dataType:{type:"LocString"},isDerived:!0,derivationFunctionText:"jexl:{text:row.cells[0].text+':'+row.cells[1].text+'..'+row.cells[2].text,\n\n    extendedData: {refName: row.cells.ref.text, start: parseInt(row.cells.start.text,10), end: parseInt(row.cells.end.text,10)}}"}),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return y.apply(this,arguments)}function y(){return(y=(0,n.Z)(u().mark((function e(t,r){var n,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f(t),e.next=3,(0,s.parseTsvBuffer)(n);case 3:return a=e.sent,o=[{name:"chrom1",dataType:{type:"Text"},featureField:["refName"]},{name:"start1",dataType:{type:"Number"},featureField:["start"]},{name:"end1",dataType:{type:"Number"},featureField:["end"]},{name:"chrom2",dataType:{type:"Text"},featureField:["mate","refName"]},{name:"start2",dataType:{type:"Number"},featureField:["mate","start"]},{name:"end2",dataType:{type:"Number"},featureField:["mate","end"]},{name:"name",dataType:{type:"Text"},featureField:["name"]},{name:"score",dataType:{type:"Number"},featureField:["score"]},{name:"strand1",dataType:{type:"Text"},featureField:["strand"]},{name:"strand2",dataType:{type:"Text"},featureField:["mate","strand"]}],a.columns.forEach((function(e,t){var r=o[t];r&&(e.name=r.name,e.dataType=r.dataType)})),a.hasColumnNames=!0,a.rowSet.rows.forEach((function(e,t){var r={};e.cells.forEach((function(e,t){var n=e.text,a=o[t],u=a&&"Number"===a.dataType.type&&n?parseFloat(n):n;a?2===a.featureField.length?(r[a.featureField[0]]||(r[a.featureField[0]]={}),r[a.featureField[0]][a.featureField[1]]=u):r[a.featureField[0]]=u:r["column".concat(t+1)]=u})),r.uniqueId="bedpe-".concat(t),e.extendedData={feature:r}})),a.assemblyName=r.selectedAssemblyName,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},45997:function(e,t,r){r.r(t),r.d(t,{bufferToString:function(){return i},parseCsvBuffer:function(){return d},parseTsvBuffer:function(){return h}});var n=r(33028),a=r(96234),u=r(34795),s=r(77162),o=r.n(s),c=r(81073);function i(e){return new TextDecoder("utf-8",{fatal:!0}).decode(e)}function m(e){return f.apply(this,arguments)}function f(){return f=(0,u.Z)(o().mark((function e(t){var a,u,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,r.e(2745).then(r.t.bind(r,12745,23)).then((function(e){return e.default}));case 3:return u=e.sent,e.abrupt("return",u((0,n.Z)({noheader:!0,output:"csv"},a)).fromString(i(t)));case 5:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(e,t,r){var n,a=e.rows[0].cells[t].text||"",u="Text";try{n=(0,c.parseLocString)(a,r)}catch(s){}return n&&n.refName&&"number"===typeof n.start?u="LocString":/^\d+(\.\d+)?$/.test(a)&&(u="Number"),u}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{hasColumnNameLine:!1,columnNameLineNumber:1,isValidRefName:function(){return!1}},r=0,n={isLoaded:!0,rows:e.map((function(e,n){var a=n+(t.hasColumnNameLine?0:1);return e.length>r&&(r=e.length),{id:String(a),cells:e.map((function(e,t){return{columnNumber:t,text:e}}))}}))},u={};if(t.hasColumnNameLine&&void 0!==t.columnNameLineNumber){var s=n.rows.splice(t.columnNameLineNumber-1,1),o=(0,a.Z)(s,1),i=o[0];i&&i.cells.forEach((function(e,t){u[t]=e.text||""}))}for(var m=[],f=[],l=function(e){f.push(e);var r=p(n,e,t.isValidRefName);"LocString"===r&&n.rows.forEach((function(r){var n=r.cells[e];n.extendedData=(0,c.parseLocString)(n.text,t.isValidRefName)})),m[e]={name:u[e],dataType:{type:r}}},d=0;d<r;d+=1)l(d);return{rowSet:n,columnDisplayOrder:f,hasColumnNames:!!t.hasColumnNameLine,columns:m,assemblyName:t.selectedAssemblyName}}function d(e){return y.apply(this,arguments)}function y(){return y=(0,u.Z)(o().mark((function e(t){var r,n,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{hasColumnNameLine:!1,columnNameLineNumber:1,isValidRefName:function(){return!1}},e.next=3,m(t);case 3:return n=e.sent,e.abrupt("return",l(n,r));case 5:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function h(e){return N.apply(this,arguments)}function N(){return N=(0,u.Z)(o().mark((function e(t){var r,n,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{hasColumnNameLine:!1,columnNameLineNumber:1,isValidRefName:function(){return!1}},e.next=3,m(t,{delimiter:"\t"});case 3:return n=e.sent,e.abrupt("return",l(n,r));case 5:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}}}]);
//# sourceMappingURL=847.27b81a72.chunk.js.map