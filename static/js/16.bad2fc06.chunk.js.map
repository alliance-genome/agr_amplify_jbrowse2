{"version":3,"sources":["../../src/errors.js","../../../src/cramFile/file.js","../../../src/rans/index.js","../../../src/rans/frequencies.js","../../../src/rans/d04.js","../../../src/rans/d14.js","../../../src/cramFile/sectionParsers.js","../../../node_modules/@jkbonfield/htscodecs/index.js","../../../node_modules/@jkbonfield/htscodecs/rans.js","../../../node_modules/bzip2/bzip2.js","../../../node_modules/@jkbonfield/htscodecs/fqzcomp.js","../../../node_modules/@jkbonfield/htscodecs/tok3.js","../../../../src/cramFile/container/index.js","../../../node_modules/md5/md5.js","../../../node_modules/crypt/crypt.js","../../../node_modules/is-buffer/index.js","../../../../src/cramFile/slice/index.js","../../../../src/cramFile/slice/decodeRecord.js","../../../src/cramFile/record.js","../../../node_modules/cross-fetch/dist/browser-ponyfill.js","../../../src/io/bufferCache.js","../../src/sam.js","../../../../src/cramFile/codecs/_base.js","../../../../src/cramFile/codecs/huffman.js","../../../../src/cramFile/codecs/external.js","../../../../src/cramFile/codecs/byteArrayStop.js","../../../../src/cramFile/codecs/byteArrayLength.js","../../../../src/cramFile/codecs/beta.js","../../../../src/cramFile/codecs/gamma.js","../../../../src/cramFile/codecs/subexp.js","../../../../src/cramFile/codecs/index.js","../../../../src/cramFile/container/compressionScheme.js","../../../src/cramFile/index.js","../../src/indexedCramFile.js","../../src/craiIndex.js","../../../node_modules/@gmod/binary-parser/dist/binary_parser.js","../../../node_modules/@gmod/binary-parser/vm-browser.js","../../../node_modules/@gmod/binary-parser/dist/context.js","../../../node_modules/@jkbonfield/htscodecs/iostream.js","../../../src/cramFile/util.js","../../../src/rans/decoding.js","../../../src/rans/constants.js","../../../node_modules/@gmod/cram/node_modules/quick-lru/index.js","../../../src/cramFile/constants.js","../../src/unzip-pako.ts","../../../node_modules/@jkbonfield/htscodecs/rans4x16.js","../../../node_modules/@jkbonfield/htscodecs/arith_gen.js","../../../node_modules/@jkbonfield/htscodecs/arith_sh.js","../../../node_modules/@jkbonfield/htscodecs/byte_model.js","../../../node_modules/charenc/charenc.js","../../../src/io/index.js","../../../src/io/remoteFile.js"],"names":["CramError","Error","CramUnimplementedError","CramMalformedError","CramBufferOverrunError","CramSizeLimitError","CramArgumentError","CramFile","args","file","open","url","path","filehandle","validateChecksums","fetchReferenceSequenceCallback","seqFetch","options","checkSequenceMD5","cacheSize","undefined","featureCache","LRU","maxSize","filename","buffer","offset","length","position","read","stat","headbytes","Buffer","allocUnsafe","cramFileDefinitionParser","maxLength","definition","parser","parse","result","majorVersion","getContainerById","firstContainer","getFirstBlock","content","headerLength","readInt32LE","text","toString","header","parseHeaderText","getSamHeader","getDefinition","getSectionParsers","containerNumber","sectionParsers","cramFileDefinition","fileSize","size","cramContainerHeader1","i","currentContainer","getContainerAtPosition","getHeader","currentHeader","_endPosition","j","numBlocks","readBlock","block","_size","recordedCrc32","description","b","calculatedCrc32","crc32","unsigned","containerCount","CramContainer","cramBlockHeader","parseItem","section","preReadBuffer","data","compressionMethod","inputBuffer","outputBuffer","unzip","copy","bits","bzip2","array","chunk","decompress","from","ransuncompress","htscodecs","r4x16_uncompress","arith_uncompress","fqzcomp_uncompress","tok3_uncompress","readBlockHeader","blockContentPosition","contentPosition","uncompressedData","uncompressedSize","compressedData","compressedSize","_uncompress","_parseSection","cramBlockCrc32","crc","checkCrc32","split","forEach","tinyMemoize","method","uncompressOrder0Way4","input","out","D","Decoding","AriDecoder","syms","Array","Symbol","readStatsO0","D04","uncompressOrder1Way4","output","readStatsO1","D14","ByteBuffer","nodeBuffer","initialInputPosition","_buffer","_position","get","val","pos","uncompress","fill","order","inputSize","getInt","remaining","outputSize","assert","cp","decoder","rle","x","fc","FC","F","C","symbolInit","R","TOTFREQ","getByteAt","rlei","rlej","RansDecSymbol","c","rans0","rans1","rans2","rans3","outputEnd","c0","TF_SHIFT","c1","c2","c3","putAt","advanceSymbolStep","renormalize","setPosition","advanceSymbol","put","rans7","isz4","i0","i1","i2","i7","l0","l1","l2","l7","c7","singleItf8","Parser","itf8","string","uint8","stripNull","formatter","type","uint32","cramTagDictionary","makeTagSet","stringStart","stringEnd","str","tags","push","substr","tagSets","parseByteAsBool","cramPreservationMap","choice","tag","choices","MI","UI","PI","RN","AP","RR","SM","TD","nest","ents","formatMap","map","key","value","console","warn","unversionedParsers","versionedParsers","cramUnmappedSliceHeader","ltf8","numContentIds","cramMappedSliceHeader","cramEncoding","namely","start","cramDataSeriesEncodingMap","cramTagEncodingMap","String","fromCharCode","integerRepresentation","cramCompressionHeader","int32","cramContainerHeader2","crcLength","numLandmarks","parsers","Object","assign","keys","parserName","r4x8","require","r4x16","arith","fqzcomp","tok3","module","exports","r4x8_uncompress","decode","q_lens","IOStream","RansGetCumulativeFreq","RansGetSymbolFromFreq","f","s","RansBuildC2S","C2S","RansAdvanceStep","RansRenorm","src","ReadByte","RansEncFlush","dst","WriteByteNeg","RansEncPut","freq","scale_bits","R_max","RansEncRenorm","Math","floor","ReadFrequencies0","sym","last_sym","ReadITF8","NormaliseFrequencies0","tot","max","scale","max_val","max_idx","renorm","WriteFrequencies0","WriteByte","WriteITF8","stream","n_out","ReadUint32","nbytes","i4","RansDecode0","ReadFrequencies1","L","nbytes4","RansDecode1","encode","WriteUint32","BuildFrequencies0","alloc","rans_out","freq_tab","buf","writeInt32LE","concat","slice","RansEncode0","F0","last","BuildFrequencies1","NormaliseFrequencies1","WriteFrequencies1","idx","RansEncode1","bytes","bit","byte","BITMASK","n","left","all","chunks","index","byteLength","Uint8Array","set","len","bufsize","h","origPtr","t","symToByte","symTotal","k","groupCount","nSelectors","mtfSymbol","selectors","uc","splice","symCount","groups","minLen","maxLen","hufGroup","temp","MAX_HUFCODE_BITS","permute","Uint32Array","limit","base","subarray","pp","runPos","count","selector","byteCount","GROUP_SIZE","nextSym","current","run","copies","previous","outbyte","Infinity","ByteModel","RangeCoder","read_array","tab","z","run_len","part","fqz_update_ctx","params","state","q","context","qctx","qshift","qtab","qbits","qloc","do_pos","ptab","min","p","ploc","do_delta","dtab","delta","dloc","prevq","do_sel","sloc","decode_fqz_single_param","ReadUint16","pflags","do_dedup","fixed_len","do_qmap","do_qtab","max_sym","qmap","decode_fqz_new_record","rc","gparams","model","rev","max_sel","sel","ModelDecode","stab","do_rev","rec","is_dup","dup","decode_fqz","ReadUint7","gflags","nparam","error","decode_fqz_params","qual","fqz_create_models","RangeStartDecode","Q","qual_len","tmp","reverse_qualities","store_array","tmp1","sz1","i_start","r","tmp2","sz2","curr","WriteData","q_dirs","qhist","WriteUint7","qd_last","qd_fixed","nsym","pbits","pshift","dbits","dshift","sbits","do_stab","pick_fqz_params","dsqr","WriteUint16","encode_fqz_params","n_in","model_qual","model_len","model_sel","ModelEncode","process","exit","qlast","q1","RangeFinishEncode","encode_fqz","rans","LeftPadNumber","DecodeSingleName","B","N","T","m","ReadChar","ReadString","d","l","FillByteStreams","tnum","names","max_tok","max_len","WriteString","WriteChar","SerialiseByteStreams","use_arith","comp","try_compress","best","methods","lvl","e","TokeniseName","H","name","tok","match","substring","ntok","TOK_END","separator","nnames","in_size","EOF","ttype","tok_new","tok_dup","M","dup_pos","dup_type","clen","ReadData","DecodeTokenByteStreams","cramFile","filePosition","_readContainerHeader","numRecords","contentType","containerHeader","getCompressionHeaderBlock","CramContainerCompressionScheme","slicePosition","sliceSize","CramSlice","bytes1","header1","numLandmarksSize","itf8Size","bytes2","header2","completeHeader","crypt","utf8","isBuffer","bin","md5","message","constructor","encoding","stringToBytes","prototype","call","isArray","bytesToWords","a","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","endian","_blocksize","_digestsize","digestbytes","wordsToBytes","asBytes","asString","bytesToString","bytesToHex","base64map","rotl","rotr","Number","randomBytes","random","words","hex","join","hexToBytes","parseInt","bytesToBase64","base64","triplet","charAt","base64ToBytes","replace","imod4","indexOf","pow","obj","readFloatLE","isSlowBuffer","_isBuffer","associateIntraSliceMate","allRecords","currentRecordNumber","thisRecord","mateRecord","complicatedMultiSegment","mate","mateRecordNumber","readName","uniqueId","sequenceId","alignmentStart","flags","Constants","BAM_FPAIRED","BAM_FUNMAP","BAM_FMUNMAP","BAM_FREVERSE","BAM_FMREVERSE","templateLength","matedRecords","getAllMatedRecords","startRecord","records","starts","ends","readLength","estimatedTemplateLength","calculateMultiSegmentMatedTemplateLength","lengthEstimate","calculateIntraSliceMatePairTemplateLength","container","containerPosition","_contentType","blockPosition","blocks","getBlocks","blocksByContentId","contentId","id","_getBlocksContentIdIndex","sliceHeader","refSeqId","getCompressionScheme","compressionScheme","refBaseBlockId","refBlock","getBlockByContentId","span","seq","refSeqStart","end","refSeqSpan","referenceRequired","getRecords","getReferenceRegion","refRegion","seqMd5","sequenceMD5","storedMd5","getCoreDataBlock","coreDataBlock","cursors","lastAlignmentStart","coreBlock","bitPosition","bytePosition","externalBlocks","getCursor","decodeDataSeries","codec","getCodecForDataSeries","dataSeriesName","decodeRecord","recordCounter","filter","filterFunction","cacheKey","recordsPromise","_fetchRecords","singleRefId","refRegions","seqId","lengthOnRef","Promise","values","addReferenceSequence","readNullTerminatedStringFromBuffer","zeroOffset","parseTagData","tagType","Long","fromBytesLE","greaterThan","MAX_SAFE_INTEGER","lessThan","MIN_SAFE_INTEGER","toNumber","readInt16LE","readUInt16LE","readInt8","readUInt8","arrayType","schema","S","I","getMethod","itemSize","parseTagValueArray","thingToString","thing","termIndex","recordNumber","cramRecord","CramRecord","cramFlags","APdelta","readGroupId","readNamesIncluded","isDetached","templateSize","CRAM_M_UNMAP","CRAM_M_REVERSE","hasMateDownStream","TLindex","TN","getTagNames","ntags","tagId","tagName","tagCodec","getCodecForTag","tagData","isSegmentUnmapped","isUnknownBases","readBases","qualityScores","bases","isPreservingQualityScores","readFeatureCount","readFeatures","currentReadPos","currentRefPos","decodeRFData","toArray","code","readPosDelta","readFeature","data1Schema","X","P","data2Schema","refPos","decodeReadFeatures","isNaN","mappingQuality","baseNumbers","A","g","G","BAM_FPROPER_PAIR","BAM_FREAD1","BAM_FREAD2","BAM_FSECONDARY","BAM_FQCFAIL","BAM_FDUP","BAM_FSUPPLEMENTARY","CRAM_FLAG_DETACHED","CRAM_FLAG_MATE_DOWNSTREAM","CRAM_FLAG_PRESERVE_QUAL_SCORES","CRAM_FLAG_NO_SEQ","_refRegion","regionSeqOffset","toUpperCase","regionPos","currentReadFeature","feature","ret","added","sub","decodeReadSequence","isPaired","isMateUnmapped","s1","isReverseComplemented","s2","isMateReverseComplemented","o1","o2","isRead1","isRead2","isize","refCoord","refBase","ref","baseNumber","substitutionMatrix","decodeBaseSubstitution","getReadBases","global","self","this","__self__","fetch","DOMException","support","Blob","viewClasses","isArrayBufferView","ArrayBuffer","isView","normalizeName","test","TypeError","toLowerCase","normalizeValue","iteratorFor","items","iterator","next","shift","done","Headers","headers","append","getOwnPropertyNames","consumed","body","bodyUsed","reject","fileReaderReady","reader","resolve","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","view","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","rejected","arrayBuffer","then","readAsText","readBlobAsText","chars","readArrayBufferAsText","formData","json","JSON","oldValue","has","hasOwnProperty","callback","thisArg","entries","Request","credentials","mode","signal","upcased","normalizeMethod","referrer","form","trim","decodeURIComponent","parseHeaders","rawHeaders","line","parts","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","err","stack","create","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","defineProperty","ponyfill","ctx","default","BufferCache","chunkSize","lruCache","firstChunk","lastChunk","fetches","_getChunk","chunkNumber","chunksOffset","chunkPositionStart","copyStart","copyEnd","copyOffset","cachedPromise","freshPromise","lines","parsedFields","validDataTypes","int","long","byteArray","byteArrayBlock","CramCodec","parameters","dataType","cursor","numBits","dlen","HuffmanIntCodec","includes","buildCodeBook","buildCodes","buildCaches","sortedCodes","bitLength","_decode","_decodeZeroLengthCode","codes","numCodes","symbol","symbols","bitLengths","sort","codeBook","codeLength","codeValue","bitCode","ii","numberOfSetBits","sortedByValue","sortedValuesByBitCode","sortedBitCodes","sortedBitLengthsByBitCode","maxBitCode","bitCodeToValue","coreCursor","prevLen","_getBits","ExternalCodec","_decodeData","_decodeInt","_decodeByte","blockContentId","contentBlock","parseItf8","bytesRead","ByteArrayStopCodec","_decodeByteArray","dataBuffer","stopByte","startPosition","stopPosition","instantiateCodec","arrayLength","_getLengthCodec","dataCodec","_getDataCodec","encodingParams","lengthsEncoding","valuesEncoding","BetaCodec","GammaCodec","SubexpCodec","numLeadingOnes","K","codecClasses","ByteArrayLengthCodec","encodingData","CodecClass","codecId","dataSeriesTypes","BF","CF","RI","RL","RG","MF","NS","NP","TS","NF","TC","FN","FP","BS","IN","SC","DL","BA","BB","RS","PD","HC","MQ","QS","QQ","TL","TM","TV","preservation","tagIdsDictionary","matrix","parseSubstitutionMatrix","dataSeriesCodecCache","tagCodecCache","tagEncoding","tagListId","dataSeriesEncoding","IndexedCramFile","cram","cramUrl","cramPath","cramFilehandle","getEntriesForRange","fetchSizeLimit","opts","viewAsPairs","pairAcrossChr","maxInsertSize","slices","totalSize","sliceBytes","reduce","toLocaleString","getRecordsInSlice","sliceResults","readNames","readIds","unmatedPairs","matePromises","abs","mateSlices","mateBlocks","mateChunks","localeCompare","item","ary","mateRecordPromises","mateFeatPromises","mateTotalSize","recordPromise","featPromise","mateRecs","feats","newMateFeats","newMates","containerStart","sliceStart","getSlice","hasDataForReferenceSequence","Slice","addRecordToIndex","record","some","el","CraiIndex","_parseCache","AbortablePromiseCache","cache","QuickLRU","parseIndex","readFile","bind","uncompressedBuffer","readUInt32LE","currentRecord","currentString","charCode","ent","getIndex","queryStart","queryEnd","seqEntries","compare","entryStart","entry","entryEnd","bins","_typeof","vm","Context","window","PRIMITIVE_TYPES","UInt8","UInt16LE","UInt16BE","UInt32LE","UInt32BE","Int8","Int16LE","Int16BE","Int32LE","Int32BE","FloatLE","FloatBE","DoubleLE","DoubleBE","UInt64","Int64","aliasRegistry","FUNCTION_PREFIX","BIT_RANGE","NAME_MAP","Skip","Choice","Nest","Bit","Itf8","Ltf8","varName","head","compiled","constructorFn","alias","setNextParser","typeWithoutEndian","skip","zeroTerminated","greedy","readUntil","lengthInBytes","arguments","endianess","Function","getCode","pushCode","generateError","addAliasedCode","addRawCode","generate","resolveReferences","markResolved","references","getUnresolvedReferences","markRequested","compile","runInThisContext","sizeOf","NaN","elementSize","generateAssert","generateVariable","generateFormatter","generateNext","generateBit","stringify","bitFields","sum","generateTmpVariable","val1","val2","bitOffset","isBigEndian","generateSkip","generateOption","generateString","generateBuffer","generateArray","counter","lhs","isHash","tempVar","addReference","pushScope","popScope","generateChoiceCase","pushPath","popPath","generateChoice","defaultChoice","generateNest","nestVar","isInteger","generateItf8","countFlags","generateLtf8","globalThis","scopes","isAsync","tmpVariableCount","arr","apply","pop","interpolate","resolved","requested","aliasList","re","matches","start_pos","charCodeAt","u","v","initialOffset","startBufferPosition","startFilePosition","_class","methodName","memoAttrName","res","catch","advanceStep","scaleBits","Decode","pptr","RANS_BYTE_L","advance","Map","oldCache","_set","deleted","delete","clear","oldCacheSize","CRAM_FLAG_MASK","BAM_CMATCH","BAM_CINS","BAM_CDEL","BAM_CREF_SKIP","BAM_CSOFT_CLIP","BAM_CHARD_CLIP","BAM_CPAD","BAM_CEQUAL","BAM_CDIFF","BAM_CBACK","BAM_CIGAR_STR","BAM_CIGAR_SHIFT","BAM_CIGAR_MASK","BAM_CIGAR_TYPE","inflate","RansEncodeStripe","hdr","ulen","total","comp0","comp1","RansDecodeStream","format","stripe","cat","pack","RansDecodeStripe","pack_len","DecodePackMeta","rle_len","u_meta_len","rle_meta","comp_meta_len","DecodeRLEMeta","freq_src","ReadAlphabet","NormaliseFrequencies0_Shift","DecodeRLE","DecodePack","pack_meta","ceil","meta","EncodePack","nrle","dpos","cmeta","EncodeRLE","bit_size","log2","WriteAlphabet","cfreq","NormaliseFrequencies1_Shift","ARITH_PACK","decodeStream","e_len","decodeStripe","decodePackMeta","decodeCat","decodeExt","decodeRLE1","decodeRLE0","decode1","decode0","decodePack","encodeStripe","encodePack","WriteStream","encodeRLE1","encodeRLE0","encode1","encode0","byte_model","model_lit","model_run","rctx","packMeta","low","range","FFnum","carry","tot_freq","sym_low","sym_freq","old_low","log","RangeShiftLow","total_freq","RangeGetFrequency","acc","RangeDecode","ModelRenormalise","RangeEncode","charenc","unescape","encodeURIComponent","escape","maybeUrl","maybePath","maybeFilehandle","source","protocol","pathname","LocalFile","RemoteFile","fromUrl","_fetch","sizeMatch","exec","_stat","readPosition"],"mappings":"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","file":"static/js/16.bad2fc06.chunk.js","sourcesContent":[null,null,null,null,null,null,null,"/*\n * Copyright (c) 2020 Genome Research Ltd.\n * Author(s): James Bonfield\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice,\n *       this list of conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above\n *       copyright notice, this list of conditions and the following\n *       disclaimer in the documentation and/or other materials provided\n *       with the distribution.\n *\n *    3. Neither the names Genome Research Ltd and Wellcome Trust Sanger\n *       Institute nor the names of its contributors may be used to endorse\n *       or promote products derived from this software without specific\n *       prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY GENOME RESEARCH LTD AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED\n * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A\n * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GENOME RESEARCH\n * LTD OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n// This is an interface to the htscodecs reference implementation of\n// the CRAM 3.1 codecs.\n\n// This JavaScript file is not part of the reference implementation\n// and is simply and interface to get a consistent interface for cram-js.\n\n\"use strict\";\n\nvar r4x8    = require('./rans');\nvar r4x16   = require('./rans4x16');\nvar arith   = require('./arith_gen');\nvar fqzcomp = require('./fqzcomp');\nvar tok3    = require('./tok3');\n\nfunction r4x8_uncompress(inputBuffer, outputBuffer) {\n    r4x8.decode(inputBuffer).copy(outputBuffer, 0, 0);\n}\n\nfunction r4x16_uncompress(inputBuffer, outputBuffer) {\n    r4x16.decode(inputBuffer).copy(outputBuffer, 0, 0);\n}\n\nfunction arith_uncompress(inputBuffer, outputBuffer) {\n    arith.decode(inputBuffer).copy(outputBuffer, 0, 0);\n}\n\nfunction fqzcomp_uncompress(inputBuffer, outputBuffer) {\n    var q_lens = new Array\n    fqzcomp.decode(inputBuffer, q_lens).copy(outputBuffer, 0, 0);\n}\n\nfunction tok3_uncompress(inputBuffer, outputBuffer) {\n    // Returns in string form instead of buffer\n    var out = tok3.decode(inputBuffer, 0, '\\0');\n    Buffer.from(out, 'binary').copy(outputBuffer, 0, 0);\n}\n\nmodule.exports = {\n  r4x8_uncompress:    r4x8_uncompress,\n  r4x16_uncompress:   r4x16_uncompress,\n  arith_uncompress:   arith_uncompress,\n  fqzcomp_uncompress: fqzcomp_uncompress,\n  tok3_uncompress:    tok3_uncompress,\n};\n","/*\n * Copyright (c) 2019-2020 Genome Research Ltd.\n * Author(s): James Bonfield\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice,\n *       this list of conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above\n *       copyright notice, this list of conditions and the following\n *       disclaimer in the documentation and/or other materials provided\n *       with the distribution.\n *\n *    3. Neither the names Genome Research Ltd and Wellcome Trust Sanger\n *       Institute nor the names of its contributors may be used to endorse\n *       or promote products derived from this software without specific\n *       prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY GENOME RESEARCH LTD AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED\n * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A\n * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GENOME RESEARCH\n * LTD OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nconst IOStream = require(\"./iostream\");\n\n//----------------------------------------------------------------------\n// rANS primitives itself\n//\n// RansGet* is decoder side\n\nfunction RansGetCumulativeFreq(R) {\n    return R & 0xfff;\n}\n\nfunction RansGetSymbolFromFreq(C, f) {\n    // NOTE: Inefficient.\n    // In practice we would implement this via a precomputed\n    // lookup table C2S[f]; see RansBuildC2S below.\n    var s = 0;\n    while (f >= C[s+1])\n\ts++;\n\n    return s;\n}\n\nfunction RansBuildC2S(C) {\n    var C2S = new Array(0x1000);\n    var s = 0;\n    for (var f = 0; f < 0x1000; f++) {\n\twhile (f >= C[s+1])\n\t    s++;\n\tC2S[f] = s;\n    }\n    return C2S;\n}\n\nfunction RansAdvanceStep(R, c, f) {\n    return f * (R >> 12) + (R & 0xfff) - c;\n}\n\nfunction RansRenorm(src, R) {\n    while (R < (1<<23))\n\tR = (R << 8) + src.ReadByte();\n\n    return R;\n}\n\n\n// RanEnc* is for encoder\nfunction RansEncInit() {\n    return 1<<23;\n}\n\nfunction RansEncFlush(R, dst) {\n    dst.WriteByteNeg((R >> 24) & 0xff);\n    dst.WriteByteNeg((R >> 16) & 0xff);\n    dst.WriteByteNeg((R >>  8) & 0xff);\n    dst.WriteByteNeg((R >>  0) & 0xff);\n}\n\nfunction RansEncRenorm(R, dst, freq, scale_bits) {\n    var R_max = (((1 << 23) >> scale_bits) << 8) * freq;\n\n    while (R >= R_max) {\n\tdst.WriteByteNeg(R & 0xff);\n\tR >>= 8;\n    }\n    return R;\n}\n\n// Puts a symbol with frequency freq, cumulative freq start\n// and total freq 1<<scale_bits.\n//\n// Note with static probabilities, /freq and %freq could be\n// precomputed via multiplies and shifts.\nfunction RansEncPut(R, dst, start, freq, scale_bits) {\n    var scale = 1<<scale_bits;\n    R = RansEncRenorm(R, dst, freq, scale_bits);\n    R = (Math.floor(R / freq) << scale_bits) + (R % freq) + start;\n    return R;\n}\n\n//----------------------------------------------------------------------\n// Main rANS entry function: decodes a compressed src and\n// returns the uncompressed buffer.\nfunction decode(src) {\n    var stream = new IOStream(src);\n    var order = stream.ReadByte();\n    var n_in  = stream.ReadUint32();\n    var n_out = stream.ReadUint32();\n\n    if (order == 0) {\n\treturn RansDecode0(stream, n_out)\n    } else {\n\treturn RansDecode1(stream, n_out)\n    }\n}\n\nfunction encode(src, order) {\n    //var stream = new IOStream(src);\n    //var n_in  = stream.ReadUint32();\n    //var n_out = stream.ReadUint32();\n\n    if (order == 0) {\n\treturn RansEncode0(src)\n    } else {\n\treturn RansEncode1(src)\n    }\n}\n\n//----------------------------------------------------------------------\n// Order-0 decoder\n\n// Decode a single table of order-0 frequences,\n// filling out the F and C arrays.\nfunction ReadFrequencies0(src, F, C) {\n    // Initialise; not in the specification - implicit?\n    for (var i = 0; i < 256; i++)\n\tF[i] = 0;\n\n    var sym = src.ReadByte();\n    var last_sym = sym;\n    var rle = 0;\n\n    // Read F[]\n    do {\n\tvar f = src.ReadITF8();\n\tF[sym] = f;\n\tif (rle > 0) {\n\t    rle--;\n\t    sym++;\n\t} else {\n\t    sym = src.ReadByte();\n\t    if (sym == last_sym+1)\n\t\trle = src.ReadByte();\n\t}\n\tlast_sym = sym;\n    } while (sym != 0);\n\n    // Compute C[] from F[]\n    C[0] = 0;\n    for (var i = 0; i <= 255; i++)\n\tC[i+1] = C[i] + F[i];\n}\n\nfunction RansDecode0(src, nbytes) {\n    // Decode frequencies\n    var F = new Array(256);\n    var C = new Array(256);\n    ReadFrequencies0(src, F, C);\n\n    // Fast lookup to avoid slow RansGetSymbolFromFreq\n    var C2S = RansBuildC2S(C);\n\n    // Initialise rANS state\n    var R = new Array(4);\n    for (var i = 0; i < 4; i++)\n\tR[i] = src.ReadUint32();\n\n    // Main decode loop\n    var output = new Buffer.allocUnsafe(nbytes);\n    for (var i = 0; i < nbytes; i++) {\n\tvar i4 = i%4;\n\tvar f = RansGetCumulativeFreq(R[i4]);\n\tvar s = C2S[f]; // Equiv to RansGetSymbolFromFreq(C, f);\n\n\toutput[i] = s;\n\tR[i4] = RansAdvanceStep(R[i4], C[s], F[s]);\n\tR[i4] = RansRenorm(src, R[i4]);\n    }\n\n    return output;\n}\n\n//----------------------------------------------------------------------\n// Order-0 encoder\n\nfunction BuildFrequencies0(src, F) {\n    for (var i = 0; i < 256; i++)\n\tF[i] = 0;\n\n    for (var i = 0; i < src.length; i++)\n\tF[src[i]]++;\n}\n\nfunction NormaliseFrequencies0(F) {\n    // Compute total\n    var tot = 0;\n    for (var i = 0; i < 256; i++)\n\ttot += F[i];\n\n    // Scale total of frequencies to max\n    const max = (1<<12);\n    var scale = max / tot;\n    do {\n\tvar max_val = 0;\n\tvar max_idx = 0;\n\tvar renorm = 0;\n\ttot = 0;\n\tfor (var i = 0; i < 256; i++) {\n\t    if (F[i] == 0)\n\t\tcontinue\n\n\t    if (max_val < F[i]) {\n\t\tmax_val = F[i]\n\t\tmax_idx = i\n\t    }\n\n\t    F[i] = Math.floor(F[i] * scale);\n\t    if (F[i] == 0)\n\t\tF[i] = 1;\n\n\t    tot += F[i];\n\t}\n\n\t// Adjust new tot to ensure it matches.\n\tif (tot < max) {\n\t    // Too low, boost the most common symbol\n\t    F[max_idx] += max-tot;\n\t} else if (tot-max < F[max_idx]/2 && F[max_idx] > 2) {\n\t    // Too high, reduce the common symbol\n\t    F[max_idx] -= tot-max;\n\t} else if (tot != max) {\n\t    // Much too high, fudge scale and try again.\n\t    scale = scale * 0.99\n\t    renorm = 1;\n\t}\n    } while (renorm)\n}\n\nfunction WriteFrequencies0(out, F) {\n    var rle = 0;\n    for (var i = 0; i < 256; i++) {\n\tif (!F[i])\n\t    continue\n\n\t// Output Symbol if needed and Frequency\n\tif (rle > 0)\n\t    rle--\n\telse {\n\t    out.WriteByte(i)\n\n\t    if (i > 0 && F[i-1] > 0) {\n\t\t// We've encoded two symbol frequencies in a row.\n\t\t// How many more are there?  Store that count so\n\t\t// we can avoid writing consecutive symbols.\n\t\tfor (rle = i+1; rle<256 && F[rle]; rle++)\n\t\t    ;\n\t\trle -= i+1;\n\n\t\tout.WriteByte(rle);\n\t    }\n\t}\n\n\tout.WriteITF8(F[i])\n    }\n    out.WriteByte(0);\n}\n\nfunction RansEncode0(src) {\n    const nbytes = src.length\n    var output = new IOStream(\"\", 0, 257*3+9);\n\n    output.WriteByte(0);   // Order 0\n    output.WriteUint32(0); // compressed size: correct later\n    output.WriteUint32(0); // uncompressed size: correct later\n\n    // Compute frequencies\n    var F = new Array(256)\n    BuildFrequencies0(src, F)\n    NormaliseFrequencies0(F);\n    WriteFrequencies0(output, F);\n\n    // Compute cumulative frequencies\n    var C = new Array(256)\n    C[0] = 0;\n    for (var i = 1; i < 256; i++)\n\tC[i] = C[i-1] + F[i-1];\n\n    // Initialise rANS state\n    var R = new Array(4);\n    for (var i = 0; i < 4; i++)\n\tR[i] = RansEncInit();\n\n    var alloc = Math.floor(nbytes*1.05+100)\n    var rans_out = new IOStream(\"\", alloc, alloc)\n\n    // Main encode loop\n    for (var i = nbytes-1; i >= 0; i--)\n\tR[i%4] = RansEncPut(R[i%4], rans_out, C[src[i]], F[src[i]], 12);\n\n    for (var i = 3; i >= 0; i--)\n\tRansEncFlush(R[i], rans_out);\n\n    // Stitch blocks together into final output buffer\n    var freq_tab = output.pos\n    output.buf.writeInt32LE(freq_tab-9 + (rans_out.length - rans_out.pos), 1);\n    output.buf.writeInt32LE(nbytes, 5);\n\n    return Buffer.concat([output.buf.slice(0, output.pos),\n\t\t\t  rans_out.buf.slice(rans_out.pos, rans_out.length)],\n\t\t\t output.pos + rans_out.length - rans_out.pos);\n}\n\n//----------------------------------------------------------------------\n// Order-1 decoder\n\n// Decode a table of order-1 frequences,\n// filling out the F and C arrays.\nfunction ReadFrequencies1(src, F, C) {\n    // Initialise; not in the specification - implicit?\n    for (var i = 0; i < 256; i++) {\n\tF[i] = new Array(256);\n\tC[i] = new Array(256);\n\tfor (var j = 0; j < 256; j++)\n\t    F[i][j] = 0;\n    }\n\n    var sym = src.ReadByte();\n    var last_sym = sym;\n    var rle = 0;\n\n    // Read F[]\n    do {\n\tReadFrequencies0(src, F[sym], C[sym]);\n\n\tif (rle > 0) {\n\t    rle--;\n\t    sym++;\n\t} else {\n\t    sym = src.ReadByte();\n\t    if (sym == last_sym+1)\n\t\trle = src.ReadByte();\n\t}\n\tlast_sym = sym;\n    } while (sym != 0);\n}\n\nfunction RansDecode1(src, nbytes) {\n    // Decode frequencies\n    var F = new Array(256);\n    var C = new Array(256);\n    ReadFrequencies1(src, F, C);\n\n    // Fast lookup to avoid slow RansGetSymbolFromFreq\n    var C2S = new Array(256);\n    for (var i = 0; i < 256; i++)\n\tC2S[i] = RansBuildC2S(C[i]);\n\n    // Initialise rANS state\n    var R = new Array(4);\n    var L = new Array(4);\n    for (var j = 0; j < 4; j++) {\n\tR[j] = src.ReadUint32();\n\tL[j] = 0;\n    }\n\n    // Main decode loop\n    var output = new Buffer.allocUnsafe(nbytes);\n    var nbytes4 = Math.floor(nbytes/4);\n    for (var i = 0; i < nbytes4; i++) {\n\tfor (var j = 0; j < 4; j++) {\n\t    var f = RansGetCumulativeFreq(R[j]);\n\n\t    //var s = RansGetSymbolFromFreq(C[L[j]], f);\n\t    var s = C2S[L[j]][f]; // Precomputed version of above\n\n\t    output[i+j*nbytes4] = s;\n\t    R[j] = RansAdvanceStep(R[j], C[L[j]][s], F[L[j]][s]);\n\t    R[j] = RansRenorm(src, R[j]);\n\t    L[j] = s;\n\t}\n    }\n\n    // Now deal with the remainder if buffer size is not a multiple of 4,\n    // using rANS state 3 exclusively.  (It'd have been nice to have\n    // designed this to just act as if we kept going with a bail out.)\n    i = 4*i;\n    while (i < nbytes) {\n\tvar f = RansGetCumulativeFreq(R[3]);\n\tvar s = RansGetSymbolFromFreq(C[L[3]], f);\n\toutput[i++] = s;\n\tR[3] = RansAdvanceStep(R[3], C[L[3]][s], F[L[3]][s]);\n\tR[3] = RansRenorm(src, R[3]);\n\tL[3] = s;\n    }\n\n    return output;\n}\n\n//----------------------------------------------------------------------\n// Order-1 encoder\n\nfunction BuildFrequencies1(src, F, F0) {\n    for (var i = 0; i < 256; i++) {\n\tF0[i] = 0;\n\tfor (var j = 0; j < 256; j++)\n\t    F[i][j] = 0;\n    }\n\n    var last = 0;\n    for (var i = 0; i < src.length; i++) {\n\tF0[src[i]]++;\n\tF[last][src[i]]++;\n\t//F[last][src[i]]++;\n\tlast = src[i];\n    }\n\n    // Also accept we'll be starting at 4 points, not just byte 0\n    F[0][src[1*(src.length >> 2)]]++;\n    F[0][src[2*(src.length >> 2)]]++;\n    F[0][src[3*(src.length >> 2)]]++;\n    F0[0] += 3;\n}\n\nfunction NormaliseFrequencies1(F, F0) {\n    for (var i = 0; i < 256; i++)\n\tif (F0[i])\n\t    NormaliseFrequencies0(F[i])\n}\n\nfunction WriteFrequencies1(out, F, F0) {\n    var rle = 0;\n    var last_sym = 0;\n\n    for (var i = 0; i < 256; i++) {\n\tif (!F0[i])\n\t    continue\n\n\t// Output Symbol if needed and Frequency\n\tif (rle > 0)\n\t    rle--\n\telse {\n\t    out.WriteByte(i)\n\n\t    if (i > 0 && F0[i-1] > 0) {\n\t\tfor (rle = i+1; rle<256 && F0[rle]; rle++)\n\t\t    ;\n\t\trle -= i+1;\n\t\tout.WriteByte(rle);\n\t    }\n\t}\n\n\tWriteFrequencies0(out, F[i]);\n    }\n    out.WriteByte(0);\n}\n\nfunction RansEncode1(src) {\n    const nbytes = src.length;\n    var output = new IOStream(\"\", 0, 257*257*3+9);\n\n    output.WriteByte(1);   // Order 0\n    output.WriteUint32(0); // compressed size: correct later\n    output.WriteUint32(0); // uncompressed size: correct later\n\n    // Compute frequencies\n    var F0 = new Array(256)\n    var F = new Array(256)\n    var C = new Array(256)\n    for (var i = 0; i < 256; i++) {\n\tF[i] = new Array(256);\n\tC[i] = new Array(256);\n    }\n\n    BuildFrequencies1(src, F, F0)\n    NormaliseFrequencies1(F, F0);\n    WriteFrequencies1(output, F, F0);\n\n    // Compute cumulative frequencies\n    for (var i = 0; i < 256; i++) {\n\tif (!F0[i])\n\t    continue;\n\n\tC[i][0] = 0;\n\tfor (var j = 1; j < 256; j++)\n\t    C[i][j] = C[i][j-1] + F[i][j-1];\n    }\n\n    // Initialise rANS state\n    var R = new Array(4);\n    var L = new Array(4);\n    for (var j = 0; j < 4; j++) {\n\tR[j] = RansEncInit();\n\tL[j] = 0;\n    }\n    var rans_out = new IOStream(\"\", nbytes, nbytes);\n\n    // We have 4 rans codecs running in parallel on its own 1/4tr of buffer\n    var nbytes4 = Math.floor(nbytes/4);\n    var idx = new Array(4);\n    var last = new Array(4)\n    for (var j = 0; j < 4; j++) {\n\tidx[j] = (j+1)*nbytes4 - 2;\n\tlast[j] = src[idx[j]+1]\n    }\n\n    // Deal with the remainder if not a multiple of 4\n    last[3] = src[nbytes-1];\n    for (var i = nbytes-2; i > 4*nbytes4-2; i--) {\n\tR[3] = RansEncPut(R[3], rans_out, C[src[i]][last[3]], F[src[i]][last[3]], 12);\n\tlast[3] = src[i];\n    }\n\n    // Main encode loop\n    while (idx[0] >= 0) {\n\tfor (var j = 3; j >= 0; j--) {\n\t    var s = src[idx[j]]\n\t    R[j] = RansEncPut(R[j], rans_out, C[s][last[j]], F[s][last[j]], 12);\n\t    last[j] = s;\n\t    idx[j]--;\n\t}\n    }\n\n    for (var j = 3; j >= 0; j--) {\n        R[j] = RansEncPut(R[j], rans_out, C[0][last[j]], F[0][last[j]], 12)\n    }\n\n    for (var i = 3; i >= 0; i--)\n\tRansEncFlush(R[i], rans_out);\n\n    // Stitch blocks together into final output buffer\n    var freq_tab = output.pos;\n    output.buf.writeInt32LE(freq_tab-9 + (rans_out.length - rans_out.pos), 1);\n    output.buf.writeInt32LE(nbytes, 5);\n\n    return Buffer.concat([output.buf.slice(0, output.pos),\n\t\t\t  rans_out.buf.slice(rans_out.pos, rans_out.length)],\n\t\t\t output.pos + rans_out.length - rans_out.pos);\n}\n\nmodule.exports = { decode, encode }\n","/*\nbzip2.js - a small bzip2 decompression implementation\n\nCopyright 2011 by antimatter15 (antimatter15@gmail.com)\n\nBased on micro-bunzip by Rob Landley (rob@landley.net).\n\nBased on bzip2 decompression code by Julian R Seward (jseward@acm.org),\nwhich also acknowledges contributions by Mike Burrows, David Wheeler,\nPeter Fenwick, Alistair Moffat, Radford Neal, Ian H. Witten,\nRobert Sedgewick, and Jon L. Bentley.\n\nI hereby release this code under the GNU Library General Public License\n(LGPL) version 2, available at http://www.gnu.org/copyleft/lgpl.html\n*/\n\nvar bzip2 = {};\n\nbzip2.array = function (bytes) {\n    var bit = 0,\n        byte = 0;\n    var BITMASK = [0, 0x01, 0x03, 0x07, 0x0F, 0x1F, 0x3F, 0x7F, 0xFF];\n    return function (n) {\n        var result = 0;\n        while (n > 0) {\n            var left = 8 - bit;\n            if (n >= left) {\n                result <<= left;\n                result |= (BITMASK[left] & bytes[byte++]);\n                bit = 0;\n                n -= left;\n            } else {\n                result <<= n;\n                result |= ((bytes[byte] & (BITMASK[n] << (8 - n - bit))) >> (8 - n - bit));\n                bit += n;\n                n = 0;\n            }\n        }\n        return result\n    }\n}\n\nbzip2.simple = function (bits) {\n    var size = bzip2.header(bits);\n    var all, chunk, chunks = [];\n    var index = 0;\n    do {\n        //all += chunk;\n        chunk = bzip2.decompress(bits, size);\n        //all.set(chunk, index);\n        if (chunk != -1) {\n            chunks.push(chunk);\n            index += chunk.byteLength;\n        }\n    } while (chunk != -1);\n    all = new Uint8Array(index);\n    index = 0;\n    for (var i = 0; i < chunks.length; ++i) {\n        chunk = chunks[i];\n        all.set(chunk, index);\n        index += chunk.byteLength;\n    }\n    return all;\n}\n\nbzip2.header = function (bits) {\n    if (bits(8 * 3) != 4348520)\n        throw \"No magic number found\";\n    var i = bits(8) - 48;\n    if (i < 1 || i > 9)\n        throw \"Not a BZIP archive\";\n    return i;\n};\n\n//takes a function for reading the block data (starting with 0x314159265359)\n//a block size (0-9) (optional, defaults to 9)\n//a length at which to stop decompressing and return the output\nbzip2.decompress = function (bits, size, len) {\n    var MAX_HUFCODE_BITS = 20;\n    var MAX_SYMBOLS = 258;\n    var SYMBOL_RUNA = 0;\n    var SYMBOL_RUNB = 1;\n    var GROUP_SIZE = 50;\n\n    var bufsize = 100000 * 9;\n    for (var h = '', i = 0; i < 6; i++)\n        h += bits(8).toString(16);\n    if (h == \"177245385090\")\n        return -1; //last block\n    if (h != \"314159265359\")\n        throw \"eek not valid bzip data\";\n    bits(32); //ignore CRC codes\n    if (bits(1))\n        throw \"unsupported obsolete version\";\n    var origPtr = bits(24);\n    if (origPtr > bufsize)\n        throw \"Initial position larger than buffer size\";\n    var t = bits(16);\n    var symToByte = new Uint8Array(256),\n        symTotal = 0;\n    for (i = 0; i < 16; i++) {\n        if (t & (1 << (15 - i))) {\n            var k = bits(16);\n            for (j = 0; j < 16; j++) {\n                if (k & (1 << (15 - j))) {\n                    symToByte[symTotal++] = (16 * i) + j;\n                }\n            }\n        }\n    }\n\n    var groupCount = bits(3);\n    if (groupCount < 2 || groupCount > 6)\n        throw \"another error\";\n    var nSelectors = bits(15);\n    if (nSelectors == 0)\n        throw \"meh\";\n    var mtfSymbol = []; //TODO: possibly replace JS array with typed arrays\n    for (var i = 0; i < groupCount; i++)\n        mtfSymbol[i] = i;\n    var selectors = new Uint8Array(32768);\n\n    for (var i = 0; i < nSelectors; i++) {\n        for (var j = 0; bits(1); j++)\n            if (j >= groupCount)\n                throw \"whoops another error\";\n        var uc = mtfSymbol[j];\n        mtfSymbol.splice(j, 1); //this is a probably inefficient MTF transform\n        mtfSymbol.splice(0, 0, uc);\n        selectors[i] = uc;\n    }\n\n    var symCount = symTotal + 2;\n    var groups = [];\n    for (var j = 0; j < groupCount; j++) {\n        var length = new Uint8Array(MAX_SYMBOLS),\n            temp = new Uint8Array(MAX_HUFCODE_BITS + 1);\n        t = bits(5); //lengths\n        for (var i = 0; i < symCount; i++) {\n            while (true) {\n                if (t < 1 || t > MAX_HUFCODE_BITS)\n                    throw \"I gave up a while ago on writing error messages\";\n                if (!bits(1))\n                    break;\n                if (!bits(1))\n                    t++;\n                else\n                    t--;\n            }\n            length[i] = t;\n        }\n        var minLen, maxLen;\n        minLen = maxLen = length[0];\n        for (var i = 1; i < symCount; i++) {\n            if (length[i] > maxLen)\n                maxLen = length[i];\n            else if (length[i] < minLen)\n                minLen = length[i];\n        }\n        var hufGroup;\n        hufGroup = groups[j] = {};\n        hufGroup.permute = new Uint32Array(MAX_SYMBOLS);\n        hufGroup.limit = new Uint32Array(MAX_HUFCODE_BITS + 1);\n        hufGroup.base = new Uint32Array(MAX_HUFCODE_BITS + 1);\n        hufGroup.minLen = minLen;\n        hufGroup.maxLen = maxLen;\n        var base = hufGroup.base.subarray(1);\n        var limit = hufGroup.limit.subarray(1);\n        var pp = 0;\n        for (var i = minLen; i <= maxLen; i++)\n            for (var t = 0; t < symCount; t++)\n                if (length[t] == i)\n                    hufGroup.permute[pp++] = t;\n        for (i = minLen; i <= maxLen; i++)\n            temp[i] = limit[i] = 0;\n        for (i = 0; i < symCount; i++)\n            temp[length[i]]++;\n        pp = t = 0;\n        for (i = minLen; i < maxLen; i++) {\n            pp += temp[i];\n            limit[i] = pp - 1;\n            pp <<= 1;\n            base[i + 1] = pp - (t += temp[i]);\n        }\n        limit[maxLen] = pp + temp[maxLen] - 1;\n        base[minLen] = 0;\n    }\n    var byteCount = new Uint32Array(256);\n    for (var i = 0; i < 256; i++)\n        mtfSymbol[i] = i;\n    var runPos, count, symCount, selector;\n    runPos = count = symCount = selector = 0;\n    var buf = new Uint32Array(bufsize);\n    while (true) {\n        if (!(symCount--)) {\n            symCount = GROUP_SIZE - 1;\n            if (selector >= nSelectors)\n                throw \"meow i'm a kitty, that's an error\";\n            hufGroup = groups[selectors[selector++]];\n            base = hufGroup.base.subarray(1);\n            limit = hufGroup.limit.subarray(1);\n        }\n        i = hufGroup.minLen;\n        j = bits(i);\n        while (true) {\n            if (i > hufGroup.maxLen)\n                throw \"rawr i'm a dinosaur\";\n            if (j <= limit[i])\n                break;\n            i++;\n            j = (j << 1) | bits(1);\n        }\n        j -= base[i];\n        if (j < 0 || j >= MAX_SYMBOLS)\n            throw \"moo i'm a cow\";\n        var nextSym = hufGroup.permute[j];\n        if (nextSym == SYMBOL_RUNA || nextSym == SYMBOL_RUNB) {\n            if (!runPos) {\n                runPos = 1;\n                t = 0;\n            }\n            if (nextSym == SYMBOL_RUNA)\n                t += runPos;\n            else\n                t += 2 * runPos;\n            runPos <<= 1;\n            continue;\n        }\n        if (runPos) {\n            runPos = 0;\n            if (count + t >= bufsize)\n                throw \"Boom.\";\n            uc = symToByte[mtfSymbol[0]];\n            byteCount[uc] += t;\n            while (t--)\n                buf[count++] = uc;\n        }\n        if (nextSym > symTotal)\n            break;\n        if (count >= bufsize)\n            throw \"I can't think of anything. Error\";\n        i = nextSym - 1;\n        uc = mtfSymbol[i];\n        mtfSymbol.splice(i, 1);\n        mtfSymbol.splice(0, 0, uc);\n        uc = symToByte[uc];\n        byteCount[uc]++;\n        buf[count++] = uc;\n    }\n    if (origPtr < 0 || origPtr >= count)\n        throw \"I'm a monkey and I'm throwing something at someone, namely you\";\n    var j = 0;\n    for (var i = 0; i < 256; i++) {\n        k = j + byteCount[i];\n        byteCount[i] = j;\n        j = k;\n    }\n    for (var i = 0; i < count; i++) {\n        uc = buf[i] & 0xff;\n        buf[byteCount[uc]] |= (i << 8);\n        byteCount[uc]++;\n    }\n    var pos = 0,\n        current = 0,\n        run = 0;\n    if (count) {\n        pos = buf[origPtr];\n        current = (pos & 0xff);\n        pos >>= 8;\n        run = -1;\n    }\n    count = count;\n    var output = new Uint8Array(bufsize);\n    var copies, previous, outbyte;\n    var index = 0;\n    if (!len)\n        len = Infinity;\n    while (count) {\n        count--;\n        previous = current;\n        pos = buf[pos];\n        current = pos & 0xff;\n        pos >>= 8;\n        if (run++ == 3) {\n            copies = current;\n            outbyte = previous;\n            current = -1;\n        } else {\n            copies = 1;\n            outbyte = current;\n        }\n        while (copies--) {\n            //output += (String.fromCharCode(outbyte));\n            output[index++] = outbyte;\n            //index++;\n            if (!--len)\n                return output;\n        }\n        if (current != previous)\n            run = 0;\n    }\n    //return output;\n    //return output.subarray(0,index-1);\n    return output.subarray(0, index);\n}\n\nmodule.exports = bzip2;\n","/*\n * Copyright (c) 2019 Genome Research Ltd.\n * Author(s): James Bonfield\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice,\n *       this list of conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above\n *       copyright notice, this list of conditions and the following\n *       disclaimer in the documentation and/or other materials provided\n *       with the distribution.\n *\n *    3. Neither the names Genome Research Ltd and Wellcome Trust Sanger\n *       Institute nor the names of its contributors may be used to endorse\n *       or promote products derived from this software without specific\n *       prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY GENOME RESEARCH LTD AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED\n * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A\n * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GENOME RESEARCH\n * LTD OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nconst IOStream = require(\"./iostream\");\nconst ByteModel = require(\"./byte_model\");\nconst RangeCoder = require(\"./arith_sh\");\n\n\n//----------------------------------------------------------------------\n// Main arithmetic entry function: decodes a compressed src and\n// returns the uncompressed buffer.\n\nfunction read_array(src, tab, size) {\n    var j = 0; // array value\n    var z = 0; // array index: tab[j]\n    var last = -1;\n\n    // Remove first level of run-length encoding\n    var R = new Array(1024) // runs\n    while (z < size) {\n\tvar run = src.ReadByte()\n\tR[j++] = run\n\tz += run\n\n\tif (run == last) {\n\t    var copy = src.ReadByte()\n\t    z += run * copy\n\t    while (copy--)\n\t\tR[j++] = run\n\t}\n\tlast = run\n    }\n\n    // Now expand runs in R to tab, noting 255 is max run\n    var i = 0\n    j = 0\n    z = 0\n    while (z < size) {\n\tvar run_len = 0\n\tdo {\n\t    var part = R[j++]\n\t    run_len += part\n\t} while (part == 255)\n\t\n\twhile (run_len--)\n\t    tab[z++] = i;\n\ti++\n    }\n}\n\nconst QMAX = 256\n\nconst FLAG_DEDUP  = 2\nconst FLAG_FLEN   = 4\nconst FLAG_SEL    = 8    // whether selector is used in context\nconst FLAG_QMAP   = 16\nconst FLAG_PTAB   = 32\nconst FLAG_DTAB   = 64\nconst FLAG_QTAB   = 128\n\nconst GFLAG_MULTI_PARAM = 1\nconst GFLAG_HAVE_STAB   = 2\nconst GFLAG_DO_REV      = 4\n\n// Compute a new context from our current state and qual q\nfunction fqz_update_ctx(params, state, q) {\n    var last = params.context\n    state.qctx = ((state.qctx << params.qshift) + params.qtab[q]); // >>> 0\n    last += ((state.qctx & ((1<<params.qbits)-1)) << params.qloc); // >>> 0\n\n    if (params.do_pos)\n\tlast += params.ptab[Math.min(state.p, 1023)] << params.ploc\n\n    if (params.do_delta) {\n\tlast += params.dtab[Math.min(state.delta, 255)] << params.dloc\n\t// Is it better to use q here or qtab[q]?\n\t// If qtab[q] we can map eg [a-z0-9A-Z]->0 ,->1 and have\n\t// delta being a token number count into comma separated lists?\n\tstate.delta += (state.prevq != q) ? 1 : 0\n\tstate.prevq = q\n    }\n\n    if (params.do_sel)\n\tlast += state.s << params.sloc\n\n    state.p--\n\n    return last & 0xffff\n}\n\nfunction decode_fqz_single_param(src) {\n    var p = {} // params\n    \n    // Load FQZ parameters\n    p.context = src.ReadUint16()\n    p.pflags  = src.ReadByte()\n\n    p.do_dedup  = p.pflags & FLAG_DEDUP\n    p.fixed_len = p.pflags & FLAG_FLEN\n    p.do_sel    = p.pflags & FLAG_SEL\n    p.do_qmap   = p.pflags & FLAG_QMAP\n    p.do_pos    = p.pflags & FLAG_PTAB\n    p.do_delta  = p.pflags & FLAG_DTAB\n    p.do_qtab   = p.pflags & FLAG_QTAB\n\n    p.max_sym = src.ReadByte()\n\n    var x = src.ReadByte()\n    p.qbits  = x>>4\n    p.qshift = x&15\n    x = src.ReadByte()\n    p.qloc = x>>4\n    p.sloc = x&15\n    x = src.ReadByte()\n    p.ploc = x>>4\n    p.dloc = x&15\n\n    // Qual map, eg to \"unbin\" Illumina qualities\n    p.qmap = new Array(256);\n    if (p.pflags & FLAG_QMAP) {\n\tfor (var i = 0; i < p.max_sym; i++)\n\t    p.qmap[i] = src.ReadByte()\n    } else {\n\t// Useful optimisation to speed up main loop\n\tfor (var i = 0; i < 256; i++)\n\t    p.qmap[i] = i;  // NOP\n    }\n\n    // Read tables\n    p.qtab = new Array(1024);\n    if (p.qbits > 0 && (p.pflags & FLAG_QTAB)) {\n\tread_array(src, p.qtab, 256)\n    } else {\n\t// Useful optimisation to speed up main loop\n\tfor (var i = 0; i < 256; i++)\n\t    p.qtab[i] = i;  // NOP\n    }\n\n    p.ptab = new Array(1024);\n    if (p.pflags & FLAG_PTAB)\n\tread_array(src, p.ptab, 1024);\n\n    p.dtab = new Array(256);\n    if (p.pflags & FLAG_DTAB)\n\tread_array(src, p.dtab, 256);\n\n    return p\n}\n\nfunction decode_fqz_params(src) {\n    var gparams = {\n\tmax_sym: 0\n    }\n\n    // Check fqz format version\n    var vers = src.ReadByte()\n    if (vers != 5) {\n\tconsole.error(\"Invalid FQZComp version number\");\n\treturn;\n    }\n\n    var gflags = src.ReadByte()\n    var nparam = (gflags & GFLAG_MULTI_PARAM) ? src.ReadByte() : 1\n    var max_sel = gflags.nparam > 1 ? gflags.nparam-1 : 0 // Note max_sel, not num_sel\n\n    var stab = new Array(256);\n    if (gflags & GFLAG_HAVE_STAB) {\n\tmax_sel = src.ReadByte()\n\tread_array(src, stab, 256);\n    } else {\n\tfor (var i = 0; i < nparam; i++)\n\t    stab[i] = i;\n\tfor (; i < 256; i++)\n\t    stab[i] = nparam-1;\n    }\n    gparams.do_rev = (gflags & GFLAG_DO_REV)\n    gparams.stab = stab\n    gparams.max_sel = max_sel\n\n    gparams.params = new Array(gparams.nparam)\n    for (var p = 0; p < nparam; p++) {\n\tgparams.params[p] = decode_fqz_single_param(src)\n\tif (gparams.max_sym < gparams.params[p].max_sym)\n\t    gparams.max_sym = gparams.params[p].max_sym\n    }\n\n    return gparams\n}\n\nfunction fqz_create_models(gparams) {\n    var model = {}\n\n    model.qual = new Array(1<<16)\n    for (var i = 0; i < (1<<16); i++)\n\tmodel.qual[i] = new ByteModel(gparams.max_sym+1) // +1 as max value not num. values\n\n    model.len = new Array(4)\n    for (var i = 0; i < 4; i++)\n\tmodel.len[i] = new ByteModel(256)\n\n    model.rev   = new ByteModel(2)\n    model.dup   = new ByteModel(2)\n\n    if (gparams.max_sel > 0)\n\tmodel.sel = new ByteModel(gparams.max_sel+1) // +1 as max value not num. values\n\n    return model\n}\n\n// Initialise a new record, updating state.\n// Returns 1 if dup, otherwise 0\nfunction decode_fqz_new_record(src, rc, gparams, model, state, rev) {\n    // Parameter selector\n    if (gparams.max_sel > 0) {\n\tstate.s = model.sel.ModelDecode(src, rc)\n    } else {\n\tstate.s = 0;\n    }\n    state.x = gparams.stab[state.s]\n\n    var params = gparams.params[state.x]\n\n    // Reset contexts at the start of each new record\n    if (params.fixed_len >= 0) {\n\t// Not fixed or fixed but first record\n\tvar len = model.len[0].ModelDecode(src, rc)\n\tlen |= model.len[1].ModelDecode(src, rc) << 8\n\tlen |= model.len[2].ModelDecode(src, rc) << 16\n\tlen |= model.len[3].ModelDecode(src, rc) << 24\n\tif (params.fixed_len > 0)\n\t    params.fixed_len = -len\n    } else {\n\tlen = -params.fixed_len\n    }\n    state.len = len\n\n    if (gparams.do_rev)\n\trev[state.rec] = model.rev.ModelDecode(src, rc)\n\n    state.is_dup = 0\n    if (params.pflags & FLAG_DEDUP) {\n\tif (model.dup.ModelDecode(src, rc))\n\t    state.is_dup = 1\n    }\n\n    state.p = len;  // number of remaining bytes in this record\n    state.delta = 0\n    state.qctx = 0\n    state.prevq = 0\n    state.rec++\n}\n\nfunction decode_fqz(src, q_lens) {\n    // Decode parameter block\n    var n_out = src.ReadUint7()\n    var gparams = decode_fqz_params(src)\n    if (!gparams) return\n    var params = gparams.params\n    var rev = new Array(q_lens.length)\n\n    // Create initial models\n    var model = fqz_create_models(gparams)\n\n    // Create our entropy encoder and output buffers\n    var rc = new RangeCoder(src)\n    rc.RangeStartDecode(src)\n    var output = new Buffer.allocUnsafe(n_out)\n\n    // Internal FQZ state\n    var state = {\n\tqctx:0,   // Qual-only sub-context\n\tprevq:0,  // Previous quality value\n\tdelta:0,  // Running delta (q vs prevq)\n\tp:0,      // Number of bases left in current record\n\ts:0,      // Current parameter selector value (0 if unused)\n\tx:0,      // \"stab\" tabulated copy of s\n\tlen:0,    // Length of current string\n\tis_dup:0, // This string is a duplicate of last\n\trec:0     // Record number\n    }\n\n    // The main decode loop itself\n    var i = 0     // position in output buffer\n    while (i < n_out) {\n\tif (state.p == 0) {\n\t    decode_fqz_new_record(src, rc, gparams, model, state, rev)\n\t    if (state.is_dup > 0) {\n\t\tif (model.dup.ModelDecode(src, rc)) {\n\t\t    // Duplicate of last line\n\t\t    for (var x = 0; x < len; x++)\n\t\t\toutput[i+x] = output[i+x-state.len]\n\t\t    i += state.len\n\t\t    state.p = 0\n\t\t    continue\n\t\t}\n\t    }\n\t    q_lens.push(state.len)\n\n\t    var params = gparams.params[state.x]\n\t    var last = params.context\n\t}\n\n\t// Decode the current quality (possibly mapped via qmap)\n\tvar Q = model.qual[last].ModelDecode(src, rc)\n\n\t//if (params.do_qmap)\n\t//    output[i++] = params.qmap[Q];\n\t//else\n\t//    output[i++] = Q\n\toutput[i++] = params.qmap[Q]; // optimised version of above\n\tlast = fqz_update_ctx(params, state, Q)\n    }\n\n    if (gparams.do_rev)\n\treverse_qualities(output, n_out, rev, q_lens)\n\n    return output;\n}\n\nfunction reverse_qualities(qual, qual_len, rev, len) {\n    var rec = 0\n    var i = 0\n    while (i < qual_len) {\n\tif (rev[rec]) {\n\t    var j = 0\n\t    var k = len[rec]-1\n\t    while (j < k) {\n\t\tvar tmp   = qual[i+j]\n\t\tqual[i+j] = qual[i+k]\n\t\tqual[i+k] = tmp\n\t\tj++\n\t\tk--\n\t    }\n\t}\n\n\ti += len[rec++];\n    }\n}\n\nfunction decode(src, q_lens) {\n    var stream = new IOStream(src);\n\n    //var n_out = stream.ReadUint32(); stream.ReadUint32(); // move to main\n\n    return decode_fqz(stream, q_lens);\n}\n    \n//----------------------------------------------------------------------\n// FQZComp encoder.\n\nfunction pick_fqz_params(src, q_lens, q_dirs, qhist) {\n    // Find cardinality of q_dirs\n    var qd_last = q_dirs[0];\n    for (var i = 0; i < q_dirs.length; i++)\n\tif (q_dirs[i] != qd_last)\n\t    break;\n    var qd_fixed = (i == q_dirs.length) ? 1 : 0\n\n    // Scan input to find number of symbols and max symbol\n    var nsym = 0\n    var max_sym = 0\n\n    // selector == 0: Assume one single input dataset\n    for (var i = 0; i < 256; i++)\n\tqhist[0][i] = 0;\n\n    var rec = 0;\n    var len = 0\n    for (var i = 0; i < src.length; i++) {\n\tif (len == 0) {\n\t    len = q_lens[rec < q_lens.length-1 ? rec++ : rec]\n\t}\n\tqhist[0][src[i]]++;\n\tlen--;\n    }\n    for (var i = 0; i < 256; i++) {\n\tif (!qhist[0][i])\n\t    continue;\n\tif (max_sym < i)\n\t    max_sym = i;\n\tnsym++;\n    }\n\n    var qshift = 5\n    var do_qmap = 0\n    // Reduced symbol frequencies implies lower qshift and\n    // a lookup table to go from qual to Q\n    if (nsym <= 16) {\n\tdo_qmap = 1 // based on qhist\n\tif (nsym <= 2)\n\t    qshift = 1\n\telse if (nsym <= 4)\n\t    qshift = 2\n\telse if (nsym <= 8)\n\t    qshift = 3\n\telse\n\t    qshift = 4\n    }\n\n//    // Two params and a 1-bit selector.\n//    // This is 1% overhead vs two data sets compressed independently.\n//    // It's 6.9% smaller than compressing both together with 1 param.\n//    if (0) return [{\n//\t// q4\n//\tqbits:     8,\n//\tqshift:    2,\n//\tqloc:      7,\n//\n//\tpbits:     7,\n//\tpshift:    1,\n//\tploc:      0,\n//\n//\tdbits:     0,\n//\tdshift:    0,\n//\tdloc:      0,\n//\n//      sbits:     0,\n//      sloc:      0,\n//\n//\t//sbits:     2,\n//\t//do_stab:   1,\n//\tsbits:     1,\n//\tdo_stab:   0,\n//\tcontext:   (0<<15),\n//\n//\tmax_sym:   36,\n//\tnsym:      4,\n//\n//\tdo_qmap:   1,\n//\tdo_dedup:  0,\n//\tfixed_len: 1,\n//\tdo_sel:  0,\n//\tdo_rev:    0,\n//\tdo_pos:    1,\n//\tdo_delta:  0,\n//\tdo_qtab:   0\n//    }, {\n//\t//q40\n//\tqbits:     9,\n//\tqshift:    5,\n//\tqloc:      7,\n//\n//\tpbits:     7,\n//\tpshift:    0,\n//\tploc:      0,\n//\n//\tdbits:     0,\n//\tdshift:    0,\n//\tdloc:      0,\n//\n//      sbits:     0,\n//      sloc:      0,\n//\n//\t//sbits:     2,\n//\t//do_stab:   1,\n//\tsbits:     1,\n//\tdo_stab:   0,\n//\tcontext:   (1<<15),\n//\n//\tmax_sym:   44,\n//\tnsym:      45,\n//\n//\tdo_qmap:   0,\n//\tdo_dedup:  0,\n//\tfixed_len: 1,\n//\tdo_sel:  0,\n//\tdo_rev:    0,\n//\tdo_pos:    1,\n//\tdo_delta:  0,\n//\tdo_qtab:   0\n//    }]\n\n    return [{qbits:     8+(qshift>4),\n\t     qshift:    qshift,\n\t     qloc:      7,\n\n\t     pbits:     7,\n\t     pshift:    q_lens[0] > 128 ? 1 : 0,\n\t     ploc:      0,\n\n\t     dbits:     qshift>4 ? 0 : 1,\n\t     dshift:    3,\n\t     dloc:      15,\n\n\n\t     // NB: Also useful as a way of embedding sel and doing sel\n\t     // specific contexts. Identical bar context. Eg 0<<15 or 1<<15.\n\t     sbits:     0,\n\t     sloc:      15,\n\t     do_stab:   0,\n\t     context:   (0<<15),\n\n\t     max_sym:   max_sym,\n\t     nsym:      nsym,\n\n\t     do_qmap:   do_qmap,\n\t     do_dedup:  0,\n\t     fixed_len: (q_lens.length == 1) ? 1 : 0,\n\t     do_sel:    0,\n\t     do_rev:    0,\n\t     do_pos:    1,\n\t     do_delta:  (qshift <= 4) ? 1 : 0,\n\t     do_qtab:   0,\n\n\t     // Override above with some attempt at using selectors\n\t     // when the q_dirs are specific and non-fixed.\n\t     qbits:     8+(qshift>4)-(qd_fixed==0),\n\t     sbits:     1,\n\t     sloc:      15-(qshift<=4), // read1 vs read2\n\t     do_stab:   1,\n\t     do_sel:    1,\n\t     \n//\t     // q4+dir: 7245769 with, 7353962 without. 1.5% saving\n//\t     qbits:     6,\n//\t     dbits:     2,\n//\t     dshift:    2,\n//\t     dloc:      13,\n//\t     sbits:     1,\n//\t     sloc:      15,\n//\t     do_stab:   1,\n//\t     do_sel:    1,\n\n\t     // with 20 bits of context, q40 = 31741545\n\t     // qbits 10, dbits 2, pbits 7, sbits 1\n\t    }]\n}\n\nfunction store_array(out, tab, size) {\n    var i = 0; // index into tab\n    var j = 0; // current value in tab[i]\n\n    var tmp1 = new Array(size*2);\n    var sz1 = 0;\n\n    // First level of RLE.  Replace all runs of 'j' values\n    // with run-lengths, including zeros for missing values.\n    // Eg 0 1 2 2 2 3 3 3 4 4 4 5 5 5 5   7 7\n    // to 1 1 3     3     3     4       0 2\n    while (i < size) {\n\t// Length of j^{th} element\n\tvar i_start = i\n\twhile (i < size && tab[i] == j)\n\t    i++;\n\tvar run_len = i - i_start\n\n\t// Encode run length to tmp array\n\tdo {\n\t    var r = Math.min(255, run_len)\n\t    tmp1[sz1++] = r\n\t    run_len -= r\n\t} while (r == 255)\n\tj++;\n    }\n\n    // Second round of RLE on our tmp array, using a different\n    // RLE algorithm.\n    // Eg 1 1    3 3  3 4 0 2\n    // to 1 1 +0 3 3 +1 4 0 2\n    var last = -1\n    var tmp2 = new Array(size*2)\n    var sz2 = 0\n    i = 0  // index into tmp1]\n    // k is used size of tmp1[]\n    while (i < sz1) {\n\tvar curr = tmp1[i++];\n\ttmp2[sz2++] = curr\n\tif (curr == last) {\n\t    var i_start = i;\n\t    while (i < sz1 && tmp1[i] == last && i - i_start < 255)\n\t\ti++;\n\t    tmp2[sz2++] = i - i_start;\n\t} else {\n\t    last = curr\n\t}\n    }\n\n    // Append 2nd RLE, tmp2, to out.\n    out.WriteData(tmp2, sz2)\n}\n\n\t\t\t\t     \n\n// q_lens is an array of quality lengths per record.\n// (If they're all the same, just set one value.)\nfunction encode_fqz_params(out, params, qhist, qtab, ptab, dtab, stab) {\n    var dsqr = [\n        0, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3,\n        4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5,\n        5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,\n        6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7\n    ]\n\n    for (var i = 0; i < params.length; i++)\n\tstab[i] = i; // 1 parameter set per selector value\n    for (; i < 256; i++)\n\tstab[i] = params.length-1;\n\n    // Store global meta-data\n    out.WriteByte(5);            // FQZ format number\n    var gflags = ((params.length > 1) ? GFLAG_MULTI_PARAM : 0)\n\t       | ((params[0].do_stab) ? GFLAG_HAVE_STAB   : 0)\n    out.WriteByte(gflags)\n\n    if (gflags & GFLAG_MULTI_PARAM)\n\tout.WriteByte(params.length) // Number of parameter blocks.\n\n    if (gflags & GFLAG_HAVE_STAB) {\n\tvar max_sel = 1<<params[0].sbits;\n\tif (max_sel > 0) max_sel--;\n\tout.WriteByte(max_sel)\n\tstore_array(out, stab, 256)\n    }\n\n    // Store per-param meta-data\n    for (var p = 0; p < params.length; p++) {\n\tout.WriteUint16(params[p].context)\n\tout.WriteByte((params[p].do_qtab  ? FLAG_QTAB  : 0) |  // FLAG\n\t\t      (params[p].do_delta ? FLAG_DTAB  : 0) |\n\t\t      (params[p].do_pos   ? FLAG_PTAB  : 0) |\n\t\t      (params[p].do_qmap  ? FLAG_QMAP  : 0) |\n\t\t      (params[p].do_sel   ? FLAG_SEL   : 0) |\n\t\t      (params[p].fixed_len? FLAG_FLEN  : 0) |\n\t\t      (params[p].do_dedup ? FLAG_DEDUP : 0))\n\tif (params[p].do_qmap)\n\t    out.WriteByte(params[p].nsym)\n\telse\n\t    out.WriteByte(params[p].max_sym)\n\tout.WriteByte((params[p].qbits << 4) | (params[p].qshift))\n\tout.WriteByte((params[p].qloc  << 4) | (params[p].sloc))\n\tout.WriteByte((params[p].ploc  << 4) | (params[p].dloc))\n\n\tif (params[p].do_qmap) {\n\t    params[p].max_sym = params[p].nsym\n\t    var n = 0;\n\t    for (var i = 0; i < 256; i++) {\n\t\tif (qhist[p][i]) {\n\t\t    out.WriteByte(i)\n\t\t    qhist[p][i] = n++;\n\t\t}\n\t    }\n\t    // Ensure we have all matched input params\n\t    for (; n < params[p].nsym; n++)\n\t\tout.WriteByte(0)\n\t} else {\n\t    //params[p].nsym = 255;\n\t    for (var i = 0; i < 256; i++)\n\t\tqhist[p][i] = i; // NOP\n\t}\n\n\tif (params[p].qbits > 0) {\n\t    //\t// Eg map 0-44 to a smaller range, to improve context usage.\n\t    //\t// Makes q40 test set go from 33596471 to 33450075 (-0.4%)\n\t    //\tparams[p].do_qtab = 1;\n\t    //\tfor (var j = i = 0; i < params[p].max_sym; i++) {\n\t    //\t    qtab[i]=j;\n\t    //\t    if ((i%3)!=0 | i >= 28) j++\n\t    //\t    console.log(\"qtab[\",i,\"]=\",qtab[i]);\n\t    //\t}\n\t    //\tfor (; i < 256; i++)\n\t    //\t    qtab[i] = qtab[params[p].max_sym-1]\n\n\t    for (var i = 0; i < 256; i++)\n\t\tqtab[p][i] = i; // NOP for now\n\n\t    if (params[p].do_qtab)\n\t\tstore_array(out, qtab[p], 256)\n\t}\n\n\tif (params[p].pbits > 0) {\n\t    for (var i = 0; i < 1024; i++)\n\t\tptab[p][i] = Math.min((1<<params[p].pbits)-1, i >> params[p].pshift)\n\n\t    store_array(out, ptab[p], 1024)\n\t}\n\n\tif (params[p].dbits > 0) {\n\t    for (var i = 0; i < 256; i++)\n\t\tif (dsqr[i] > (1<<params[p].dbits) - 1)\n\t\t    dsqr[i] = (1<<params[p].dbits) - 1\n\t    for (var i = 0; i < 256; i++)\n\t\tdtab[p][i] = dsqr[Math.min(dsqr.length-1, i >> params[p].dshift)]\n\n\t    store_array(out, dtab[p], 256)\n\t}\n    }\n\n    return out\n}\n\nfunction encode_fqz(out, src, q_lens, q_dirs, params, qhist, qtab, ptab, dtab, stab) {\n    //console.error(\"0:\",params[0])\n    //console.error(\"1:\",params[1])\n\n    var max_sel = 1<<params[0].sbits\n    if (max_sel > 0) max_sel--\n    var n_in = src.length\n\n    // Create the models\n    var max_sym = 0;\n    for (var p = 0; p < params.length; p++)\n\tif (max_sym < params[p].max_sym)\n\t    max_sym = params[p].max_sym;\n\n    var model_qual = new Array(1<<16)\n    for (var i = 0; i < (1<<16); i++)\n\tmodel_qual[i] = new ByteModel(max_sym+1)\n\n    var model_len = new Array(4)\n    for (var i = 0; i < 4; i++)\n\tmodel_len[i] = new ByteModel(256)\n\n    var model_rev    = new ByteModel(2)\n    var model_dup    = new ByteModel(2)\n    var model_sel    = new ByteModel(max_sel+1)\n\n    // Note: our JavaScript encoder doesn't have a way for reversing\n    // some quality strings, so we ignore do_rev for now.\n    var rc = new RangeCoder(src)\n\n    // The main encoding loop\n    var p = 0; // remaining position along current record\n    var i = 0; // index in src data\n    var rec = 0;\n\n    while (i < n_in) {\n\tif (p == 0) {\n\t    //var s = 0 // single non-mixed sample\n\t    var s = q_dirs[rec]\n\t    if (params[0].sbits > 0) {// FIXME: check All params[].do_stab / sbits must be identical\n\t\t//console.log(\"Ssel\", s)\n\t        model_sel.ModelEncode(out, rc, s)\n\t    }\n\t    var x = stab[s]\n\n\t    // Reset contexts at the statr of each new record\n\t    var len = q_lens[Math.min(q_lens.length-1, rec++)]\n\t    if (params[x].fixed_len) {\n\t\tif (params[x].fixed_len > 0) { // First length\n\t\t    //console.log(\"Len\", len)\n\t\t    model_len[0].ModelEncode(out, rc, len       & 0xff)\n\t\t    model_len[1].ModelEncode(out, rc, (len>>8)  & 0xff)\n\t\t    model_len[2].ModelEncode(out, rc, (len>>16) & 0xff)\n\t\t    model_len[3].ModelEncode(out, rc, (len>>24) & 0xff)\n\t\t    params[x].fixed_len = -1; // indicate we've stored it once\n\t\t}\n\t    } else {\n\t\t//console.log(\"len\", len)\n\t\tmodel_len[0].ModelEncode(out, rc, len       & 0xff)\n\t\tmodel_len[1].ModelEncode(out, rc, (len>>8)  & 0xff)\n\t\tmodel_len[2].ModelEncode(out, rc, (len>>16) & 0xff)\n\t\tmodel_len[3].ModelEncode(out, rc, (len>>24) & 0xff)\n\t    }\n\n\t    if (params[x].do_dedup)\n\t\tprocess.exit(1) // FIXME\n\n\t    p = len\n\t    var delta = 0\n\t    //var last  = 0\n\t    var last  = params[x].context\n\t    var qlast = 0\n\t    var q1    = 0\n\t}\n\n\t// Encode current quality\n\tvar q = src[i++]\n\tvar Q = qhist[x][q]\n\tmodel_qual[last].ModelEncode(out, rc, Q)\n\t//console.log(\"Ctx\",last,qhist[x][q])\n\n\t// Update contexts for next quality\n\tqlast = (qlast << params[x].qshift) + qtab[x][Q]\n\tlast  = params[x].context\n\tlast += (qlast & ((1<<params[x].qbits)-1)) << params[x].qloc\n\n\t// 46.6-48.6 billion cycles with ifs + \"<< params[x].?loc\" shifts\n\t// 47.3-47.3 billion cycles with ifs\n\t// 47.1-47.9 billion cycles without ifs\n\tif (params[x].pbits > 0)\n\t    last += ptab[x][Math.min(p, 1023)] << params[x].ploc\n\n\tif (params[x].dbits > 0) {\n\t    last += dtab[x][Math.min(delta, 255)] << params[x].dloc\n\t    delta += (q1 != Q) ? 1 : 0\n\t    q1 = Q\n\t}\n\n\tif (params[x].do_sel)\n\t    last += s << params[x].sloc\n\n\tlast = (last & 0xffff)\n\tp--\n    }\n\n    rc.RangeFinishEncode(out)\n    return out.buf.slice(0, out.pos)\n}\n\nfunction encode(src, q_lens, q_dirs) {\n    var qhist = new Array(2)\n    var qtab  = new Array(2)\n    var ptab  = new Array(2)\n    var dtab  = new Array(2)\n    var stab  = new Array(256)\n\n    for (var s = 0; s < 2; s++) {\n        qhist[s] = new Array(256)\n        qtab[s]  = new Array(256)\n        ptab[s]  = new Array(1024) \n        dtab[s]  = new Array(256)\n    }\n\n    var out = new IOStream(\"\", 0, src.length*1.1 + 100); // FIXME: guestimate worst case\n\n    out.WriteUint7(src.length);\n    var params = pick_fqz_params(src, q_lens, q_dirs, qhist)\n    var out = encode_fqz_params(out, params, qhist, qtab, ptab, dtab, stab)\n    return encode_fqz(out, src, q_lens, q_dirs, params, qhist, qtab, ptab, dtab, stab)\n}\n\nmodule.exports = { decode, encode }\n","/*\n * Copyright (c) 2019 Genome Research Ltd.\n * Author(s): James Bonfield\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice,\n *       this list of conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above\n *       copyright notice, this list of conditions and the following\n *       disclaimer in the documentation and/or other materials provided\n *       with the distribution.\n *\n *    3. Neither the names Genome Research Ltd and Wellcome Trust Sanger\n *       Institute nor the names of its contributors may be used to endorse\n *       or promote products derived from this software without specific\n *       prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY GENOME RESEARCH LTD AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED\n * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A\n * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GENOME RESEARCH\n * LTD OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n// Name tokeniser\n//\n// This is a reference implementation designed to match the\n// written specification as closely as possible.  It is *NOT*\n// an efficient implementation, but see comments below.\n\nconst IOStream  = require(\"./iostream\");\nconst rans      = require(\"./rans4x16\");\nconst arith_gen = require(\"./arith_gen\");\n\nvar arith = new arith_gen()\n\nconst TOK_TYPE    = 0\nconst TOK_STRING  = 1\nconst TOK_CHAR    = 2\nconst TOK_DIGITS0 = 3\nconst TOK_DZLEN   = 4\nconst TOK_DUP     = 5\nconst TOK_DIFF    = 6\nconst TOK_DIGITS  = 7\nconst TOK_DELTA   = 8\nconst TOK_DELTA0  = 9\nconst TOK_MATCH   = 10\nconst TOK_NOP     = 11\nconst TOK_END     = 12\n\n//----------------------------------------------------------------------\n// Token byte streams\nfunction DecodeTokenByteStreams(src, in_size, use_arith, nnames) {\n    var t = -1\n\n    var B = new Array(256)\n\n    while (!src.EOF()) {\n\tvar ttype = src.ReadByte()\n\tvar tok_new = ttype & 128\n\tvar tok_dup = ttype & 64\n\tvar type    = ttype & 63\n\n\tif (tok_new) {\n\t    t++\n\t    B[t] = new Array(13)\n\t}\n\n\tif (type != TOK_TYPE && tok_new) {\n\t    var M = new Array(nnames-1).fill(TOK_MATCH)\n\t    B[t][TOK_TYPE] = new IOStream(Buffer.from([type].concat(M)))\n        }\n\n\tif (tok_dup) {\n\t    var dup_pos  = src.ReadByte()\n\t    var dup_type = src.ReadByte()\n\t    B[t][type] = new IOStream(B[dup_pos][dup_type].buf)\n\t} else {\n\t    var clen = src.ReadUint7()\n\t    var data = src.ReadData(clen)\n\n\t    if (use_arith)\n\t\tB[t][type] = arith.decode(data)\n\t    else\n\t\tB[t][type] = rans.decode(data)\n\t    B[t][type] = new IOStream(B[t][type])\n\t}\n    }\n\n    return B\n}\n\n//----------------------------------------------------------------------\n// Token decode\nfunction LeftPadNumber(val, len) {\n    var str = val+\"\"\n    while (str.length < len)\n\tstr = \"0\" + str\n\n    return str\n}\n\nfunction DecodeSingleName(B, N, T, n) {\n    var type = B[0][TOK_TYPE].ReadByte()\n    var dist = B[0][type].ReadUint32()\n    var m = n - dist\n\n    if (type == TOK_DUP) {\n\tN[n] = N[m]\n\tT[n] = T[m]\n\treturn N[n]\n    }\n    \n    var t = 1\n    N[n] = \"\"\n    T[n] = new Array(256)\n    do {\n\ttype = B[t][TOK_TYPE].ReadByte()\n\n\tswitch(type) {\n\tcase TOK_CHAR:\n\t    T[n][t] = B[t][TOK_CHAR].ReadChar()\n\t    break\n\n\tcase TOK_STRING:\n\t    T[n][t] = B[t][TOK_STRING].ReadString()\n\t    break\n\t\n\tcase TOK_DIGITS:\n\t    T[n][t] = B[t][TOK_DIGITS].ReadUint32()\n\t    break\n\n\tcase TOK_DIGITS0:\n\t    var d = B[t][TOK_DIGITS0].ReadUint32()\n\t    var l = B[t][TOK_DZLEN].ReadByte()\n\t    T[n][t] = LeftPadNumber(d, l)\n\t    break\n\n\tcase TOK_DELTA:\n\t    T[n][t] = (T[m][t]>>0) + B[t][TOK_DELTA].ReadByte()\n\t    break\n\n\tcase TOK_DELTA0:\n\t    var d = (T[m][t]>>0) + B[t][TOK_DELTA0].ReadByte()\n\t    var l = T[m][t].length\n\t    T[n][t] = LeftPadNumber(d, l)\n\t    break\n\n\tcase TOK_MATCH:\n\t    T[n][t] = T[m][t]\n\t    break\n\n\tdefault:\n\t    T[n][t] = \"\"\n\t    break\n\t}\n\n\tN[n] += T[n][t++]\n    } while (type != TOK_END)\n\n    return N[n]\n}\n\n//----------------------------------------------------------------------\n// Main tokeniser decode entry function: decodes a compressed src and\n// returns the uncompressed buffer.\nfunction decode(src, len, separator) {\n    var src = new IOStream(src)\n    var ulen = src.ReadUint32()\n    var nnames = src.ReadUint32()\n    var use_arith = src.ReadByte()\n\n    var B = DecodeTokenByteStreams(src, len, use_arith, nnames)\n    var N = new Array(nnames)\n    var T = new Array(nnames)\n\n    var str = \"\"\n    if (typeof separator === 'undefined')\n\tseparator = '\\n'\n    for (var i = 0; i < nnames; i++)\n\tstr += DecodeSingleName(B, N, T, i) + separator\n\n    return str\n}\n\n//----------------------------------------------------------------------\n// Main tokeniser encode function\n\n// Encoder is trickier than decode as we have a lot of decisions to make.\n// However here we just make a simple guess without anything complex,\n// to demonstrate the basic idea.  See the C implementation for further\n// expansion on this.\nfunction encode(src, use_arith) {\n    // Convert buffer to array of names\n    var str = src.toString()\n    if (str[str.length-1] == '\\n')\n\tstr = str.substring(0,str.length-1)\n    var names = str.split(\"\\n\")\n\n    var out = new IOStream(\"\", 0, str.length*2 + 10000) // guess max size\n    out.WriteUint32(str.length)\n    out.WriteUint32(names.length)\n    out.WriteByte(use_arith)\n\n    // Tokenise names\n    var T = new Array(names.length)\n    var H = {}\n    var F = new Array(256).fill(0) // DELTA vs DIGIT frequency\n    var max_tok = 0\n    var max_len = 0\n    for (var i = 0; i < names.length; i++) {\n\tvar [ntok,len] = TokeniseName(T, H, F, names[i], i)\n\tif (max_tok < ntok)\n\t    max_tok = ntok\n\tif (max_len < len)\n\t    max_len = len\n    }\n\n    // Convert tokens to byte streams and serialise\n    for (var tnum = 0; tnum < max_tok; tnum++) {\n\tvar B = new Array(TOK_END+1)\n\tfor (var type = 0; type <= TOK_END; type++)\n\t    B[type] = new IOStream(\"\", 0, names.length * max_len)\n\n\tFillByteStreams(B, T, tnum, names, max_tok, max_len)\n\tSerialiseByteStreams(B, tnum, use_arith, out)\n    }\n\n    return out.buf.slice(0, out.pos)\n}\n\nfunction FillByteStreams(B, T, tnum, names, max_tok, max_len) {\n    // Create byte streams B[]\n    for (var n = 0; n < names.length; n++) {\n\tif (tnum > 0 && T[n][0].type == TOK_DUP)\n\t    continue\n\n\tif (!T[n][tnum])\n\t    continue\n\n\tB[TOK_TYPE].WriteByte(T[n][tnum].type)\n\n\tswitch (T[n][tnum].type) {\n\tcase TOK_DIFF:\n\t    B[TOK_DIFF].WriteUint32(T[n][tnum].val)\n\t    break\n\n\tcase TOK_DUP:\n\t    B[TOK_DUP].WriteUint32(T[n][tnum].val)\n\t    break\n\n\tcase TOK_STRING:\n\t    B[TOK_STRING].WriteString(T[n][tnum].val)\n\t    break\n\n\tcase TOK_CHAR:\n\t    B[TOK_CHAR].WriteChar(T[n][tnum].val)\n\t    break\n\n\tcase TOK_DIGITS:\n\t    B[TOK_DIGITS].WriteUint32(T[n][tnum].val)\n\t    break\n\n\tcase TOK_DIGITS0:\n\t    B[TOK_DIGITS0].WriteUint32(T[n][tnum].val)\n\t    B[TOK_DZLEN].WriteByte(T[n][tnum].val.length)\n\t    break\n\n\tcase TOK_DELTA:\n\t    B[T[n][tnum].type].WriteByte(T[n][tnum].val)\n\t    break\n\n\tcase TOK_DELTA0:\n\t    B[T[n][tnum].type].WriteByte(T[n][tnum].val)\n\t    break\n\t}\n    }\n}\n\nfunction SerialiseByteStreams(B, tnum, use_arith, out) {\n    // Compress and serialise byte streams B[]\n    for (var type = 0; type <= TOK_END; type++) {\n\tif (B[type].pos <= 0)\n\t    continue\n\n\tout.WriteByte(type + ((type == 0) ? 128 : 0))\n\n\t// IOStream to sized buffer\n\tB[type] = B[type].buf.slice(0, B[type].pos)\n\tvar comp = try_compress(B[type], use_arith)\n\n\tout.WriteUint7(comp.length)\n\tout.WriteData(comp, comp.length)\n    }\n}\n\nfunction try_compress(src, use_arith) {\n    var best = 1<<30\n    var comp\n\n    var methods = [0, 1, 64, 65, 128, 129, 193+8]\n    for (var i in methods) {\n\tvar lvl = methods[i]\n\tif ((lvl & 1) && src.length < 100)\n\t    continue\n\n\tif ((lvl & 8) && (src.length % 4) != 0)\n\t    continue\n\n\ttry {\n\t    var tmp = use_arith\n\t\t? arith.encode(src, lvl)\n\t\t: rans.encode(src, lvl)\n\t} catch (e) {\n\t    var tmp = 0\n\t}\n\tif (tmp && best > tmp.length) {\n\t    best = tmp.length\n\t    comp = tmp\n\t}\n    }\n\n    return comp\n}\n\nfunction TokeniseName(T, H, F, name, n) {\n    var max_len = 0\n\n    // Always compare against last name only\n    var p = n-1\n    T[n] = new Array(256)\n\n    if (H[name]) {\n\t//console.error(name,H[name],n)\n\tT[n][0] = {\n\t    type: TOK_DUP,\n\t    val:  n - H[name]\n\t}\n    } else {\n\tT[n][0] = {\n\t    type: TOK_DIFF,\n\t    val:  n == 0 ? 0 : 1\n\t}\n    }\n\n    H[name] = n\n\n    // Splits on alphanumerics, punctuation\n    var tok = name.match(/([a-zA-Z0-9]{1,9})|([^a-zA-Z0-9]+)/g)\n    for (var i = 0; i < tok.length; i++) {\n\tvar t = i+1 // token 0 = DIFF vs DUP\n\tvar type = TOK_STRING\n\tvar val = tok[i]\n\tif (tok[i].match(/^0+[0-9]*$/g))\n\t    type = TOK_DIGITS0\n\telse if (tok[i].match(/^[0-9]+$/g))\n\t    type = TOK_DIGITS\n\telse if (tok[i].length == 1)\n\t    type = TOK_CHAR\n\n\tif (p >= 0 && T[p][t]) {\n\t    if (T[p][t].str == tok[i]) {\n\t\ttype = TOK_MATCH\n\t\tval = \"\"\n\t    } else if (T[p][t].type == TOK_DIGITS || T[p][t].type == TOK_DELTA) {\n\t\tvar d = val - T[p][t].str;\n\t\tF[t]++\n\t\tif (d >= 0 && d < 256 && F[t] > n/2) {\n\t\t    type = TOK_DELTA\n\t\t    val = d\n\t\t}\n\t    } else if ((T[p][t].type == TOK_DIGITS0 || T[p][t].type == TOK_DELTA0)\n\t\t       && T[p][t].str.length == val.length) {\n\t\tvar d = val - T[p][t].str;\n\t\tF[t]++\n\t\tif (d >= 0 && d < 256 && F[t] > n/2) {\n\t\t    type = TOK_DELTA0\n\t\t    val = d\n\t\t}\n\t    }\n\t}\n\n\tT[n][t] = {\n\t    str:  tok[i],\n\t    val:  val,\n\t    type: type\n\t}\n\n\tif (max_len < T[n][t].val.length+3)  // +3 for integers; 5 -> (Uint32)5\n\t    max_len = T[n][t].val.length+3\n\n\t//console.error(t,T[n][t])\n    }\n    T[n][++t] = {\n\ttype: TOK_END\n    }\n\n    return [t+1, max_len]\n}\n\nmodule.exports = { encode, decode }\n",null,"(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n",null,null,null,"var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";function _typeof(obj) {if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} //= =======================================================================================\n// Globals\n//= =======================================================================================\nvar _require = require(\"buffer\"),Buffer = _require.Buffer;\nvar vm = require(\"vm\");\n\nvar Context = require(\"./context\").Context;\nvar Long = require(\"long\");\n\nif (typeof window !== \"undefined\") window.Buffer = Buffer;\nif (typeof self !== \"undefined\") self.Buffer = Buffer; // this is for webworker, and also is not an elseif to avoid window polyfills in webworker\n\nvar PRIMITIVE_TYPES = {\n  UInt8: 1,\n  UInt16LE: 2,\n  UInt16BE: 2,\n  UInt32LE: 4,\n  UInt32BE: 4,\n  Int8: 1,\n  Int16LE: 2,\n  Int16BE: 2,\n  Int32LE: 4,\n  Int32BE: 4,\n  FloatLE: 4,\n  FloatBE: 4,\n  DoubleLE: 8,\n  DoubleBE: 8,\n  UInt64: 8,\n  Int64: 8 };\n\n\nvar SPECIAL_TYPES = {\n  String: null,\n  Buffer: null,\n  Array: null,\n  Skip: null,\n  Choice: null,\n  Nest: null,\n  Bit: null,\n  Itf8: null,\n  Ltf8: null };\n\n\nvar aliasRegistry = {};\nvar FUNCTION_PREFIX = \"___parser_\";\n\nvar BIT_RANGE = [];\n(function () {\n  var i;\n  for (i = 1; i <= 32; i++) {\n    BIT_RANGE.push(i);\n  }\n})();\n\n// Converts Parser's method names to internal type names\nvar NAME_MAP = {};\nObject.keys(PRIMITIVE_TYPES).\nconcat(Object.keys(SPECIAL_TYPES)).\nforEach(function (type) {\n  NAME_MAP[type.toLowerCase()] = type;\n});\n\n//= =======================================================================================\n// class Parser\n//= =======================================================================================\n\n//----------------------------------------------------------------------------------------\n// constructor\n//----------------------------------------------------------------------------------------\n\nvar Parser = function Parser() {\n  this.varName = \"\";\n  this.type = \"\";\n  this.options = {};\n  this.next = null;\n  this.head = null;\n  this.compiled = null;\n  this.endian = \"le\";\n  this.constructorFn = null;\n  this.alias = null;\n};\n\n//----------------------------------------------------------------------------------------\n// public methods\n//----------------------------------------------------------------------------------------\n\nParser.start = function () {\n  return new Parser();\n};\n\nObject.keys(PRIMITIVE_TYPES).forEach(function (type) {\n  Parser.prototype[type.toLowerCase()] = function (varName, options) {\n    return this.setNextParser(type.toLowerCase(), varName, options);\n  };\n\n  var typeWithoutEndian = type.replace(/BE|LE/, \"\").toLowerCase();\n  if (!(typeWithoutEndian in Parser.prototype)) {\n    Parser.prototype[typeWithoutEndian] = function (varName, options) {\n      return this[typeWithoutEndian + this.endian](varName, options);\n    };\n  }\n});\n\nBIT_RANGE.forEach(function (i) {\n  Parser.prototype[\"bit\".concat(i.toString())] = function (varName, options) {\n    if (!options) {\n      options = {};\n    }\n    options.length = i;\n    return this.setNextParser(\"bit\", varName, options);\n  };\n});\n\nParser.prototype.namely = function (alias) {\n  aliasRegistry[alias] = this;\n  this.alias = alias;\n  return this;\n};\n\nParser.prototype.skip = function (length, options) {\n  if (options && options.assert) {\n    throw new Error(\"assert option on skip is not allowed.\");\n  }\n\n  return this.setNextParser(\"skip\", \"\", { length: length });\n};\n\nParser.prototype.string = function (varName, options) {\n  if (!options.zeroTerminated && !options.length && !options.greedy) {\n    throw new Error(\n    \"Neither length, zeroTerminated, nor greedy is defined for string.\");\n\n  }\n  if ((options.zeroTerminated || options.length) && options.greedy) {\n    throw new Error(\n    \"greedy is mutually exclusive with length and zeroTerminated for string.\");\n\n  }\n  if (options.stripNull && !(options.length || options.greedy)) {\n    throw new Error(\n    \"Length or greedy must be defined if stripNull is defined.\");\n\n  }\n  options.encoding = options.encoding || \"utf8\";\n\n  return this.setNextParser(\"string\", varName, options);\n};\n\nParser.prototype.buffer = function (varName, options) {\n  if (!options.length && !options.readUntil) {\n    throw new Error(\"Length nor readUntil is defined in buffer parser\");\n  }\n\n  return this.setNextParser(\"buffer\", varName, options);\n};\n\nParser.prototype.array = function (varName, options) {\n  if (!options.readUntil && !options.length && !options.lengthInBytes) {\n    throw new Error(\"Length option of array is not defined.\");\n  }\n  if (!options.type) {\n    throw new Error(\"Type option of array is not defined.\");\n  }\n  if (\n  typeof options.type === \"string\" &&\n  !aliasRegistry[options.type] &&\n  Object.keys(PRIMITIVE_TYPES).indexOf(NAME_MAP[options.type]) < 0)\n  {\n    throw new Error(\"Specified primitive type \\\"\".concat(\n    options.type, \"\\\" is not supported.\"));\n\n  }\n\n  return this.setNextParser(\"array\", varName, options);\n};\n\nParser.prototype.choice = function (varName, options) {\n  if (arguments.length === 1 && _typeof(varName) === \"object\") {\n    options = varName;\n    varName = null;\n  }\n\n  if (!options.tag) {\n    throw new Error(\"Tag option of array is not defined.\");\n  }\n  if (!options.choices) {\n    throw new Error(\"Choices option of array is not defined.\");\n  }\n\n  Object.keys(options.choices).forEach(function (key) {\n    // if (isNaN(parseInt(key, 10))) {\n    //   throw new Error(\"Key of choices must be a number.\");\n    // }\n    if (!options.choices[key]) {\n      throw new Error(\"Choice Case \".concat(key, \" of \").concat(varName, \" is not valid.\"));\n    }\n\n    if (\n    typeof options.choices[key] === \"string\" &&\n    !aliasRegistry[options.choices[key]] &&\n    Object.keys(PRIMITIVE_TYPES).indexOf(NAME_MAP[options.choices[key]]) < 0)\n    {\n      throw new Error(\"Specified primitive type \\\"\".concat(\n      options.choices[key], \"\\\" is not supported.\"));\n\n    }\n  }, this);\n\n  return this.setNextParser(\"choice\", varName, options);\n};\n\nParser.prototype.nest = function (varName, options) {\n  if (arguments.length === 1 && _typeof(varName) === \"object\") {\n    options = varName;\n    varName = null;\n  }\n\n  if (!options.type) {\n    throw new Error(\"Type option of nest is not defined.\");\n  }\n  if (!(options.type instanceof Parser) && !aliasRegistry[options.type]) {\n    throw new Error(\"Type option of nest must be a Parser object.\");\n  }\n  if (!(options.type instanceof Parser) && !varName) {\n    throw new Error(\n    \"options.type must be a object if variable name is omitted.\");\n\n  }\n\n  return this.setNextParser(\"nest\", varName, options);\n};\n\nParser.prototype.endianess = function (endianess) {\n  switch (endianess.toLowerCase()) {\n    case \"little\":\n      this.endian = \"le\";\n      break;\n    case \"big\":\n      this.endian = \"be\";\n      break;\n    default:\n      throw new Error(\"Invalid endianess: \".concat(endianess));}\n\n\n  return this;\n};\n\nParser.prototype.create = function (constructorFn) {\n  if (!(constructorFn instanceof Function)) {\n    throw new Error(\"Constructor must be a Function object.\");\n  }\n\n  this.constructorFn = constructorFn;\n\n  return this;\n};\n\nParser.prototype.getCode = function () {\n  var ctx = new Context();\n\n  ctx.pushCode(\"if (!Buffer.isBuffer(buffer)) {\");\n  ctx.generateError('\"argument buffer is not a Buffer object\"');\n  ctx.pushCode(\"}\");\n\n  if (!this.alias) {\n    this.addRawCode(ctx);\n  } else {\n    this.addAliasedCode(ctx);\n  }\n\n  if (this.alias) {\n    ctx.pushCode(\"return {0}(0)\", FUNCTION_PREFIX + this.alias);\n  } else {\n    ctx.pushCode(\"return { offset: offset, result: vars };\");\n  }\n\n  return ctx.code;\n};\n\nParser.prototype.addRawCode = function (ctx) {\n  ctx.pushCode(\"var offset = 0;\");\n\n  if (this.constructorFn) {\n    ctx.pushCode(\"var vars = new constructorFn();\");\n  } else {\n    ctx.pushCode(\"var vars = {};\");\n  }\n\n  this.generate(ctx);\n\n  this.resolveReferences(ctx);\n\n  ctx.pushCode(\"return { offset: offset, result: vars };\");\n};\n\nParser.prototype.addAliasedCode = function (ctx) {\n  ctx.pushCode(\"function {0}(offset) {\", FUNCTION_PREFIX + this.alias);\n\n  if (this.constructorFn) {\n    ctx.pushCode(\"var vars = new constructorFn();\");\n  } else {\n    ctx.pushCode(\"var vars = {};\");\n  }\n\n  this.generate(ctx);\n\n  ctx.markResolved(this.alias);\n  this.resolveReferences(ctx);\n\n  ctx.pushCode(\"return { offset: offset, result: vars };\");\n  ctx.pushCode(\"}\");\n\n  return ctx;\n};\n\nParser.prototype.resolveReferences = function (ctx) {\n  var references = ctx.getUnresolvedReferences();\n  ctx.markRequested(references);\n  references.forEach(function (alias) {\n    var parser = aliasRegistry[alias];\n    parser.addAliasedCode(ctx);\n  });\n};\n\nParser.prototype.compile = function () {\n  var src = \"(function(buffer, constructorFn, Long) { \".concat(this.getCode(), \" })\");\n  this.compiled = vm.runInThisContext(src);\n};\n\nParser.prototype.sizeOf = function () {\n  var size = NaN;\n\n  if (Object.keys(PRIMITIVE_TYPES).indexOf(this.type) >= 0) {\n    size = PRIMITIVE_TYPES[this.type];\n\n    // if this is a fixed length string\n  } else if (\n  this.type === \"String\" &&\n  typeof this.options.length === \"number\")\n  {\n    size = this.options.length;\n\n    // if this is a fixed length buffer\n  } else if (\n  this.type === \"Buffer\" &&\n  typeof this.options.length === \"number\")\n  {\n    size = this.options.length;\n\n    // if this is a fixed length array\n  } else if (this.type === \"Array\" && typeof this.options.length === \"number\") {\n    var elementSize = NaN;\n    if (typeof this.options.type === \"string\") {\n      elementSize = PRIMITIVE_TYPES[NAME_MAP[this.options.type]];\n    } else if (this.options.type instanceof Parser) {\n      elementSize = this.options.type.sizeOf();\n    }\n    size = this.options.length * elementSize;\n\n    // if this a skip\n  } else if (this.type === \"Skip\") {\n    size = this.options.length;\n\n    // if this is a nested parser\n  } else if (this.type === \"Nest\") {\n    size = this.options.type.sizeOf();\n  } else if (!this.type) {\n    size = 0;\n  }\n\n  if (this.next) {\n    size += this.next.sizeOf();\n  }\n\n  return size;\n};\n\n// Follow the parser chain till the root and start parsing from there\nParser.prototype.parse = function (buffer) {\n  if (!this.compiled) {\n    this.compile();\n  }\n\n  return this.compiled(buffer, this.constructorFn, Long);\n};\n\n//----------------------------------------------------------------------------------------\n// private methods\n//----------------------------------------------------------------------------------------\n\nParser.prototype.setNextParser = function (type, varName, options) {\n  var parser = new Parser();\n\n  parser.type = NAME_MAP[type];\n  parser.varName = varName;\n  parser.options = options || parser.options;\n  parser.endian = this.endian;\n\n  if (this.head) {\n    this.head.next = parser;\n  } else {\n    this.next = parser;\n  }\n  this.head = parser;\n\n  return this;\n};\n\n// Call code generator for this parser\nParser.prototype.generate = function (ctx) {\n  if (this.type) {\n    this[\"generate\".concat(this.type)](ctx);\n    this.generateAssert(ctx);\n  }\n\n  var varName = ctx.generateVariable(this.varName);\n  if (this.options.formatter) {\n    this.generateFormatter(ctx, varName, this.options.formatter);\n  }\n\n  return this.generateNext(ctx);\n};\n\nParser.prototype.generateAssert = function (ctx) {\n  if (!this.options.assert) {\n    return;\n  }\n\n  var varName = ctx.generateVariable(this.varName);\n\n  switch (_typeof(this.options.assert)) {\n    case \"function\":\n      ctx.pushCode(\n      \"if (!({0}).call(vars, {1})) {\",\n      this.options.assert,\n      varName);\n\n      break;\n    case \"number\":\n      ctx.pushCode(\"if ({0} !== {1}) {\", this.options.assert, varName);\n      break;\n    case \"string\":\n      ctx.pushCode('if (\"{0}\" !== {1}) {', this.options.assert, varName);\n      break;\n    default:\n      throw new Error(\n      \"Assert option supports only strings, numbers and assert functions.\");}\n\n\n  ctx.generateError('\"Assert error: {0} is \" + {0}', varName);\n  ctx.pushCode(\"}\");\n};\n\n// Recursively call code generators and append results\nParser.prototype.generateNext = function (ctx) {\n  if (this.next) {\n    ctx = this.next.generate(ctx);\n  }\n\n  return ctx;\n};\n\nObject.keys(PRIMITIVE_TYPES).forEach(function (type) {\n  Parser.prototype[\"generate\".concat(type)] = function (ctx) {\n    if (type === \"UInt64\") {\n      ctx.pushCode(\n      \"{0} = Long.fromBytes(buffer.slice(offset,offset+8), true, this.endian === 'le').toNumber();\",\n      ctx.generateVariable(this.varName),\n      type);\n\n    } else if (type === \"Int64\") {\n      ctx.pushCode(\n      \"{0} = Long.fromBytes(buffer.slice(offset,offset+8), false, this.endian === 'le').toNumber();\",\n      ctx.generateVariable(this.varName),\n      type);\n\n    } else {\n      ctx.pushCode(\n      \"{0} = buffer.read{1}(offset);\",\n      ctx.generateVariable(this.varName),\n      type);\n\n    }\n    ctx.pushCode(\"offset += {0};\", PRIMITIVE_TYPES[type]);\n  };\n});\n\nParser.prototype.generateBit = function (ctx) {\n  // TODO find better method to handle nested bit fields\n  var parser = JSON.parse(JSON.stringify(this));\n  parser.varName = ctx.generateVariable(parser.varName);\n  ctx.bitFields.push(parser);\n\n  if (\n  !this.next ||\n  this.next && [\"Bit\", \"Nest\"].indexOf(this.next.type) < 0)\n  {\n    var sum = 0;\n    ctx.bitFields.forEach(function (p) {\n      sum += p.options.length;\n    });\n\n    var val = ctx.generateTmpVariable();\n\n    if (sum <= 8) {\n      ctx.pushCode(\"var {0} = buffer.readUInt8(offset);\", val);\n      sum = 8;\n    } else if (sum <= 16) {\n      ctx.pushCode(\"var {0} = buffer.readUInt16BE(offset);\", val);\n      sum = 16;\n    } else if (sum <= 24) {\n      var val1 = ctx.generateTmpVariable();\n      var val2 = ctx.generateTmpVariable();\n      ctx.pushCode(\"var {0} = buffer.readUInt16BE(offset);\", val1);\n      ctx.pushCode(\"var {0} = buffer.readUInt8(offset + 2);\", val2);\n      ctx.pushCode(\"var {2} = ({0} << 8) | {1};\", val1, val2, val);\n      sum = 24;\n    } else if (sum <= 32) {\n      ctx.pushCode(\"var {0} = buffer.readUInt32BE(offset);\", val);\n      sum = 32;\n    } else {\n      throw new Error(\n      \"Currently, bit field sequence longer than 4-bytes is not supported.\");\n\n    }\n    ctx.pushCode(\"offset += {0};\", sum / 8);\n\n    var bitOffset = 0;\n    var isBigEndian = this.endian === \"be\";\n    ctx.bitFields.forEach(function (p) {\n      ctx.pushCode(\n      \"{0} = {1} >> {2} & {3};\",\n      p.varName,\n      val,\n      isBigEndian ? sum - bitOffset - p.options.length : bitOffset,\n      (1 << p.options.length) - 1);\n\n      bitOffset += p.options.length;\n    });\n\n    ctx.bitFields = [];\n  }\n};\n\nParser.prototype.generateSkip = function (ctx) {\n  var length = ctx.generateOption(this.options.length);\n  ctx.pushCode(\"offset += {0};\", length);\n};\n\nParser.prototype.generateString = function (ctx) {\n  var name = ctx.generateVariable(this.varName);\n  var start = ctx.generateTmpVariable();\n\n  if (this.options.length && this.options.zeroTerminated) {\n    ctx.pushCode(\"var {0} = offset;\", start);\n    ctx.pushCode(\n    \"while(buffer.readUInt8(offset++) !== 0 && offset - {0}  < {1});\",\n    start,\n    this.options.length);\n\n    ctx.pushCode(\n    \"{0} = buffer.toString('{1}', {2}, offset - {2} < {3} ? offset - 1 : offset);\",\n    name,\n    this.options.encoding,\n    start,\n    this.options.length);\n\n  } else if (this.options.length) {\n    ctx.pushCode(\n    \"{0} = buffer.toString('{1}', offset, offset + {2});\",\n    name,\n    this.options.encoding,\n    ctx.generateOption(this.options.length));\n\n    ctx.pushCode(\"offset += {0};\", ctx.generateOption(this.options.length));\n  } else if (this.options.zeroTerminated) {\n    ctx.pushCode(\"var {0} = offset;\", start);\n    ctx.pushCode(\"while(buffer.readUInt8(offset++) !== 0);\");\n    ctx.pushCode(\n    \"{0} = buffer.toString('{1}', {2}, offset - 1);\",\n    name,\n    this.options.encoding,\n    start);\n\n  } else if (this.options.greedy) {\n    ctx.pushCode(\"var {0} = offset;\", start);\n    ctx.pushCode(\"while(buffer.length > offset++);\");\n    ctx.pushCode(\n    \"{0} = buffer.toString('{1}', {2}, offset);\",\n    name,\n    this.options.encoding,\n    start);\n\n  }\n  if (this.options.stripNull) {\n    ctx.pushCode(\"{0} = {0}.replace(/\\\\x00+$/g, '')\", name);\n  }\n};\n\nParser.prototype.generateBuffer = function (ctx) {\n  if (this.options.readUntil === \"eof\") {\n    ctx.pushCode(\n    \"{0} = buffer.slice(offset);\",\n    ctx.generateVariable(this.varName));\n\n  } else {\n    ctx.pushCode(\n    \"{0} = buffer.slice(offset, offset + {1});\",\n    ctx.generateVariable(this.varName),\n    ctx.generateOption(this.options.length));\n\n    ctx.pushCode(\"offset += {0};\", ctx.generateOption(this.options.length));\n  }\n\n  if (this.options.clone) {\n    ctx.pushCode(\"{0} = Buffer.from({0});\", ctx.generateVariable(this.varName));\n  }\n};\n\nParser.prototype.generateArray = function (ctx) {\n  var length = ctx.generateOption(this.options.length);\n  var lengthInBytes = ctx.generateOption(this.options.lengthInBytes);\n  var type = this.options.type;\n  var counter = ctx.generateTmpVariable();\n  var lhs = ctx.generateVariable(this.varName);\n  var item = ctx.generateTmpVariable();\n  var key = this.options.key;\n  var isHash = typeof key === \"string\";\n\n  if (isHash) {\n    ctx.pushCode(\"{0} = {};\", lhs);\n  } else {\n    ctx.pushCode(\"{0} = [];\", lhs);\n  }\n  if (typeof this.options.readUntil === \"function\") {\n    ctx.pushCode(\"do {\");\n  } else if (this.options.readUntil === \"eof\") {\n    ctx.pushCode(\"for (var {0} = 0; offset < buffer.length; {0}++) {\", counter);\n  } else if (lengthInBytes !== undefined) {\n    ctx.pushCode(\n    \"for (var {0} = offset; offset - {0} < {1}; ) {\",\n    counter,\n    lengthInBytes);\n\n  } else {\n    ctx.pushCode(\"for (var {0} = 0; {0} < {1}; {0}++) {\", counter, length);\n  }\n\n  if (typeof type === \"string\") {\n    if (!aliasRegistry[type]) {\n      ctx.pushCode(\"var {0} = buffer.read{1}(offset);\", item, NAME_MAP[type]);\n      ctx.pushCode(\"offset += {0};\", PRIMITIVE_TYPES[NAME_MAP[type]]);\n    } else {\n      var tempVar = ctx.generateTmpVariable();\n      ctx.pushCode(\"var {0} = {1}(offset);\", tempVar, FUNCTION_PREFIX + type);\n      ctx.pushCode(\"var {0} = {1}.result; offset = {1}.offset;\", item, tempVar);\n      if (type !== this.alias) ctx.addReference(type);\n    }\n  } else if (type instanceof Parser) {\n    ctx.pushCode(\"var {0} = {};\", item);\n\n    ctx.pushScope(item);\n    type.generate(ctx);\n    ctx.popScope();\n  }\n\n  if (isHash) {\n    ctx.pushCode(\"{0}[{2}.{1}] = {2};\", lhs, key, item);\n  } else {\n    ctx.pushCode(\"{0}.push({1});\", lhs, item);\n  }\n\n  ctx.pushCode(\"}\");\n\n  if (typeof this.options.readUntil === \"function\") {\n    ctx.pushCode(\n    \" while (!({0}).call(this, {1}, buffer.slice(offset)));\",\n    this.options.readUntil,\n    item);\n\n  }\n};\n\nParser.prototype.generateChoiceCase = function (ctx, varName, type) {\n  if (typeof type === \"string\") {\n    if (!aliasRegistry[type]) {\n      ctx.pushCode(\n      \"{0} = buffer.read{1}(offset);\",\n      ctx.generateVariable(this.varName),\n      NAME_MAP[type]);\n\n      ctx.pushCode(\"offset += {0};\", PRIMITIVE_TYPES[NAME_MAP[type]]);\n    } else {\n      var tempVar = ctx.generateTmpVariable();\n      ctx.pushCode(\"var {0} = {1}(offset);\", tempVar, FUNCTION_PREFIX + type);\n      ctx.pushCode(\n      \"{0} = {1}.result; offset = {1}.offset;\",\n      ctx.generateVariable(this.varName),\n      tempVar);\n\n      if (type !== this.alias) ctx.addReference(type);\n    }\n  } else if (type instanceof Parser) {\n    ctx.pushPath(varName);\n    type.generate(ctx);\n    ctx.popPath(varName);\n  }\n};\n\nParser.prototype.generateChoice = function (ctx) {\n  var tag = ctx.generateOption(this.options.tag);\n  if (this.varName) {\n    ctx.pushCode(\"{0} = {};\", ctx.generateVariable(this.varName));\n  }\n  ctx.pushCode(\"switch({0}) {\", tag);\n  Object.keys(this.options.choices).forEach(function (t) {\n    var type = this.options.choices[t];\n    if (Number.isNaN(parseInt(t, 10))) {\n      ctx.pushCode(\"case '{0}':\", t);\n    } else {\n      ctx.pushCode(\"case {0}:\", t);\n    }\n    this.generateChoiceCase(ctx, this.varName, type);\n    ctx.pushCode(\"break;\");\n  }, this);\n  ctx.pushCode(\"default:\");\n  if (this.options.defaultChoice) {\n    this.generateChoiceCase(ctx, this.varName, this.options.defaultChoice);\n  } else {\n    ctx.generateError('\"Met undefined tag value \" + {0} + \" at choice\"', tag);\n  }\n  ctx.pushCode(\"}\");\n};\n\nParser.prototype.generateNest = function (ctx) {\n  var nestVar = ctx.generateVariable(this.varName);\n\n  if (this.options.type instanceof Parser) {\n    if (this.varName) {\n      ctx.pushCode(\"{0} = {};\", nestVar);\n    }\n    ctx.pushPath(this.varName);\n    this.options.type.generate(ctx);\n    ctx.popPath(this.varName);\n  } else if (aliasRegistry[this.options.type]) {\n    var tempVar = ctx.generateTmpVariable();\n    ctx.pushCode(\n    \"var {0} = {1}(offset);\",\n    tempVar,\n    FUNCTION_PREFIX + this.options.type);\n\n    ctx.pushCode(\"{0} = {1}.result; offset = {1}.offset;\", nestVar, tempVar);\n    if (this.options.type !== this.alias) ctx.addReference(this.options.type);\n  }\n};\n\nParser.prototype.generateFormatter = function (ctx, varName, formatter) {\n  if (typeof formatter === \"function\") {\n    ctx.pushCode(\"{0} = ({1}).call(this, {0});\", varName, formatter);\n  }\n};\n\nParser.prototype.isInteger = function () {\n  return !!this.type.match(/U?Int[8|16|32][BE|LE]?|Bit\\d+/);\n};\n\n// /////////////////// CRAM-specific types //////////////////////////\n//\nParser.prototype.itf8 = function (varName, options) {\n  return this.setNextParser(\"itf8\", varName, options);\n};\nParser.prototype.itf8 = function (varName, options) {\n  return this.setNextParser(\"itf8\", varName, options);\n};\n\nParser.prototype.generateItf8 = function (ctx) {\n  var name = ctx.generateVariable(this.varName);\n  var countFlags = ctx.generateTmpVariable();\n  ctx.pushCode(\"\\n    var \".concat(\n  countFlags, \" = buffer[offset];\\n    if (\").concat(\n  countFlags, \" < 0x80) {\\n      \").concat(\n  name, \" = \").concat(countFlags, \";\\n      offset += 1;\\n    } else if (\").concat(\n\n  countFlags, \" < 0xc0) {\\n      \").concat(\n  name, \" = ((\").concat(countFlags, \"<<8) | buffer[offset+1]) & 0x3fff;\\n      offset += 2;\\n    } else if (\").concat(\n\n  countFlags, \" < 0xe0) {\\n      \").concat(\n  name, \" = ((\").concat(countFlags, \"<<16) | (buffer[offset+1]<< 8) |  buffer[offset+2]) & 0x1fffff;\\n      offset += 3;\\n    } else if (\").concat(\n\n  countFlags, \" < 0xf0) {\\n      \").concat(\n  name, \" = ((\").concat(countFlags, \"<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\\n      offset += 4\\n    } else {\\n      \").concat(\n\n\n  name, \" = ((\").concat(countFlags, \" & 0x0f)<<28) | (buffer[offset+1]<<20) | (buffer[offset+2]<<12) | (buffer[offset+3]<<4) | (buffer[offset+4] & 0x0f);\\n      // x=((0xff & 0x0f)<<28) | (0xff<<20) | (0xff<<12) | (0xff<<4) | (0x0f & 0x0f);\\n      // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\\n      offset += 5\\n    }\\n  \"));\n\n\n\n\n\n};\n\nParser.prototype.ltf8 = function (varName, options) {\n  return this.setNextParser(\"ltf8\", varName, options);\n};\n\nParser.prototype.generateLtf8 = function (ctx) {\n  var name = ctx.generateVariable(this.varName);\n  var countFlags = ctx.generateTmpVariable();\n  ctx.pushCode(\"\\n  var \".concat(\n  countFlags, \" = buffer[offset];\\n  if (\").concat(\n  countFlags, \" < 0x80) {\\n    \").concat(\n  name, \" = \").concat(countFlags, \";\\n    offset += 1;\\n  } else if (\").concat(\n\n  countFlags, \" < 0xc0) {\\n    \").concat(\n  name, \" = ((buffer[offset]<<8) | buffer[offset+1]) & 0x3fff;\\n    offset += 2;\\n  } else if (\").concat(\n\n  countFlags, \" < 0xe0) {\\n    \").concat(\n  name, \" = ((buffer[offset]<<16) | (buffer[offset+1]<<8) | buffer[offset+2]) & 0x1fffff;\\n    \").concat(\n  name, \" = (((\").concat(countFlags, \" & 63) << 16) | buffer.readUInt16LE(offset + 1));\\n    offset += 3;\\n  } else if (\").concat(\n\n  countFlags, \" < 0xf0) {\\n    \").concat(\n  name, \" = ((buffer[offset]<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\\n    offset += 4;\\n  } else if (\").concat(\n\n  countFlags, \" < 0xf8) {\\n    \").concat(\n  name, \" = (((buffer[offset] & 15) * Math.pow(2,32))) +\\n      (buffer[offset+1]<<24) | (buffer[offset+2]<<16 | buffer[offset+3]<<8 | buffer[offset+4])\\n    // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\\n    offset += 5;\\n  } else if (\").concat(\n\n\n\n  countFlags, \" < 0xfc) {\\n    \").concat(\n  name, \" = ((((buffer[offset] & 7) << 8) | buffer[offset+1] )) * Math.pow(2,32) +\\n      (buffer[offset+2]<<24) | (buffer[offset+3]<<16 | buffer[offset+4]<<8 | buffer[offset+5])\\n    offset += 6;\\n  } else if (\").concat(\n\n\n  countFlags, \" < 0xfe) {\\n    \").concat(\n  name, \" = ((((buffer[offset] & 3) << 16) | buffer[offset+1]<<8 | buffer[offset+2])) * Math.pow(2,32) +\\n      (buffer[offset+3]<<24) | (buffer[offset+4]<<16 | buffer[offset+5]<<8 | buffer[offset+6])\\n    offset += 7;\\n  } else if (\").concat(\n\n\n  countFlags, \" < 0xff) {\\n    \").concat(\n  name, \" = Long.fromBytesBE(buffer.slice(offset+1,offset+8));\\n    if (\").concat(\n  name, \".greaterThan(Number.MAX_SAFE_INTEGER) || \").concat(name, \".lessThan(Number.MIN_SAFE_INTEGER))\\n      throw new Error('integer overflow')\\n    \").concat(\n\n  name, \" = \").concat(name, \".toNumber()\\n    offset += 8;\\n  } else {\\n    \").concat(\n\n\n  name, \" = Long.fromBytesBE(buffer.slice(offset+1,offset+9));\\n    if (\").concat(\n  name, \".greaterThan(Number.MAX_SAFE_INTEGER) || \").concat(name, \".lessThan(Number.MIN_SAFE_INTEGER))\\n      throw new Error('integer overflow')\\n    \").concat(\n\n  name, \" = \").concat(name, \".toNumber()\\n    offset += 9;\\n  }\\n  \"));\n\n\n\n};\n\n//= =======================================================================================\n// Exports\n//= =======================================================================================\n\nexports.Parser = Parser;","// https://github.com/ionic-team/rollup-plugin-node-polyfills/blob/9b5fe1a9cafffd4871e6d65613ed224f807ea251/polyfills/vm.js#L129-L132\nfunction runInThisContext(code) {\n  const fn = new Function('code', 'return eval(code);');\n  return fn.call(globalThis, code);\n}\n\nmodule.exports.runInThisContext = runInThisContext;\n","\"use strict\";function _typeof(obj) {if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} //= =======================================================================================\n// class Context\n//= =======================================================================================\n\n//----------------------------------------------------------------------------------------\n// constructor\n//----------------------------------------------------------------------------------------\n\nvar Context = function Context() {\n  this.code = \"\";\n  this.scopes = [[\"vars\"]];\n  this.isAsync = false;\n  this.bitFields = [];\n  this.tmpVariableCount = 0;\n  this.references = {};\n};\n\n//----------------------------------------------------------------------------------------\n// public methods\n//----------------------------------------------------------------------------------------\n\nContext.prototype.generateVariable = function (name) {\n  var arr = [];\n\n  Array.prototype.push.apply(arr, this.scopes[this.scopes.length - 1]);\n\n  // $parent. prefixes allow sub-parsers to access values of their parent parsers\n  while (/^\\$parent\\./.test(name)) {\n    arr.pop();\n    name = name.replace(/^\\$parent\\./, \"\");\n  }\n\n  if (name) {\n    arr.push(name);\n  }\n\n  return arr.join(\".\");\n};\n\nContext.prototype.generateOption = function (val) {\n  switch (_typeof(val)) {\n    case \"number\":\n      return val.toString();\n    case \"string\":\n      return this.generateVariable(val);\n    case \"function\":\n      return \"(\".concat(val, \").call(\").concat(this.generateVariable(), \", vars)\");\n    default:\n      return undefined;}\n\n};\n\nContext.prototype.generateError = function () {\n  var args = Array.prototype.slice.call(arguments);\n  var err = Context.interpolate.apply(this, args);\n\n  if (this.isAsync) {\n    this.pushCode(\"return process.nextTick(function() { callback(new Error(\".concat(\n    err, \"), vars); });\"));\n\n  } else {\n    this.pushCode(\"throw new Error(\".concat(err, \");\"));\n  }\n};\n\nContext.prototype.generateTmpVariable = function () {\n  return \"$tmp\".concat(this.tmpVariableCount++);\n};\n\nContext.prototype.pushCode = function () {\n  var args = Array.prototype.slice.call(arguments);\n\n  this.code += \"\".concat(Context.interpolate.apply(this, args), \"\\n\");\n};\n\nContext.prototype.pushPath = function (name) {\n  if (name) {\n    this.scopes[this.scopes.length - 1].push(name);\n  }\n};\n\nContext.prototype.popPath = function (name) {\n  if (name) {\n    this.scopes[this.scopes.length - 1].pop();\n  }\n};\n\nContext.prototype.pushScope = function (name) {\n  this.scopes.push([name]);\n};\n\nContext.prototype.popScope = function () {\n  this.scopes.pop();\n};\n\nContext.prototype.addReference = function (alias) {\n  if (this.references[alias]) return;\n  this.references[alias] = { resolved: false, requested: false };\n};\n\nContext.prototype.markResolved = function (alias) {\n  this.references[alias].resolved = true;\n};\n\nContext.prototype.markRequested = function (aliasList) {\n  aliasList.forEach(\n  function (alias) {\n    this.references[alias].requested = true;\n  }.bind(this));\n\n};\n\nContext.prototype.getUnresolvedReferences = function () {\n  var references = this.references;\n  return Object.keys(this.references).filter(function (alias) {\n    return !references[alias].resolved && !references[alias].requested;\n  });\n};\n\n//----------------------------------------------------------------------------------------\n// private methods\n//----------------------------------------------------------------------------------------\n\nContext.interpolate = function (s) {\n  var re = /{\\d+}/g;\n  var matches = s.match(re);\n  var params = Array.prototype.slice.call(arguments, 1);\n\n  if (matches) {\n    matches.forEach(function (match) {\n      var index = parseInt(match.substr(1, match.length - 2), 10);\n      s = s.replace(match, params[index].toString());\n    });\n  }\n\n  return s;\n};\n\nexports.Context = Context;","/*\n * Copyright (c) 2019 Genome Research Ltd.\n * Author(s): James Bonfield\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice,\n *       this list of conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above\n *       copyright notice, this list of conditions and the following\n *       disclaimer in the documentation and/or other materials provided\n *       with the distribution.\n *\n *    3. Neither the names Genome Research Ltd and Wellcome Trust Sanger\n *       Institute nor the names of its contributors may be used to endorse\n *       or promote products derived from this software without specific\n *       prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY GENOME RESEARCH LTD AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED\n * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A\n * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GENOME RESEARCH\n * LTD OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n// Turn a buffer into a fake stream with get / put commands.\n// This enables up to closely match the published pseudocode.\nmodule.exports = class IOStream {\n    constructor(buf, start_pos = 0, size = 0) {\n\tif (size != 0) {\n\t    this.buf = Buffer.allocUnsafe(size)\n\t    this.length = size\n\t} else {\n\t    this.buf = buf\n\t    this.length = buf.length\n\t}\n\tthis.pos = start_pos\n    }\n\n    // ----------\n    // Reading\n    EOF() {\n\treturn this.pos >= this.length\n    }\n\n    ReadData(len) {\n\tvar A = this.buf.slice(this.pos, this.pos+len)\n\tthis.pos += len;\n\treturn A\n    }\n\n    ReadByte() {\n\tconst b = this.buf[this.pos]\n\tthis.pos++\n\treturn b\n    }\n\n    ReadChar() {\n\tconst b = this.buf[this.pos]\n\tthis.pos++\n\treturn String.fromCharCode(b)\n    }\n\n    ReadUint16() {\n\tvar i = this.ReadByte()\n\ti |= this.ReadByte()<<8\n\treturn i\n    }\n\n    ReadUint32() {\n\tconst i = this.buf.readInt32LE(this.pos)\n\tthis.pos += 4\n\treturn i\n    }\n\n    // nul terminated string\n    ReadString() {\n\tvar s = \"\"\n\tdo {\n\t    var b = this.buf[this.pos++]\n\t    if (b)\n\t\ts += String.fromCharCode(b)\n\t} while (b)\n\treturn s\n    }\n\n//    ReadUint7() {\n//\t// Variable sized unsigned integers\n//\tvar i = 0;\n//\tvar s = 0;\n//\tdo {\n//\t    var c = this.ReadByte();\n//\t    i = i | ((c & 0x7f)<<s);\n//\t    s += 7;\n//\t} while ((c & 0x80))\n//\n//\treturn i;\n//    }\n\n    ReadUint7() {\n\t// Variable sized unsigned integers\n\tvar i = 0;\n\tdo {\n\t    var c = this.ReadByte();\n\t    i = (i<<7) | (c & 0x7f)\n\t} while ((c & 0x80))\n\n\treturn i;\n    }\n\n    ReadITF8() {\n\tvar i = this.buf[this.pos];\n\tthis.pos++;\n\n\t//process.stderr.write(\"i=\"+i+\"\\n\");\n\n\tif (i >= 0xf0) {\n\t    // 1111xxxx => +4 bytes\n\t    i = (i & 0x0f) << 28;\n\t    i += (this.buf[this.pos+0] << 20)\n\t      +  (this.buf[this.pos+1] << 12)\n\t      +  (this.buf[this.pos+2] <<  4)\n\t      +  (this.buf[this.pos+3] >>  4);\n\t    this.pos += 4;\n\t    //process.stderr.write(\"  4i=\"+i+\"\\n\");\n\t} else if (i >= 0xe0) {\n\t    // 1110xxxx => +3 bytes\n\t    i = (i & 0x0f) << 24;\n\t    i += (this.buf[this.pos+0] << 16)\n\t      +  (this.buf[this.pos+1] <<  8)\n\t      +  (this.buf[this.pos+2] <<  0);\n\t    this.pos += 3;\n\t    //process.stderr.write(\"  3i=\"+i+\"\\n\");\n\t} else if (i >= 0xc0) {\n\t    // 110xxxxx => +2 bytes\n\t    i = (i & 0x1f) << 16;\n\t    i += (this.buf[this.pos+0] << 8)\n\t      +  (this.buf[this.pos+1] << 0);\n\t    this.pos += 2;\n\t    //process.stderr.write(\"  2i=\"+i+\"\\n\");\n\t} else if (i >= 0x80) {\n\t    // 10xxxxxx => +1 bytes\n\t    i = (i & 0x3f) << 8;\n\t    i += this.buf[this.pos];\n\t    this.pos++;;\n\t    //process.stderr.write(\"  1i=\"+i+\"\\n\");\n\t} else {\n\t    // 0xxxxxxx => +0 bytes\n\t}\n\n\treturn i;\n    }\n\n    // ----------\n    // Writing\n    WriteByte(b) {\n\tthis.buf[this.pos++] = b\n    }\n\n    WriteChar(b) {\n\tthis.buf[this.pos++] = b.charCodeAt(0)\n    }\n\n    WriteString(str) {\n\tfor (var i = 0; i < str.length; i++)\n\t    this.buf[this.pos++] = str.charCodeAt(i)\n\tthis.buf[this.pos++] = 0\n    }\n\n    WriteData(buf, len) {\n\tfor (var i = 0; i < len; i++)\n\t    this.buf[this.pos++] = buf[i]\n    }\n\n    WriteStream(stream) {\n\tthis.WriteData(stream.buf, stream.pos)\n    }\n\n    WriteUint16(u) {\n\t//this.buf.writeInt16LE(u, this.pos);\n\tthis.WriteByte(u&0xff)\n\tthis.WriteByte((u>>8)&0xff)\n    }\n\n    WriteUint32(u) {\n\tthis.buf.writeInt32LE(u, this.pos);\n\tthis.pos += 4;\n    }\n\n//    WriteUint7(i) {\n//\tdo {\n//\t    this.WriteByte((i & 0x7f) | ((i > 0x80) << 7));\n//\t    i >>= 7;\n//\t} while (i > 0);\n//    }\n\n    WriteUint7(i) {\n\tvar s = 0;\n\tvar X = i;\n\tdo {\n\t    s += 7;\n\t    X >>= 7;\n\t} while (X > 0);\n\n\tdo {\n\t    s -= 7;\n\t    this.WriteByte(((i >> s) & 0x7f) + ((s > 0) << 7))\n\t} while (s > 0);\n    }\n\n    WriteITF8(i) {\n\t// Horrid, ITF8 is unsigned, but we still write signed into it\n\tif (i < 0)\n\t    i = (1<<32) + i\n\n\tif (i <= 0x0000007f) {\n\t    // 1 byte\n\t    this.buf[this.pos++] = i\n\t} else if (i <= 0x00003fff) {\n\t    // 2 bytes\n\t    this.buf[this.pos++] = 0x80 | Math.floor(i / 256)\n\t    this.buf[this.pos++] = i & 0xff;\n\t} else if (i < 0x0001ffff) {\n\t    // 3 bytes\n\t    this.buf[this.pos++] = 0xc0 | Math.floor(i / 65536)\n\t    this.buf[this.pos++] = Math.floor(i / 256) & 0xff\n\t    this.buf[this.pos++] = i & 0xff;\n\t} else if (i < 0x0fffffff) {\n\t    // 4 bytes\n\t    this.buf[this.pos++] = 0xe0 | Math.floor(i / 16777216)\n\t    this.buf[this.pos++] = Math.floor(i / 65536) & 0xff\n\t    this.buf[this.pos++] = Math.floor(i /   256) & 0xff\n\t    this.buf[this.pos++] = i & 0xff;\n\t} else {\n\t    // 5 bytes; oddly using 4.5 bytes\n\t    this.buf[this.pos++] = 0xf0 | Math.floor(i / 268435456)\n\t    this.buf[this.pos++] = Math.floor(i / 1048576) & 0xff\n\t    this.buf[this.pos++] = Math.floor(i /    4096) & 0xff\n\t    this.buf[this.pos++] = Math.floor(i /       4) & 0xff\n\t    this.buf[this.pos++] = i & 0x0f;\n\t}\n    }\n\n    // ----------\n    // Writing from end of buffer going backwards.\n    // Needed by rANS codec.\n    WriteByteNeg(b) {\n\tthis.buf[--this.pos] = b;\n    }\n};\n",null,null,null,"'use strict';\n\nclass QuickLRU {\n\tconstructor(options = {}) {\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst value = this.oldCache.get(key);\n\t\t\tthis._set(key, value);\n\t\t\treturn value;\n\t\t}\n\t}\n\n\tset(key, value) {\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, value);\n\t\t} else {\n\t\t\tthis._set(key, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\thas(key) {\n\t\treturn this.cache.has(key) || this.oldCache.has(key);\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this.oldCache.get(key);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tyield item;\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget size() {\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn this._size + oldCacheSize;\n\t}\n}\n\nmodule.exports = QuickLRU;\n",null,null,"/*\n * Copyright (c) 2019 Genome Research Ltd.\n * Author(s): James Bonfield\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice,\n *       this list of conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above\n *       copyright notice, this list of conditions and the following\n *       disclaimer in the documentation and/or other materials provided\n *       with the distribution.\n *\n *    3. Neither the names Genome Research Ltd and Wellcome Trust Sanger\n *       Institute nor the names of its contributors may be used to endorse\n *       or promote products derived from this software without specific\n *       prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY GENOME RESEARCH LTD AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED\n * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A\n * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GENOME RESEARCH\n * LTD OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nconst IOStream = require(\"./iostream\");\n\n//----------------------------------------------------------------------\n// rANS primitives itself\n//\n// RansGet* is decoder side\n\nfunction RansGetCumulativeFreq(R, bits) {\n    return R & ((1<<bits)-1)\n}\n\nfunction RansGetSymbolFromFreq(C, f) {\n    // NOTE: Inefficient.\n    // In practice we would implement this via a precomputed\n    // lookup table C2S[f]; see RansBuildC2S below.\n    var s = 0;\n    while (f >= C[s+1])\n\ts++;\n\n    //console.error(f, C, s)\n\n    return s;\n}\n\nfunction RansBuildC2S(C, bits) {\n    var max = 1<<bits\n    var C2S = new Array(max);\n    var s = 0;\n    for (var f = 0; f < max; f++) {\n\twhile (f >= C[s+1])\n\t    s++;\n\tC2S[f] = s;\n    }\n    return C2S;\n}\n\nfunction RansAdvanceStep(R, c, f, bits) {\n    return f * (R >> bits) + (R & ((1<<bits)-1)) - c;\n}\n\nfunction RansRenorm(src, R) {\n    if (R < (1<<15))\n\tR = (R << 16) + src.ReadUint16();\n\n    return R;\n}\n\n\n// RanEnc* is for encoder\nfunction RansEncInit() {\n    return 1<<15;\n}\n\nfunction RansEncFlush(R, dst) {\n    dst.WriteByteNeg((R >> 24) & 0xff);\n    dst.WriteByteNeg((R >> 16) & 0xff);\n    dst.WriteByteNeg((R >>  8) & 0xff);\n    dst.WriteByteNeg((R >>  0) & 0xff);\n}\n\nfunction RansEncRenorm(R, dst, freq, scale_bits) {\n    //var R_max = (((1 << 15) >> scale_bits) << 16) * freq;\n    var R_max = (1 << (31-scale_bits)) * freq\n\n    while (R >= R_max) {\n\tdst.WriteByteNeg((R>>8) & 0xff);\n\tdst.WriteByteNeg(R & 0xff);\n\tR >>= 16;\n    }\n    return R;\n}\n\n// Puts a symbol with frequency freq, cumulative freq start\n// and total freq 1<<scale_bits.\n//\n// Note with static probabilities, /freq and %freq could be\n// precomputed via multiplies and shifts.\nfunction RansEncPut(R, dst, start, freq, scale_bits) {\n    var scale = 1<<scale_bits;\n    R = RansEncRenorm(R, dst, freq, scale_bits);\n    R = (Math.floor(R / freq) << scale_bits) + (R % freq) + start;\n    return R;\n}\n\n\n//----------------------------------------------------------------------\n// Run length encoding\nfunction EncodeRLE(src) {\n    // Step 1: find which symbols benefit from RLE\n    var L = new Array(256)\n    for (var i = 0; i < 256; i++)\n\tL[i] = 0\n\n    var last = -1\n    for (var i = 0; i < src.length; i++) {\n\tL[src[i]] += src[i] == last ? 1 : -1\n\tlast = src[i]\n    }\n\n    var nrle = 0;\n    for (var i = 0; i < 256; i++)\n\tif (L[i] > 0)\n\t    nrle++\n\n    if (!nrle) {\n\t// Format cannot cope with zero RLE symbols, so pick one!\n\tnrle = 1;\n\tL[0] = 1;\n    }\n\n    // Start meta-data as list of symbols to RLE\n    var meta = new IOStream(\"\", 0, nrle+1 + src.length)\n    meta.WriteByte(nrle)\n    for (var i = 0; i < 256; i++)\n\tif (L[i] > 0)\n\t    meta.WriteByte(i)\n\n    // Step 2: Now apply RLE itself\n    var data = new Buffer.allocUnsafe(src.length)\n    var dpos = 0\n    for (var i = 0; i < src.length; i++) {\n\tdata[dpos++] = src[i]\n\tif (L[src[i]] > 0) {\n\t    last = src[i];\n\t    var run = 0;\n\t    while (i+run+1 < src.length && src[i+run+1] == last)\n\t\trun++;\n\t    meta.WriteUint7(run)\n\t    i += run\n\t}\n    }\n\n    // Compress the meta-data\n    var cmeta = RansEncode0(meta.buf.slice(0, meta.pos))\n    var hdr = new IOStream(\"\", 0, 16)\n    hdr.WriteUint7(meta.pos*2)   // Uncompressed meta-data length + compressed-bit-flag(0)\n    hdr.WriteUint7(dpos)         // Length of RLE encoded data\n    hdr.WriteUint7(cmeta.length) // Compressed meta-data length\n    var meta = Buffer.concat([hdr.buf.slice(0,hdr.pos), cmeta])\n\n    return [meta, data.slice(0, dpos)]\n}\n\nfunction DecodeRLEMeta(src) {\n    var u_meta_len = src.ReadUint7()\n    var rle_len = src.ReadUint7()\n\n    // Decode RLE lengths\n    if (u_meta_len & 1) {\n\tvar rle_meta = src.ReadData((u_meta_len-1)/2)\n    } else {\n\tvar comp_meta_len = src.ReadUint7()\n\tvar rle_meta = src.ReadData(comp_meta_len)\n\trle_meta = RansDecode0(new IOStream(rle_meta), u_meta_len/2)\n    }\n\n    // Decode list of symbols for which RLE lengths are applied\n    var rle_meta = new IOStream(rle_meta)\n    var L = new Array(256)\n    var n = rle_meta.ReadByte()\n    if (n == 0)\n\tn = 256;\n    for (var i = 0; i < n; i++)\n\tL[rle_meta.ReadByte()] = 1\n\n    return [L, rle_meta, rle_len]\n}\n\nfunction DecodeRLE(buf, L, rle_meta, len) {\n    var src = new IOStream(buf);\n\n    var out = new Buffer.allocUnsafe(len)\n\n    // Expand up buf+meta to out; i = buf index, j = out index\n    var j = 0;\n    for (var i = 0; j < len; i++) {\n\tvar sym = buf[i];\n\tif (L[sym]) {\n\t    var run = rle_meta.ReadUint7()\n\t    for (var r = 0; r <= run; r++)\n\t\tout[j++] = sym\n\t} else {\n\t    out[j++] = sym\n\t}\n    }\n\n    return out\n}\n\n//----------------------------------------------------------------------\n// Bit packing\n\nfunction EncodePack(src) {\n    // Step 1: identify number of distinct symbols\n    var F = new Array(256)\n    for (var i = 0; i < 256; i++)\n\tF[i] = 0\n\n    for (var i = 0; i < src.length; i++)\n\tF[src[i]]++\n\n    var P = new Array(256)\n    var nsym = 0;\n    for (var i = 0; i < 256; i++)\n\tif (F[i] > 0)\n\t    P[i] = nsym++\n\n    if (nsym > 16) {\n\t//console.error(\"Too many symbols to pack:\",nsym)\n\treturn\n    }\n\n\n    // Pack data\n    if (nsym <= 1) {\n\t// Constant\n\tvar data = new Buffer.allocUnsafe(0)\n    }\n\n    else if (nsym <= 2) {\n\t// 1 bit per value\n\tvar data = new Buffer.allocUnsafe(Math.ceil(src.length/8))\n\tvar j = -1\n\tfor (i = 0; i < src.length; i++) {\n\t    if (i % 8 == 0)\n\t\tdata[++j] = 0\n\t    data[j] += P[src[i]] << (i % 8)\n\t}\n    }\n\n    else if (nsym <= 4) {\n\t// 2 bits per value\n\tvar data = new Buffer.allocUnsafe(Math.ceil(src.length/4))\n\tvar j = -1\n\tfor (i = 0; i < src.length; i++) {\n\t    if (i % 4 == 0)\n\t\tdata[++j] = 0\n\t    data[j] += P[src[i]] << ((i % 4) * 2)\n\t}\n    }\n\n    else {\n\t// 4 bits per value\n\tvar data = new Buffer.allocUnsafe(Math.ceil(src.length/2))\n\tvar j = -1\n\tfor (i = 0; i < src.length; i++) {\n\t    if (i % 2 == 0)\n\t\tdata[++j] = 0\n\t    data[j] += P[src[i]] << ((i % 2) * 4)\n\t}\n    }\n\n\n    // Produce pack meta-data\n    var meta = new IOStream(\"\", 0, nsym+5)\n    meta.WriteByte(nsym)\n    var j = 0\n    for (var i = 0; i < 256; i++) {\n\tif (F[i] > 0) {\n\t    F[i] = j++;\n\t    meta.WriteByte(i)\n\t}\n    }\n    meta.WriteUint7(data.length)\n\n    return [meta.buf.slice(0, meta.pos), data]\n}\n\n\n// Pack meta data is the number and value of distinct symbols plus\n// the length of the packed byte stream.\nfunction DecodePackMeta(src) {\n    var nsym = src.ReadByte()\n    var P = new Array(nsym)\n\n    for (var i = 0; i < nsym; i++)\n\tP[i] = src.ReadByte()\n\n    var len = src.ReadUint7()\n\n    return [P, nsym, len]\n}\n\n// Extract bits from src producing output of length len.\n// Nsym is number of distinct symbols used.\nfunction DecodePack(data, P, nsym, len) {\n    var out = new Buffer.allocUnsafe(len)\n    var j = 0;\n\n    // Constant value\n    if (nsym <= 1) {\n\tfor (var i = 0; i < len; i++)\n\t    out[i] = P[0]\n    }\n\n    // 1 bit per value\n    else if (nsym <= 2) {\n\tfor (i = 0; i < len; i++) {\n\t    if (i % 8 == 0)\n\t\tvar v = data[j++];\n\n\t    out[i] = P[v & 1]\n\t    v >>= 1\n\t}\n    }\n\n    // 2 bits per value\n    else if (nsym <= 4) {\n\tfor (i = 0; i < len; i++) {\n\t    if (i % 4 == 0)\n\t\tvar v = data[j++];\n\n\t    out[i] = P[v & 3]\n\t    v >>= 2\n\t}\n    }\n\n    // 4 bits per value\n    else if (nsym <= 16) {\n\tfor (i = 0; i < len; i++) {\n\t    if (i % 2 == 0)\n\t\tvar v = data[j++];\n\n\t    out[i] = P[v & 15]\n\t    v >>= 4\n\t}\n    }\n\n    return out\n}\n\n\n//----------------------------------------------------------------------\n// 4 way interleaving.\n// This is simply 4 rANS streams interleaved to form bytes 0,4,8...,\n// 1,5,9..., 2,6,10... and 3,7,11...\n//\n// It works well when the distributions differ for each of the 4 bytes,\n// for example when compressing a series of 32-bit integers.\n//\n// Maybe make this more general purpose of X* where we specify the stripe\n// size instead of fixing it at 4?\nfunction RansEncodeStripe(hdr, src, N) {\n    if (N == 0)\n\tN = 4; // old default\n\n    // Split into multiple streams\n    var part = new Array(N)\n    var ulen = new Array(N)\n    for (var s = 0; s < N; s++) {\n\tulen[s] = Math.floor(src.length / N) + ((src.length % N) > s);\n\tpart[s] = new Array(ulen[s])\n    }\n\n    for (var x = 0, i = 0; i < src.length; i+=N, x++) {\n\tfor (var j = 0; j < N; j++)\n\t    if (x < part[j].length)\n\t\tpart[j][x] = src[i+j]\n    }\n\n    // Compress each part\n    var comp = new Array(N)\n    var total = 0\n    for (var s = 0; s < N; s++) {\n\t// Example: try O0 and O1 and choose best\n\tvar comp0 = encode(part[s], 0)\n\tvar comp1 = encode(part[s], 1)\n\tcomp[s] = (comp1.length < comp0.length) ? comp1 : comp0\n\ttotal += comp[s].length\n    }\n\n    // Serialise\n    var out = new IOStream(\"\", 0, total+5*N+1)\n    out.WriteByte(N)\n    for (var s = 0; s < N; s++)\n\tout.WriteUint7(comp[s].length)\n\n    for (var s = 0; s < N; s++)\n\tout.WriteData(comp[s], comp[s].length)\n\n    return out.buf.slice(0, out.buf.pos)\n}\n\nfunction RansDecodeStripe(src, len) {\n    var N = src.ReadByte()\n\n    // Retrieve lengths\n    var clen = new Array(N)\n    var ulen = new Array(N)\n    for (var j = 0; j < N; j++)\n\tclen[j] = src.ReadUint7()\n\n    // Decode streams\n    var T = new Array(N);\n    for (var j = 0; j < N; j++) {\n\tulen[j] = Math.floor(len / N) + ((len % N) > j)\n\tT[j] = RansDecodeStream(src, ulen[j])\n    }\n\n    // Transpose\n    var out = new Buffer.allocUnsafe(len)\n    for (var j = 0; j < N; j++) {\n\tfor (var i = 0; i < ulen[j]; i++) {\n\t    out[i*N + j] = T[j][i];\n\t}\n    }\n\n    return out;\n}\n\n\n//----------------------------------------------------------------------\n// Main rANS entry function: decodes a compressed src and\n// returns the uncompressed buffer.\nfunction decode(src) {\n    var stream = new IOStream(src)\n    return RansDecodeStream(stream, 0)\n}\n\nfunction RansDecodeStream(stream, n_out) {\n    var format = stream.ReadByte();\n    var order  = format & 1\n    var stripe = format & 8\n    var nosz   = format & 16\n    var cat    = format & 32\n    var rle    = format & 64\n    var pack   = format & 128\n\n    if (!nosz)\n\tn_out = stream.ReadUint7();\n\n    // N-way interleaving\n    if (stripe)\n\treturn RansDecodeStripe(stream, n_out)\n\n    // Bit packing\n    if (pack) {\n\tvar pack_len = n_out\n\tvar [P, nsym, n_out] = DecodePackMeta(stream)\n    }\n\n    // Run length encoding\n    if (rle) {\n\tvar rle_len = n_out\n\tvar [L, rle_meta, n_out] = DecodeRLEMeta(stream)\n    }\n\n    // Uncompress data (all, packed or run literals)\n    if (cat)\n\tvar buf = stream.ReadData(n_out)\n    else if (order == 0)\n\tvar buf = RansDecode0(stream, n_out)\n    else\n\tvar buf = RansDecode1(stream, n_out)\n\n    // Apply expansion transforms\n    if (rle)\n\tbuf = DecodeRLE(buf, L, rle_meta, rle_len)\n\n    if (pack)\n\tbuf = DecodePack(buf, P, nsym, pack_len)\n\n    return buf\n}\n\nfunction encode(src, format) {\n    var hdr = new IOStream(\"\", 0, 10);\n    hdr.WriteByte(format);\n\n    var order = format & 1\n    var stripe= format & 8\n    var nosz  = format & 16\n    var cat   = format & 32\n    var rle   = format & 64\n    var pack  = format & 128\n\n    var N     = format>>8\n\n    if (!nosz)\n\thdr.WriteUint7(src.length);\n\n    if (stripe)\n\treturn Buffer.concat([hdr.buf.slice(0, hdr.pos), RansEncodeStripe(hdr, src, N)])\n\n    var pack_meta = new Buffer.alloc(0)\n    if (pack)\n\t[pack_meta, src] = EncodePack(src)\n\n    var rle_meta = new Buffer.alloc(0)\n    if (rle)\n\t[rle_meta, src] = EncodeRLE(src)\n\n    if (src.length < 4 && order == 1) {\n\t// Protect against short order-1 data due to RLE/Pack\n\torder = 0\n\thdr.buf[0] &= ~1\n    }\n\n    if (cat)\n\tvar comp = src\n    else if (order == 0)\n\tvar comp = RansEncode0(src)\n    else\n\tvar comp = RansEncode1(src)\n\n    return Buffer.concat([hdr.buf.slice(0,hdr.pos), pack_meta, rle_meta, comp])\n}\n\n//----------------------------------------------------------------------\n// Order-0 decoder\n\nfunction ReadAlphabet(src) {\n    var A = new Array(256)\n    for (var i = 0; i < 256; i++)\n\tA[i] = 0;\n\n    var rle = 0\n    var sym = src.ReadByte()\n    var last_sym = sym\n\n    do {\n\tA[sym] = 1;\n\tif (rle > 0) {\n\t    rle--\n\t    sym++\n\t} else {\n\t    sym = src.ReadByte()\n\t    if (sym == last_sym+1)\n\t\trle = src.ReadByte()\n\t}\n\tlast_sym = sym\n    } while (sym != 0)\n\n    return A\n}\n\n// Decode a single table of order-0 frequences,\n// filling out the F and C arrays.\nfunction ReadFrequencies0(src, F, C) {\n    // Initialise; not in the specification - implicit?\n    for (var i = 0; i < 256; i++)\n\tF[i] = 0;\n\n    // Fetch alphabet\n    var A = ReadAlphabet(src);\n\n    // Fetch frequencies for the symbols listed in our alphabet\n    for (var i = 0; i < 256; i++) {\n\tif (A[i] > 0)\n\t    F[i] = src.ReadUint7()\n    }\n\n    NormaliseFrequencies0_Shift(F, 12)\n\n    // Compute C[] from F[]\n    C[0] = 0;\n    for (var i = 0; i <= 255; i++)\n\tC[i+1] = C[i] + F[i];\n}\n\nfunction RansDecode0(src, nbytes) {\n    // Decode frequencies\n    var F = new Array(256);\n    var C = new Array(256);\n    ReadFrequencies0(src, F, C);\n\n    // Fast lookup to avoid slow RansGetSymbolFromFreq\n    var C2S = RansBuildC2S(C, 12);\n\n    // Initialise rANS state\n    var R = new Array(4);\n    for (var i = 0; i < 4; i++)\n\tR[i] = src.ReadUint32();\n\n    // Main decode loop\n    var output = new Buffer.allocUnsafe(nbytes);\n    for (var i = 0; i < nbytes; i++) {\n\tvar i4 = i%4;\n\tvar f = RansGetCumulativeFreq(R[i4], 12);\n\tvar s = C2S[f]; // Equiv to RansGetSymbolFromFreq(C, f);\n\n\toutput[i] = s;\n\tR[i4] = RansAdvanceStep(R[i4], C[s], F[s], 12);\n\tR[i4] = RansRenorm(src, R[i4]);\n    }\n\n    return output;\n}\n\n//----------------------------------------------------------------------\n// Order-0 encoder\n\nfunction BuildFrequencies0(src, F) {\n    for (var i = 0; i < 256; i++)\n\tF[i] = 0;\n\n    for (var i = 0; i < src.length; i++)\n\tF[src[i]]++;\n}\n\nfunction NormaliseFrequencies0(F, bits) {\n    // Compute total\n    var tot = 0;\n    for (var i = 0; i < 256; i++)\n\ttot += F[i];\n\n    // Scale total of frequencies to max\n    const max = (1<<bits);\n    var scale = max / tot;\n    do {\n\tvar max_val = 0;\n\tvar max_idx = 0;\n\tvar renorm = 0;\n\ttot = 0;\n\tfor (var i = 0; i < 256; i++) {\n\t    if (F[i] == 0)\n\t\tcontinue\n\n\t    if (max_val < F[i]) {\n\t\tmax_val = F[i]\n\t\tmax_idx = i\n\t    }\n\n\t    F[i] = Math.floor(F[i] * scale);\n\t    if (F[i] == 0)\n\t\tF[i] = 1;\n\n\t    tot += F[i];\n\t}\n\n\t// Adjust new tot to ensure it matches.\n\tif (tot < max) {\n\t    // Too low, boost the most common symbol\n\t    F[max_idx] += max-tot;\n\t} else if (tot-max < F[max_idx]/2 && F[max_idx] > 2) {\n\t    // Too high, reduce the common symbol\n\t    F[max_idx] -= tot-max;\n\t} else if (tot != max) {\n\t    // Much too high, fudge scale and try again.\n\t    scale = max / tot;\n\t    renorm = 1;\n\t}\n    } while (renorm)\n}\n\nfunction NormaliseFrequencies0_Shift(F, bits) {\n    // Compute total and number of bits to shift by\n    var tot = 0;\n    for (var i = 0; i < 256; i++)\n\ttot += F[i];\n\n    if (tot == 0 || tot == (1<<bits))\n\treturn\n\n    var shift = 0;\n    while (tot < (1<<bits)) {\n\ttot *= 2;\n\tshift++;\n    }\n\n    // Scale total of frequencies to (1<<bits)\n    for (var i = 0; i < 256; i++)\n\tF[i] <<= shift;\n}\n\nfunction WriteAlphabet(out, F) {\n    var rle = 0;\n    for (var i = 0; i < 256; i++) {\n\tif (!F[i])\n\t    continue\n\n\tif (rle > 0)\n\t    rle--\n\telse {\n\t    out.WriteByte(i)\n\n\t    if (i > 0 && F[i-1] > 0) {\n\t\t// We've encoded two symbol frequencies in a row.\n\t\t// How many more are there?  Store that count so\n\t\t// we can avoid writing consecutive symbols.\n\t\tfor (rle = i+1; rle<256 && F[rle]; rle++)\n\t\t    ;\n\t\trle -= i+1;\n\n\t\tout.WriteByte(rle);\n\t    }\n\t}\n    }\n    out.WriteByte(0)\n}\n\nfunction WriteFrequencies0(out, F) {\n    WriteAlphabet(out, F)\n\n    for (var i = 0; i < 256; i++) {\n\tif (F[i])\n\t    out.WriteUint7(F[i])\n    }\n}\n\nfunction RansEncode0(src) {\n    const nbytes = src.length;\n    var output = new IOStream(\"\", 0, 257*3+9);\n\n    // Compute frequencies\n    var F = new Array(256)\n    BuildFrequencies0(src, F)\n    var bit_size = Math.ceil(Math.log2(nbytes));\n    if (bit_size > 12)\n\tbit_size = 12;\n    NormaliseFrequencies0(F, bit_size);\n    WriteFrequencies0(output, F);\n    NormaliseFrequencies0(F, 12);\n\n    // Compute cumulative frequencies\n    var C = new Array(256)\n    C[0] = 0;\n    for (var i = 1; i < 256; i++)\n\tC[i] = C[i-1] + F[i-1];\n\n    // Initialise rANS state\n    var R = new Array(4);\n    for (var i = 0; i < 4; i++)\n\tR[i] = RansEncInit();\n\n    // Allow expansion room if trying to compress random data.\n    var rans_out = new IOStream(\"\", (nbytes*1.05+100)>>0, (nbytes*1.05+100)>>0);\n\n    // Main encode loop\n    for (var i = nbytes-1; i >= 0; i--)\n\tR[i%4] = RansEncPut(R[i%4], rans_out, C[src[i]], F[src[i]], 12);\n\n    for (var i = 3; i >= 0; i--)\n\tRansEncFlush(R[i], rans_out);\n\n    // Stitch blocks together into final output buffer\n    //console.error(\"pos=\",rans_out.pos, \" len=\",rans_out.length)\n    //console.error(rans_out.buf.slice(rans_out.pos, rans_out.length))\n    return Buffer.concat([output.buf.slice(0, output.pos),\n\t\t\t  rans_out.buf.slice(rans_out.pos, rans_out.length)],\n\t\t\t output.pos + rans_out.length - rans_out.pos);\n}\n\n//----------------------------------------------------------------------\n// Order-1 decoder\n\n// Decode a table of order-1 frequences,\n// filling out the F and C arrays.\nfunction ReadFrequencies1(src, F, C, shift) {\n    // Initialise; not in the specification - implicit?\n    for (var i = 0; i < 256; i++) {\n\tF[i] = new Array(256);\n\tC[i] = new Array(256);\n\tfor (var j = 0; j < 256; j++)\n\t    F[i][j] = 0;\n    }\n\n    // Fetch alphabet\n    var A = ReadAlphabet(src);\n\n    // Read F[]\n    for (var i = 0; i < 256; i++) {\n\tif (!A[i])\n\t    continue\n\n\tvar run = 0;\n\tfor (var j = 0; j < 256; j++) {\n\t    if (!A[j])\n\t\tcontinue\n\n\t    if (run > 0) {\n\t\trun--\n\t    } else {\n\t\tF[i][j] = src.ReadUint7();\n\t\tif (F[i][j] == 0)\n\t\t    run = src.ReadByte();\n\t    }\n\t}\n\n\tNormaliseFrequencies0_Shift(F[i], shift)\n\n\t// Compute C[] from F[]\n\tC[i][0] = 0;\n\tfor (var j = 0; j < 256; j++)\n\t    C[i][j+1] = C[i][j] + F[i][j];\n    }\n}\n\nfunction RansDecode1(src, nbytes) {\n    // FIXME: this bit is missing from the RansDecode0 pseudocode.\n\n    var comp = src.ReadByte();\n    var shift = comp >> 4;\n\n    var freq_src = src\n    if (comp & 1) {\n\tvar ulen = src.ReadUint7()\n\tvar clen = src.ReadUint7()\n\tvar comp = new IOStream(src.ReadData(clen))\n\tvar freq_src = new IOStream(RansDecode0(comp, ulen));\n    }\n\n    // Decode frequencies\n    var F = new Array(256);\n    var C = new Array(256);\n    ReadFrequencies1(freq_src, F, C, shift);\n\n    // Fast lookup to avoid slow RansGetSymbolFromFreq\n    var C2S = new Array(256);\n    for (var i = 0; i < 256; i++)\n\t// Could do only for symbols in alphabet?\n\tC2S[i] = RansBuildC2S(C[i], shift);\n\n    // Initialise rANS state\n    var R = new Array(4);\n    var L = new Array(4);\n    for (var j = 0; j < 4; j++) {\n\tR[j] = src.ReadUint32();\n\tL[j] = 0;\n    }\n\n    // Main decode loop\n    var output = new Buffer.allocUnsafe(nbytes);\n    var nbytes4 = Math.floor(nbytes/4);\n    for (var i = 0; i < nbytes4; i++) {\n\tfor (var j = 0; j < 4; j++) {\n\t    var f = RansGetCumulativeFreq(R[j], shift);\n\n\t    //var s = RansGetSymbolFromFreq(C[L[j]], f);\n\t    var s = C2S[L[j]][f]; // Precomputed version of above\n\n\t    output[i+j*nbytes4] = s;\n\t    R[j] = RansAdvanceStep(R[j], C[L[j]][s], F[L[j]][s], shift);\n\t    R[j] = RansRenorm(src, R[j]);\n\t    L[j] = s;\n\t}\n    }\n\n    // Now deal with the remainder if buffer size is not a multiple of 4,\n    // using rANS state 3 exclusively.  (It'd have been nice to have\n    // designed this to just act as if we kept going with a bail out.)\n    i = 4*i;\n    while (i < nbytes) {\n\tvar f = RansGetCumulativeFreq(R[3], shift);\n\tvar s = RansGetSymbolFromFreq(C[L[3]], f);\n\toutput[i++] = s;\n\tR[3] = RansAdvanceStep(R[3], C[L[3]][s], F[L[3]][s], shift);\n\tR[3] = RansRenorm(src, R[3]);\n\tL[3] = s;\n    }\n\n    return output;\n}\n\n//----------------------------------------------------------------------\n// Order-1 encoder\n\nfunction BuildFrequencies1(src, F, F0) {\n    for (var i = 0; i < 256; i++) {\n\tF0[i] = 0;\n\tfor (var j = 0; j < 256; j++)\n\t    F[i][j] = 0;\n    }\n\n    var last = 0;\n    for (var i = 0; i < src.length; i++) {\n\tF0[last]++;\n\tF[last][src[i]]++;\n\tlast = src[i];\n    }\n    F0[last]++;\n\n    // Also accept we'll be starting at 4 points, not just byte 0\n    F[0][src[1*(src.length >> 2)]]++;\n    F[0][src[2*(src.length >> 2)]]++;\n    F[0][src[3*(src.length >> 2)]]++;\n    F0[0] += 3;\n}\n\nfunction NormaliseFrequencies1(F, F0, shift) {\n\n    for (var i = 0; i < 256; i++) {\n\tif (!F0[i])\n\t    continue;\n\n\tvar bit_size = Math.ceil(Math.log2(F0[i]));\n\tif (bit_size > shift)\n\t    bit_size = shift;\n\n\tNormaliseFrequencies0(F[i], bit_size)\n    }\n}\n\nfunction NormaliseFrequencies1_Shift(F, F0, shift) {\n    for (var i = 0; i < 256; i++)\n\tif (F0[i])\n\t    NormaliseFrequencies0_Shift(F[i], shift)\n}\n\nfunction WriteFrequencies1(out, F, F0) {\n    WriteAlphabet(out, F0)\n\n    for (var i = 0; i < 256; i++) {\n\tif (!F0[i])\n\t    continue\n\n\tvar run = 0\n\tfor (var j = 0; j < 256; j++) {\n\t    if (!F0[j])\n\t\tcontinue\n\n\t    if (run) {\n\t\trun--\n\t    } else {\n\t\tout.WriteUint7(F[i][j])\n\n\t\tif (!F[i][j]) {\n\t\t    // Count how many more zero-freqs we have\n\t\t    for (var k = j+1; k < 256; k++) {\n\t\t\tif (!F0[k])\n\t\t\t    continue\n\n\t\t\tif (F[i][k] == 0)\n\t\t\t    run++\n\t\t\telse\n\t\t\t    break\n\t\t    }\n\t\t    out.WriteByte(run)\n\t\t}\n\t    }\n\t}\n    }\n}\n\nfunction RansEncode1(src) {\n    const nbytes = src.length;\n    var output = new IOStream(\"\", 0, 257*257*3+9);\n\n    // Compute frequencies\n    var F0 = new Array(256)\n    var F = new Array(256)\n    var C = new Array(256)\n    for (var i = 0; i < 256; i++) {\n\tF[i] = new Array(256);\n\tC[i] = new Array(256);\n    }\n\n    // Frequency precision\n    var shift = 12;\n\n    BuildFrequencies1(src, F, F0)\n    NormaliseFrequencies1(F, F0, shift);\n\n    // Store frequencies, possibly compressed\n    var freq = new IOStream(\"\", 0, 257*257*3+9);\n\n    WriteFrequencies1(freq, F, F0);\n\n    var cfreq = RansEncode0(freq.buf.slice(0, freq.pos))\n    if (cfreq.length < freq.pos) {\n\toutput.WriteByte(1 | (shift<<4));\n\toutput.WriteUint7(freq.pos)\n\toutput.WriteUint7(cfreq.length)\n\toutput.WriteData(cfreq, cfreq.length);\n    } else {\n\toutput.WriteByte(0 | (shift<<4));\n\toutput.WriteData(freq.buf, freq.pos);\n    }\n\n    // Normalise and compute cumulative frequencies\n    NormaliseFrequencies1_Shift(F, F0, shift);\n    for (var i = 0; i < 256; i++) {\n\tif (!F0[i])\n\t    continue;\n\n\tC[i][0] = 0;\n\tfor (var j = 1; j < 256; j++)\n\t    C[i][j] = C[i][j-1] + F[i][j-1];\n    }\n\n    // Initialise rANS state\n    var R = new Array(4);\n    var L = new Array(4);\n    for (var j = 0; j < 4; j++) {\n\tR[j] = RansEncInit();\n\tL[j] = 0;\n    }\n    var rans_out = new IOStream(\"\", (nbytes*1.05+100)>>0, (nbytes*1.05+100)>>0);\n\n    // We have 4 rans codecs running in parallel on its own 1/4tr of buffer\n    var nbytes4 = Math.floor(nbytes/4);\n    var idx = new Array(4);\n    var last = new Array(4)\n    for (var j = 0; j < 4; j++) {\n\tidx[j] = (j+1)*nbytes4 - 2;\n\tlast[j] = src[idx[j]+1]\n    }\n\n    // Deal with the remainder if not a multiple of 4\n    last[3] = src[nbytes-1];\n    for (var i = nbytes-2; i > 4*nbytes4-2; i--) {\n\tR[3] = RansEncPut(R[3], rans_out, C[src[i]][last[3]], F[src[i]][last[3]], shift);\n\tlast[3] = src[i];\n    }\n\n    // Main encode loop\n    while (idx[0] >= 0) {\n\tfor (var j = 3; j >= 0; j--) {\n\t    var s = src[idx[j]]\n\t    R[j] = RansEncPut(R[j], rans_out, C[s][last[j]], F[s][last[j]], shift);\n\t    last[j] = s;\n\t    idx[j]--;\n\t}\n    }\n\n    for (var j = 3; j >= 0; j--) {\n        R[j] = RansEncPut(R[j], rans_out, C[0][last[j]], F[0][last[j]], shift)\n    }\n\n    for (var i = 3; i >= 0; i--)\n\tRansEncFlush(R[i], rans_out);\n\n    // Stitch blocks together into final output buffer\n    return Buffer.concat([output.buf.slice(0, output.pos),\n\t\t\t  rans_out.buf.slice(rans_out.pos, rans_out.length)],\n\t\t\t output.pos + rans_out.length - rans_out.pos);\n}\n\nmodule.exports = { decode, encode }\n","/*\n * Copyright (c) 2019 Genome Research Ltd.\n * Author(s): James Bonfield\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice,\n *       this list of conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above\n *       copyright notice, this list of conditions and the following\n *       disclaimer in the documentation and/or other materials provided\n *       with the distribution.\n *\n *    3. Neither the names Genome Research Ltd and Wellcome Trust Sanger\n *       Institute nor the names of its contributors may be used to endorse\n *       or promote products derived from this software without specific\n *       prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY GENOME RESEARCH LTD AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED\n * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A\n * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GENOME RESEARCH\n * LTD OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nconst RangeCoder = require(\"./arith_sh\");\nconst IOStream = require(\"./iostream\");\nconst ByteModel = require(\"./byte_model\");\nconst bzip2 = require(\"bzip2\");\n\nconst ARITH_ORDER  = 1\nconst ARITH_EXT    = 4\nconst ARITH_STRIPE = 8\nconst ARITH_NOSIZE = 16\nconst ARITH_CAT    = 32\nconst ARITH_RLE    = 64\nconst ARITH_PACK   = 128\n\nmodule.exports = class RangeCoderGen {\n    decode(src) {\n\tthis.stream = new IOStream(src);\n\treturn this.decodeStream(this.stream)\n    }\n\n    decodeStream(stream, n_out=0) {\n\tvar flags = this.stream.ReadByte();\n\tif (!(flags & ARITH_NOSIZE))\n\t    n_out = this.stream.ReadUint7();\n\tvar e_len = n_out;\n\n\tvar order = flags & ARITH_ORDER;\n\n\t// 4-way recursion\n\tif (flags & ARITH_STRIPE)\n\t    return this.decodeStripe(this.stream, n_out)\n\n\t// Meta data\n\tif (flags & ARITH_PACK) {\n\t    var P\n\t    [P, e_len] = this.decodePackMeta(this.stream)\n\t}\n\n\t// NOP, useful for tiny blocks\n\tif (flags & ARITH_CAT)\n\t    var data = this.decodeCat(this.stream, e_len)\n\n\t// Entropy decode\n\telse if (flags & ARITH_EXT) {\n\t    var data = this.decodeExt(this.stream, e_len)\n\t} else if (flags & ARITH_RLE) {\n\t    var data = order\n\t\t? this.decodeRLE1(this.stream, e_len)\n\t\t: this.decodeRLE0(this.stream, e_len)\n\t} else {\n\t    var data = order\n\t\t? this.decode1(this.stream, e_len)\n\t\t: this.decode0(this.stream, e_len)\n\t}\n\n\t// Transforms\n\tif (flags & ARITH_PACK)\n\t    data = this.decodePack(data, P, n_out)\n\n\treturn data\n    }\n\n    encode(src, flags) {\n\tthis.stream = new IOStream(\"\", 0, src.length*1.1 + 100); // guestimate worst case!\n\n\tthis.stream.WriteByte(flags);\n\tif (!(flags & ARITH_NOSIZE))\n\t    this.stream.WriteUint7(src.length);\n\n\tif (flags & ARITH_STRIPE)\n\t    return Buffer.concat([this.stream.buf.slice(0, this.stream.pos),\n\t\t\t\t  this.encodeStripe(this.stream, src, flags>>8)])\n\n\tvar order = flags & ARITH_ORDER;\n\tvar e_len = src.length;\n\n\t// step 1: Encode meta-data\n\tvar pack_meta\n\tif (flags & ARITH_PACK)\n\t    [pack_meta, src, e_len] = this.encodePack(src)\n\n\t// step 2: Write any meta data\n\tif (flags & ARITH_PACK)\n\t    this.stream.WriteStream(pack_meta)\n\n\t// step 3: arith encoding below\n\tif (flags & ARITH_RLE) {\n\t    return order\n\t\t? this.encodeRLE1(src, e_len, this.stream)\n\t\t: this.encodeRLE0(src, e_len, this.stream);\n\t} else {\n\t    return order\n\t\t? this.encode1(src, e_len, this.stream)\n\t\t: this.encode0(src, e_len, this.stream);\n\t}\n    }\n\n    //----------------------------------------------------------------------\n    // Order-0 codec\n    decode0(stream, n_out) {\n\tvar output = new Buffer.allocUnsafe(n_out);\n\n\tvar max_sym = stream.ReadByte()\n\tif (max_sym == 0)\n\t    max_sym = 256\n\n\tvar byte_model = new ByteModel(max_sym);\n\n\tvar rc = new RangeCoder(stream);\n\trc.RangeStartDecode(stream);\n\n\tfor (var i = 0; i < n_out; i++)\n\t    output[i] = byte_model.ModelDecode(stream, rc);\n\n\treturn output;\n    }\n\n    encode0(src, n_in, out) {\n\t// Count the maximum symbol present\n\tvar max_sym = 0;\n\tfor (var i = 0; i < n_in; i++)\n\t    if (max_sym < src[i])\n\t\tmax_sym = src[i]\n\tmax_sym++;  // FIXME not what spec states!?\n\n\tvar byte_model = new ByteModel(max_sym);\n\tout.WriteByte(max_sym);\n\tvar rc = new RangeCoder(out);\n\n\tfor (var i = 0; i < n_in; i++)\n\t    byte_model.ModelEncode(out, rc, src[i])\n\trc.RangeFinishEncode(out)\n\n\treturn out.buf.slice(0, out.pos);\n    }\n\n    //----------------------------------------------------------------------\n    // Order-1 codec\n\n    decode1(stream, n_out) {\n\tvar output = new Buffer.allocUnsafe(n_out);\n\n\tvar max_sym = stream.ReadByte()\n\tif (max_sym == 0)\n\t    max_sym = 256\n\n\tvar byte_model = new Array(max_sym);\n\tfor (var i = 0; i < max_sym; i++)\n\t    byte_model[i] = new ByteModel(max_sym);\n\n\tvar rc = new RangeCoder(stream);\n\trc.RangeStartDecode(stream);\n\n\tvar last = 0;\n\tfor (var i = 0; i < n_out; i++) {\n\t    output[i] = byte_model[last].ModelDecode(stream, rc);\n\t    last = output[i];\n\t}\n\n\treturn output;\n    }\n\n    encode1(src, n_in, out) {\n\t// Count the maximum symbol present\n\tvar max_sym = 0;\n\tfor (var i = 0; i < n_in; i++)\n\t    if (max_sym < src[i])\n\t\tmax_sym = src[i]\n\tmax_sym++;  // FIXME not what spec states!\n\n\tvar byte_model = new Array(max_sym);\n\tfor (var i = 0; i < max_sym; i++)\n\t    byte_model[i] = new ByteModel(max_sym);\n\tout.WriteByte(max_sym);\n\tvar rc = new RangeCoder(out);\n\n\tvar last = 0;\n\tfor (var i = 0; i < n_in; i++) {\n\t    byte_model[last].ModelEncode(out, rc, src[i])\n\t    last = src[i]\n\t}\n\trc.RangeFinishEncode(out)\n\n\treturn out.buf.slice(0, out.pos);\n    }\n\n    //----------------------------------------------------------------------\n    // External codec\n    decodeExt(stream, n_out) {\n\t// Bzip2 only for now\n\tvar output = new Buffer.allocUnsafe(n_out)\n\tvar bits = bzip2.array(stream.buf.slice(stream.pos))\n\tvar size = bzip2.header(bits)\n\tvar j = 0\n\tdo {\n\t    var chunk = bzip2.decompress(bits, size);\n\t    if (chunk != -1) {\n\t        Buffer.from(chunk).copy(output, j)\n\t        j += chunk.length\n\t\tsize -= chunk.length\n\t    }\n\t} while(chunk != -1);\n\n\treturn output\n    }\n\n    encodeExt(stream, n_out) {\n\t// We cannot compress using Bzip2 now as it's\n\t// absent from bzip2.js, but consider using\n\t// https://github.com/cscott/compressjs\n    }\n\n    //----------------------------------------------------------------------\n    // Order-0 RLE codec\n    decodeRLE0(stream, n_out) {\n\tvar output = new Buffer.allocUnsafe(n_out);\n\n\tvar max_sym = stream.ReadByte()\n\tif (max_sym == 0)\n\t    max_sym = 256\n\n\tvar model_lit = new ByteModel(max_sym);\n\tvar model_run = new Array(258);\n\tfor (var i = 0; i <= 257; i++)\n\t    model_run[i] = new ByteModel(4)\n\n\tvar rc = new RangeCoder(stream);\n\trc.RangeStartDecode(stream);\n\n\tvar i = 0;\n\twhile (i < n_out) {\n\t    output[i] = model_lit.ModelDecode(stream, rc)\n\t    var part = model_run[output[i]].ModelDecode(stream, rc)\n\t    var run = part\n\t    var rctx = 256\n\t    while (part == 3) {\n\t\tpart = model_run[rctx].ModelDecode(stream, rc)\n\t\trctx = 257\n\t\trun += part\n\t    }\n\t    for (var j = 1; j <= run; j++)\n\t\toutput[i+j] = output[i]\n\t    i += run+1\n\t}\n\n\treturn output;\n    }\n\n    encodeRLE0(src, n_in, out) {\n\t// Count the maximum symbol present\n\tvar max_sym = 0;\n\tfor (var i = 0; i < n_in; i++)\n\t    if (max_sym < src[i])\n\t\tmax_sym = src[i]\n\tmax_sym++;  // FIXME not what spec states!\n\n\tvar model_lit = new ByteModel(max_sym);\n\tvar model_run = new Array(258);\n\tfor (var i = 0; i <= 257; i++)\n\t    model_run[i] = new ByteModel(4)\n\n\tout.WriteByte(max_sym);\n\tvar rc = new RangeCoder(out);\n\n\tvar i = 0\n\twhile (i < n_in) {\n\t    model_lit.ModelEncode(out, rc, src[i])\n\t    var run = 1\n\t    while (i+run < n_in && src[i+run] == src[i])\n\t\trun++\n\t    run--\n\n\t    var rctx = src[i]\n\t    var last = src[i]\n\t    i += run+1\n\n\t    var part = run >= 3 ? 3 : run\n\t    model_run[rctx].ModelEncode(out, rc, part)\n\t    run -= part\n\t    rctx = 256\n\t    while (part == 3) {\n\t\tpart = run >= 3 ? 3 : run\n\t\tmodel_run[rctx].ModelEncode(out, rc, part)\n\t\trctx = 257\n\t\trun -= part\n\t    }\n\t}\n\trc.RangeFinishEncode(out)\n\n\treturn out.buf.slice(0, out.pos);\n    }\n\n    //----------------------------------------------------------------------\n    // Order-1 RLE codec\n\n    decodeRLE1(stream, n_out) {\n\tvar output = new Buffer.allocUnsafe(n_out);\n\n\tvar max_sym = stream.ReadByte()\n\tif (max_sym == 0)\n\t    max_sym = 256\n\n\tvar model_lit = new Array(max_sym);\n\tfor (var i = 0; i < max_sym; i++)\n\t    model_lit[i] = new ByteModel(max_sym);\n\n\tvar model_run = new Array(258);\n\tfor (var i = 0; i <= 257; i++)\n\t    model_run[i] = new ByteModel(4)\n\n\tvar rc = new RangeCoder(stream);\n\trc.RangeStartDecode(stream);\n\n\tvar last = 0;\n\tvar i = 0;\n\twhile (i < n_out) {\n\t    output[i] = model_lit[last].ModelDecode(stream, rc)\n\t    last = output[i]\n\t    var part = model_run[output[i]].ModelDecode(stream, rc)\n\t    var run = part\n\t    var rctx = 256\n\t    while (part == 3) {\n\t\tpart = model_run[rctx].ModelDecode(stream, rc)\n\t\trctx = 257\n\t\trun += part\n\t    }\n\t    for (var j = 1; j <= run; j++)\n\t\toutput[i+j] = output[i]\n\t    i += run+1\n\t}\n\n\treturn output;\n    }\n\n    encodeRLE1(src, n_in, out) {\n\t// Count the maximum symbol present\n\tvar max_sym = 0;\n\tfor (var i = 0; i < n_in; i++)\n\t    if (max_sym < src[i])\n\t\tmax_sym = src[i]\n\tmax_sym++;  // FIXME not what spec states!\n\n\tvar model_lit = new Array(max_sym)\n\tfor (var i = 0; i < max_sym; i++)\n\t    model_lit[i] = new ByteModel(max_sym);\n\tvar model_run = new Array(258);\n\tfor (var i = 0; i <= 257; i++)\n\t    model_run[i] = new ByteModel(4)\n\n\tout.WriteByte(max_sym);\n\tvar rc = new RangeCoder(out);\n\n\tvar i = 0\n\tvar last = 0\n\twhile (i < n_in) {\n\t    model_lit[last].ModelEncode(out, rc, src[i])\n\t    var run = 1\n\t    while (i+run < n_in && src[i+run] == src[i])\n\t\trun++\n\t    run--\n\n\t    var rctx = src[i]\n\t    last = src[i]\n\t    i += run+1\n\n\t    var part = run >= 3 ? 3 : run\n\t    model_run[rctx].ModelEncode(out, rc, part)\n\t    run -= part\n\t    rctx = 256\n\t    while (part == 3) {\n\t\tpart = run >= 3 ? 3 : run\n\t\tmodel_run[rctx].ModelEncode(out, rc, part)\n\t\trctx = 257\n\t\trun -= part\n\t    }\n\t}\n\trc.RangeFinishEncode(out)\n\n\treturn out.buf.slice(0, out.pos);\n    }\n\n    //----------------------------------------------------------------------\n    // Pack method\n    decodePackMeta(stream) {\n\tthis.nsym  = stream.ReadByte()\n\n\tvar M = new Array(this.nsym);\n\tfor (var i = 0; i < this.nsym; i++)\n\t    M[i] = stream.ReadByte()\n\n\tvar e_len = stream.ReadUint7(); // Could be derived data from nsym and n_out\n\n\treturn [M, e_len]\n    }\n\n    decodePack(data, M, len) {\n\tvar out = new Buffer.allocUnsafe(len);\n\n\tif (this.nsym <= 1) {\n\t    // Constant value\n\t    for (var i = 0; i < len; i++)\n\t\tout[i] = M[0]\n\n\t} else if (this.nsym <= 2) {\n\t    // 1 bit per value\n\t    for (var i = 0, j = 0; i < len; i++) {\n\t\tif (i % 8 == 0)\n\t\t    var v = data[j++]\n\t\tout[i] = M[v & 1]\n\t\tv >>= 1\n\t    }\n\n\t} else if (this.nsym <= 4) {\n\t    // 2 bits per value\n\t    for (var i = 0, j = 0; i < len; i++) {\n\t\tif (i % 4 == 0)\n\t\t    var v = data[j++]\n\t\tout[i] = M[v & 3]\n\t\tv >>= 2\n\t    }\n\n\t} else if (this.nsym <= 16) {\n\t    // 4 bits per value\n\t    for (var i = 0, j = 0; i < len; i++) {\n\t\tif (i % 2 == 0)\n\t\t    var v = data[j++]\n\t\tout[i] = M[v & 15]\n\t\tv >>= 4\n\t    }\n\n\t} else {\n\t    // 8 bits per value: NOP\n\t    return data\n\t}\n\n\treturn out\n    }\n\n    // Compute M array and return meta-data stream\n    packMeta(src) {\n\tvar stream = new IOStream(\"\", 0, 1024)\n\n\t// Count symbols\n\tvar M = new Array(256)\n\tfor (var i = 0; i < src.length; i++)\n\t    M[src[i]] = 1\n\n\t// Write Map\n\tfor (var nsym = 0, i = 0; i < 256; i++)\n\t    if (M[i])\n\t\tM[i] = ++nsym; // map to 1..N\n\tstream.WriteByte(nsym);\n\n\t// FIXME: add check for nsym > 16?\n\t// Or just accept it as an inefficient waste of time.\n\tfor (var i = 0; i < 256; i++) {\n\t    if (M[i]) {\n\t\tstream.WriteByte(i) // adjust to 0..N-1\n\t\tM[i]--;\n\t    }\n\t}\n\n\treturn [stream, M, nsym]\n    }\n\n    encodePack(data) {\n\tvar meta, M, nsym\n\t[meta, M, nsym] = this.packMeta(data)\n\n\tvar len = data.length\n\tvar i = 0;\n\tif (nsym <= 1) {\n\t    // Constant values\n\t    meta.WriteUint7(0)\n\t    return [meta, new Buffer.allocUnsafe(0), 0];\n\t}\n\n\tif (nsym <= 2) {\n\t    // 1 bit per value\n\t    var out = new Buffer.allocUnsafe(Math.floor((len+7)/8));\n\t    for (var i = 0, j = 0; i < (len & ~7); i+=8, j++)\n\t\tout[j] = (M[data[i+0]]<<0)\n\t\t       + (M[data[i+1]]<<1)\n\t\t       + (M[data[i+2]]<<2)\n\t\t       + (M[data[i+3]]<<3)\n\t\t       + (M[data[i+4]]<<4)\n\t\t       + (M[data[i+5]]<<5)\n\t\t       + (M[data[i+6]]<<6)\n\t\t       + (M[data[i+7]]<<7)\n\t    if (i < len) {\n\t\tout[j] = 0;\n\t\tvar v = 0;\n\t\twhile (i < len) {\n\t\t    out[j] |= M[data[i++]]<<v;\n\t\t    v++;\n\t\t}\n\t\tj++;\n\t    }\n\n\t    meta.WriteUint7(j)\n\t    return [meta, out, out.length]\n\t}\n\n\tif (nsym <= 4) {\n\t    // 2 bits per value\n\t    var out = new Buffer.allocUnsafe(Math.floor((len+3)/4));\n\t    for (var i = 0, j = 0; i < (len & ~3); i+=4, j++)\n\t\tout[j] = (M[data[i+0]]<<0)\n\t\t       + (M[data[i+1]]<<2)\n\t\t       + (M[data[i+2]]<<4)\n\t\t       + (M[data[i+3]]<<6)\n\n\t    if (i < len) {\n\t\tout[j] = 0;\n\t\tvar v = 0;\n\t\twhile (i < len) {\n\t\t    out[j] |= M[data[i++]]<<v;\n\t\t    v+=2;\n\t\t}\n\t\tj++;\n\t    }\n\n\t    meta.WriteUint7(j)\n\t    return [meta, out, out.length]\n\t}\n\n\tif (nsym <= 16) {\n\t    // 4 bits per value\n\t    var out = new Buffer.allocUnsafe(Math.floor((len+1)/2));\n\t    for (var i = 0, j = 0; i < (len & ~1); i+=2, j++)\n\t\tout[j] = (M[data[i+0]]<<0)\n\t\t       + (M[data[i+1]]<<4)\n\t    if (i < len)\n\t\tout[j++] = M[data[i++]];\n\n\t    meta.WriteUint7(j)\n\t    return [meta, out, out.length]\n\t}\n\n\t// Otherwise an expensive NOP\n\tmeta.WriteUint7(data.length)\n\treturn [meta, data, data.length]\n    }\n\n    //----------------------------------------------------------------------\n    // STRIPE method\n    encodeStripe(hdr, src, N) {\n    if (N == 0)\n\tN = 4; // old default\n\n\t// Split into multiple streams\n\tvar part = new Array(N)\n\tvar ulen = new Array(N)\n\tfor (var s = 0; s < N; s++) {\n\t    ulen[s] = Math.floor(src.length / N) + ((src.length % N) > s);\n\t    part[s] = new Array(ulen[s])\n\t}\n\n\tfor (var x = 0, i = 0; i < src.length; i+=N, x++) {\n\t    for (var j = 0; j < N; j++)\n\t\tif (x < part[j].length)\n\t\t    part[j][x] = src[i+j]\n\t}\n\n\t// Compress each part\n\tvar comp = new Array(N)\n\tvar total = 0\n\tfor (var s = 0; s < N; s++) {\n\t    // Example: try O0 and O1 and choose best\n\t    var comp0 = this.encode(part[s], 0)\n\t    var comp1 = this.encode(part[s], 1)\n\t    comp[s] = (comp1.length < comp0.length) ? comp1 : comp0\n\t    total += comp[s].length\n\t}\n\n\t// Serialise\n\tvar out = new IOStream(\"\", 0, total+5*N + 1)\n\tout.WriteByte(N)\n\tfor (var s = 0; s < N; s++)\n\t    out.WriteUint7(comp[s].length)\n\n\tfor (var s = 0; s < N; s++)\n\t    out.WriteData(comp[s], comp[s].length)\n\n\treturn out.buf.slice(0, out.buf.pos)\n    }\n\n    decodeStripe(stream, len) {\n\tvar N = stream.ReadByte()\n\t\n\t// Retrieve lengths\n\tvar clen = new Array(N)\n\tvar ulen = new Array(N)\n\tfor (var j = 0; j < N; j++)\n\t    clen[j] = stream.ReadUint7()\n\n\t// Decode streams\n\tvar T = new Array(N);\n\tfor (var j = 0; j < N; j++) {\n\t    ulen[j] = Math.floor(len / N) + ((len % N) > j)\n\t    T[j] = this.decodeStream(stream, ulen[j])\n\t}\n\n\t// Transpose\n\tvar out = new Buffer.allocUnsafe(len)\n\tfor (var j = 0; j < N; j++) {\n\t    for (var i = 0; i < ulen[j]; i++) {\n\t\tout[i*N + j] = T[j][i];\n\t    }\n\t}\n\n\treturn out\n    }\n\n    //----------------------------------------------------------------------\n    // Cat method\n    decodeCat(stream, len) {\n\tvar out = new Buffer.allocUnsafe(len);\n\tfor (var i = 0; i < len; i++)\n\t    out[i] = stream.ReadByte()\n\n\treturn out\n    }\n}\n","/*\n * Copyright (c) 2019 Genome Research Ltd.\n * Author(s): James Bonfield\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice,\n *       this list of conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above\n *       copyright notice, this list of conditions and the following\n *       disclaimer in the documentation and/or other materials provided\n *       with the distribution.\n *\n *    3. Neither the names Genome Research Ltd and Wellcome Trust Sanger\n *       Institute nor the names of its contributors may be used to endorse\n *       or promote products derived from this software without specific\n *       prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY GENOME RESEARCH LTD AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED\n * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A\n * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GENOME RESEARCH\n * LTD OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n// An arithmetic coder, based on Eugene Shelwien's reimplementation of\n// Michael Schindler range coder.\n//\n// Order-0 byte stream of ~/scratch/data/q40b\n// C:              3.1s decode  (approx same vs 32-bit and 64-bit)\n// Arith_sh.js     6.7s decode  (32-bit with carries)\n// Arith.js      317.0s decode  (64-bit no carries); int64 crippling it.\n\n//----------------------------------------------------------------------\n// Arithmetic (range) coder\nmodule.exports = class RangeCoder {\n    constructor(src) {\n\tthis.low   = 0;\n\tthis.range = 0xffffffff;\n\tthis.code  = 0;\n\tthis.FFnum = 0;\n\tthis.carry = 0;\n\tthis.cache = 0;\n    }\n\n    RangeStartDecode(src) {\n\tfor (var i = 0; i < 5; i++)\n\t    this.code = (this.code << 8) + src.ReadByte();\n\tthis.code &= 0xffffffff;\n\tthis.code >>>= 0; // force to be +ve int\n    }\n\n    RangeGetFrequency(tot_freq) {\n\tthis.range = Math.floor(this.range / tot_freq);\n\t//return this.code / this.range;\n\treturn Math.floor(this.code / this.range);\n\n\t// Conceptual scenario; return freq only and don't modify range yet\n\t//return Math.floor(this.code / (Math.floor(this.range / tot_freq)));\n    }\n\n    RangeDecode(src, sym_low, sym_freq, tot_freq) {\n\t// Conceptually we divide range here, but in practice we cached it earlier\n\t//this.range = Math.floor(this.range / tot_freq);\n\n\tthis.code  -= sym_low * this.range;\n\tthis.range *= sym_freq;\n\n\twhile (this.range < (1<<24)) {\n\t    this.range *= 256;\n\t    this.code = (this.code*256 + src.ReadByte());\n\t}\n    }\n\n    RangeShiftLow(dst) {\n\t// We know range is < (1<<24) as we got here.  We already have a\n\t// cached copy of 8 bits from low.  Is this correct, or does it need\n\t// fixing?  Possible scenarios.\n\t// 1. Low < 0xff000000 thus low+range < 0xffffffff and cache\n\t//    cannot possibly change.  Output cache and as many ffs as needed.\n\t// 2. We already detected an overflow in RangeEncode, setting carry.\n\t//    In this case output cached byte + 1 and any 00s needed.\n\t// 3. Neither case - range is low but we haven't yet detected if we're\n\t//    XXffffff or XY000000 scenario.  Increase counter for ff/00s.\n\n\tif (this.low < 0xff000000 | this.carry) {\n\t    // cached byte if no overflow, byte+1 otherwise\n\t    dst.WriteByte(this.cache + this.carry);\n\n\t    // Flush any tracked FFs (no carry) or 00s (carry).\n\t    while (this.FFnum) {\n\t\tdst.WriteByte(this.carry-1);\n\t\tthis.FFnum--;\n\t    }\n\n\t    // Take a copy of top byte ready for next flush\n\t    this.cache = this.low >>> 24;\n\t    this.carry = 0;\n\t} else {\n\t    this.FFnum++; // keep track of number of trailing ff/00 bytes to write\n\t}\n\tthis.low <<= 8;\n\tthis.low >>>= 0; // force to be +ve int\n    }\n\n    RangeEncode(dst, sym_low, sym_freq, tot_freq) {\n\tvar old_low = this.low\n\tthis.range  = Math.floor(this.range / tot_freq)\n\tthis.low   += sym_low * this.range;\n\tthis.low >>>= 0; // Truncate to +ve int so we can spot overflow\n\tthis.range *= sym_freq;\n\n\t// \"low + sym*range < old_low\" means we overflow; set carry.\n\t// NB: can this.low < old_low occur twice before range < (1<<24)?\n\t// We claim not, but prove it!\n\tif (this.low < old_low) {\n\t    if (this.carry != 0) console.log(\"ERROR: Multiple carry\")\n\t    this.carry = 1\n\t}\n\n\t// Renormalise if range gets too small\n\twhile (this.range < (1<<24)) {\n\t    this.range *= 256;\n\t    this.RangeShiftLow(dst);\n\t}\n    }\n\n    RangeFinishEncode(dst) {\n\tfor (var i = 0; i < 5; i++)\n\t    this.RangeShiftLow(dst)\n    }\n};\n","/*\n * Copyright (c) 2019 Genome Research Ltd.\n * Author(s): James Bonfield\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice,\n *       this list of conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above\n *       copyright notice, this list of conditions and the following\n *       disclaimer in the documentation and/or other materials provided\n *       with the distribution.\n *\n *    3. Neither the names Genome Research Ltd and Wellcome Trust Sanger\n *       Institute nor the names of its contributors may be used to endorse\n *       or promote products derived from this software without specific\n *       prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY GENOME RESEARCH LTD AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED\n * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A\n * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GENOME RESEARCH\n * LTD OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n// An adaptive probability model for encoding and decoding of symbols\n// within a given alphabet, using the range coder to get/put the\n// compressed data.\n\nconst MAX_FREQ = ((1<<16)-17)\nconst STEP     = 16\n\nmodule.exports = class ByteModel {\n    constructor(max_sym = 256) {\n\tthis.total_freq = max_sym;\n\tthis.max_sym = max_sym-1;\n\tthis.S = new Array\n\tthis.F = new Array\n\n\tfor (var i = 0; i <= this.max_sym; i++) {\n\t    this.S[i] = i;\n\t    this.F[i] = 1;\n\t}\n    }\n\n    ModelDecode(src, rc) {\n\t// Find symbol\n\tvar freq = rc.RangeGetFrequency(this.total_freq);\n\n\t// Linear scan to find cumulative frequency 'freq'\n\tvar acc = 0;\n\tvar x = 0;\n\twhile (acc + this.F[x] <= freq)\n\t    acc += this.F[x++];\n\n//\tfor (var acc = 0; (acc += this.F[x]) <= freq; x++)\n//\t    ;\n//\tacc -= this.F[x];\n\n\t// Update range coder\n\trc.RangeDecode(src, acc, this.F[x], this.total_freq);\n\n\t// Update model\n\tthis.F[x]       += STEP;\n\tthis.total_freq += STEP;\n\tif (this.total_freq > MAX_FREQ)\n\t    this.ModelRenormalise();\n\t\n\n\t// Keep symbols approximately frequency sorted\n\tvar sym = this.S[x];\n\tif (x > 0 && this.F[x] > this.F[x-1]) {\n\t    var tmp = this.F[x];\n\t    this.F[x] = this.F[x-1];\n\t    this.F[x-1] = tmp;\n\n\t    tmp = this.S[x];\n\t    this.S[x] = this.S[x-1];\n\t    this.S[x-1] = tmp;\n\t}\n\n\treturn sym;\n    }\n\n    ModelRenormalise() {\n\t// Halve all the frequencies, being careful not to hit zero\n\tthis.total_freq = 0;\n\tfor (var i = 0; i <= this.max_sym; i++) {\n\t    this.F[i] -= Math.floor(this.F[i] / 2);\n\t    this.total_freq += this.F[i];\n\t}\n    }\n\n    ModelEncode(dst, rc, sym) {\n\t// Find cumulative frequency\n\tvar acc = 0;\n\tfor (var x = 0; this.S[x] != sym; x++)\n\t    acc += this.F[x];\n\n\t// Encode\n\trc.RangeEncode(dst, acc, this.F[x], this.total_freq);\n\n\t// Update model\n\tthis.F[x]       += STEP;\n\tthis.total_freq += STEP;\n\tif (this.total_freq > MAX_FREQ) // FIXME x2\n\t    this.ModelRenormalise();\n\n\t// Keep symbols approximately frequency sorted\n\tvar sym = this.S[x];\n\tif (x > 0 && this.F[x] > this.F[x-1]) {\n\t    var tmp = this.F[x];\n\t    this.F[x] = this.F[x-1];\n\t    this.F[x-1] = tmp;\n\n\t    tmp = this.S[x];\n\t    this.S[x] = this.S[x-1];\n\t    this.S[x-1] = tmp;\n\t}\n    }\n};\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n",null,null],"sourceRoot":""}