{"version":3,"file":"static/js/3420.f215af5a.chunk.js","mappings":"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","sources":["../../../plugins/linear-comparative-view/src/LinearComparativeView/components/RubberBand.tsx","../../../plugins/linear-comparative-view/src/LinearComparativeView/components/Header.tsx","../../../plugins/linear-comparative-view/src/LinearComparativeView/components/LinearComparativeView.tsx","../../../plugins/linear-comparative-view/src/LinearSyntenyView/components/ImportForm.tsx","../../../plugins/linear-comparative-view/src/LinearSyntenyView/components/LinearSyntenyView.tsx","../../../node_modules/path-browserify/index.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react'\nimport { observer } from 'mobx-react'\nimport {\n  Popover,\n  Tooltip,\n  Typography,\n  makeStyles,\n  alpha,\n} from '@material-ui/core'\nimport { stringify } from '@jbrowse/core/util'\nimport { Menu } from '@jbrowse/core/ui'\nimport { LinearComparativeViewModel } from '../model'\nimport { LinearGenomeViewModel } from '@jbrowse/plugin-linear-genome-view'\n\ntype LCV = LinearComparativeViewModel\ntype LGV = LinearGenomeViewModel\n\nconst useStyles = makeStyles(theme => {\n  const background = theme.palette.tertiary\n    ? alpha(theme.palette.tertiary.main, 0.7)\n    : alpha(theme.palette.primary.main, 0.7)\n  return {\n    rubberBand: {\n      height: '100%',\n      background,\n      position: 'absolute',\n      zIndex: 10,\n      textAlign: 'center',\n      overflow: 'hidden',\n    },\n    rubberBandControl: {\n      cursor: 'crosshair',\n      width: '100%',\n      minHeight: 8,\n    },\n    rubberBandText: {\n      color: theme.palette.tertiary\n        ? theme.palette.tertiary.contrastText\n        : theme.palette.primary.contrastText,\n    },\n    popover: {\n      mouseEvents: 'none',\n      cursor: 'crosshair',\n    },\n    paper: {\n      paddingLeft: theme.spacing(1),\n      paddingRight: theme.spacing(1),\n    },\n    guide: {\n      pointerEvents: 'none',\n      height: '100%',\n      width: 1,\n      position: 'absolute',\n      zIndex: 10,\n    },\n    sm: {\n      fontSize: 10,\n    },\n  }\n})\n\nconst VerticalGuide = observer(\n  ({ model, coordX }: { model: LCV; coordX: number }) => {\n    const classes = useStyles()\n    return (\n      <Tooltip\n        open\n        placement=\"top\"\n        title={model.views\n          .map(view => view.pxToBp(coordX))\n          .map(elt => (\n            <Typography className={classes.sm} key={JSON.stringify(elt)}>\n              {stringify(elt)}\n            </Typography>\n          ))}\n        arrow\n      >\n        <div\n          className={classes.guide}\n          style={{\n            left: coordX,\n            background: 'red',\n          }}\n        />\n      </Tooltip>\n    )\n  },\n)\n\nfunction RubberBand({\n  model,\n  ControlComponent = <div />,\n}: {\n  model: LCV\n  ControlComponent?: React.ReactElement\n}) {\n  const [startX, setStartX] = useState<number>()\n  const [currentX, setCurrentX] = useState<number>()\n\n  // clientX and clientY used for anchorPosition for menu\n  // offsetX used for calculations about width of selection\n  const [anchorPosition, setAnchorPosition] = useState<{\n    offsetX: number\n    clientX: number\n    clientY: number\n  }>()\n  const [guideX, setGuideX] = useState<number | undefined>()\n  const controlsRef = useRef<HTMLDivElement>(null)\n  const rubberBandRef = useRef(null)\n  const classes = useStyles()\n  const mouseDragging = startX !== undefined && anchorPosition === undefined\n\n  useEffect(() => {\n    function computeOffsets(offsetX: number, view: LGV) {\n      if (startX === undefined) {\n        return\n      }\n      let leftPx = startX\n      let rightPx = offsetX\n      // handles clicking and draging to the left\n      if (rightPx < leftPx) {\n        ;[leftPx, rightPx] = [rightPx, leftPx]\n      }\n      const leftOffset = view.pxToBp(leftPx)\n      const rightOffset = view.pxToBp(rightPx)\n\n      return { leftOffset, rightOffset }\n    }\n\n    function globalMouseMove(event: MouseEvent) {\n      if (controlsRef.current && mouseDragging) {\n        const relativeX =\n          event.clientX - controlsRef.current.getBoundingClientRect().left\n        setCurrentX(relativeX)\n      }\n    }\n\n    function globalMouseUp(event: MouseEvent) {\n      if (startX !== undefined && controlsRef.current) {\n        const { clientX, clientY } = event\n        const ref = controlsRef.current\n        const offsetX = clientX - ref.getBoundingClientRect().left\n        // as stated above, store both clientX/Y and offsetX for different\n        // purposes\n        setAnchorPosition({\n          offsetX,\n          clientX,\n          clientY,\n        })\n        model.views.forEach(view => {\n          const args = computeOffsets(offsetX, view)\n          if (args) {\n            const { leftOffset, rightOffset } = args\n            view.setOffsets(leftOffset, rightOffset)\n          }\n        })\n        setGuideX(undefined)\n      }\n    }\n    if (mouseDragging) {\n      window.addEventListener('mousemove', globalMouseMove)\n      window.addEventListener('mouseup', globalMouseUp)\n      return () => {\n        window.removeEventListener('mousemove', globalMouseMove)\n        window.removeEventListener('mouseup', globalMouseUp)\n      }\n    }\n    return () => {}\n  }, [startX, mouseDragging, anchorPosition, model])\n\n  useEffect(() => {\n    if (\n      !mouseDragging &&\n      currentX !== undefined &&\n      startX !== undefined &&\n      Math.abs(currentX - startX) <= 3\n    ) {\n      handleClose()\n    }\n  }, [mouseDragging, currentX, startX])\n\n  function mouseDown(event: React.MouseEvent<HTMLDivElement>) {\n    event.preventDefault()\n    event.stopPropagation()\n    const relativeX =\n      event.clientX -\n      (event.target as HTMLDivElement).getBoundingClientRect().left\n    setStartX(relativeX)\n    setCurrentX(relativeX)\n  }\n\n  function mouseMove(event: React.MouseEvent<HTMLDivElement>) {\n    const target = event.target as HTMLDivElement\n    setGuideX(event.clientX - target.getBoundingClientRect().left)\n  }\n\n  function mouseOut() {\n    setGuideX(undefined)\n    model.views.forEach(view => view.setOffsets(undefined, undefined))\n  }\n\n  function handleClose() {\n    setAnchorPosition(undefined)\n    setStartX(undefined)\n    setCurrentX(undefined)\n  }\n\n  const open = Boolean(anchorPosition)\n\n  function handleMenuItemClick(_: unknown, callback: Function) {\n    callback()\n    handleClose()\n  }\n\n  if (startX === undefined) {\n    return (\n      <>\n        {guideX !== undefined ? (\n          <VerticalGuide model={model} coordX={guideX} />\n        ) : null}\n        <div\n          data-testid=\"rubberBand_controls\"\n          className={classes.rubberBandControl}\n          role=\"presentation\"\n          ref={controlsRef}\n          onMouseDown={mouseDown}\n          onMouseOut={mouseOut}\n          onMouseMove={mouseMove}\n        >\n          {ControlComponent}\n        </div>\n      </>\n    )\n  }\n\n  /* Calculating Pixels for Mouse Dragging */\n  const right = anchorPosition ? anchorPosition.offsetX : currentX || 0\n  const left = right < startX ? right : startX\n  const width = Math.abs(right - startX)\n  const { views } = model\n  const leftBpOffset = views.map(view => view.pxToBp(left))\n  const rightBpOffset = views.map(view => view.pxToBp(left + width))\n  const numOfBpSelected = views.map(view => Math.ceil(width * view.bpPerPx))\n  return (\n    <>\n      {rubberBandRef.current ? (\n        <>\n          <Popover\n            className={classes.popover}\n            classes={{\n              paper: classes.paper,\n            }}\n            open\n            anchorEl={rubberBandRef.current}\n            anchorOrigin={{\n              vertical: 'top',\n              horizontal: 'left',\n            }}\n            transformOrigin={{\n              vertical: 'bottom',\n              horizontal: 'right',\n            }}\n            keepMounted\n            disableRestoreFocus\n          >\n            {leftBpOffset.map(l => (\n              <Typography key={JSON.stringify(l)}>{stringify(l)}</Typography>\n            ))}\n          </Popover>\n          <Popover\n            className={classes.popover}\n            classes={{\n              paper: classes.paper,\n            }}\n            open\n            anchorEl={rubberBandRef.current}\n            anchorOrigin={{\n              vertical: 'top',\n              horizontal: 'right',\n            }}\n            transformOrigin={{\n              vertical: 'bottom',\n              horizontal: 'left',\n            }}\n            keepMounted\n            disableRestoreFocus\n          >\n            {rightBpOffset.map(l => (\n              <Typography key={JSON.stringify(l)}>{stringify(l)}</Typography>\n            ))}\n          </Popover>\n        </>\n      ) : null}\n      <div\n        ref={rubberBandRef}\n        className={classes.rubberBand}\n        style={{ left, width }}\n      >\n        <Typography variant=\"h6\" className={classes.rubberBandText}>\n          {numOfBpSelected.map((n, i) => (\n            <Typography key={`${n}_${i}`}>{`${n.toLocaleString(\n              'en-US',\n            )}bp`}</Typography>\n          ))}\n        </Typography>\n      </div>\n      <div\n        data-testid=\"rubberBand_controls\"\n        className={classes.rubberBandControl}\n        role=\"presentation\"\n        ref={controlsRef}\n        onMouseDown={mouseDown}\n        onMouseOut={mouseOut}\n        onMouseMove={mouseMove}\n      >\n        {ControlComponent}\n      </div>\n      {anchorPosition ? (\n        <Menu\n          anchorReference=\"anchorPosition\"\n          anchorPosition={{\n            left: anchorPosition.clientX,\n            top: anchorPosition.clientY,\n          }}\n          onMenuItemClick={handleMenuItemClick}\n          open={open}\n          onClose={handleClose}\n          menuItems={model.rubberBandMenuItems()}\n        />\n      ) : null}\n    </>\n  )\n}\n\nexport default observer(RubberBand)\n","import React from 'react'\nimport { IconButton, Typography, makeStyles } from '@material-ui/core'\nimport { SearchBox } from '@jbrowse/plugin-linear-genome-view'\nimport { observer } from 'mobx-react'\n\n// icons\nimport LinkIcon from '@material-ui/icons/Link'\nimport LinkOffIcon from '@material-ui/icons/LinkOff'\nimport CropFreeIcon from '@material-ui/icons/CropFree'\n\nimport { LinearComparativeViewModel } from '../model'\n\ntype LCV = LinearComparativeViewModel\n\nconst useStyles = makeStyles(() => ({\n  headerBar: {\n    gridArea: '1/1/auto/span 2',\n    display: 'flex',\n  },\n  spacer: {\n    flexGrow: 1,\n  },\n  bp: {\n    display: 'flex',\n    alignItems: 'center',\n    marginLeft: 10,\n  },\n  searchContainer: {\n    marginLeft: 5,\n  },\n  searchBox: {\n    display: 'flex',\n  },\n}))\n\nconst LinkViews = observer(({ model }: { model: LCV }) => {\n  return (\n    <IconButton\n      onClick={model.toggleLinkViews}\n      title=\"Toggle linked scrolls and behavior across views\"\n    >\n      {model.linkViews ? (\n        <LinkOffIcon color=\"secondary\" />\n      ) : (\n        <LinkIcon color=\"secondary\" />\n      )}\n    </IconButton>\n  )\n})\n\nconst SquareView = observer(({ model }: { model: LCV }) => {\n  return (\n    <IconButton\n      onClick={model.squareView}\n      title=\"Square view (make both the same zoom level)\"\n    >\n      <CropFreeIcon color=\"secondary\" />\n    </IconButton>\n  )\n})\n\nconst Header = observer(\n  ({ model, ExtraButtons }: { ExtraButtons?: React.ReactNode; model: LCV }) => {\n    const classes = useStyles()\n    const anyShowHeaders = model.views.some(view => !view.hideHeader)\n    return (\n      <div className={classes.headerBar}>\n        <LinkViews model={model} />\n        <SquareView model={model} />\n        {ExtraButtons}\n        {!anyShowHeaders\n          ? model.views.map(view => (\n              <div key={view.id} className={classes.searchBox}>\n                <div className={classes.searchContainer}>\n                  <SearchBox model={view} showHelp={false} />\n                </div>\n                <div className={classes.bp}>\n                  <Typography\n                    variant=\"body2\"\n                    color=\"textSecondary\"\n                    className={classes.bp}\n                  >\n                    {Math.round(view.coarseTotalBp).toLocaleString('en-US')} bp\n                  </Typography>\n                </div>\n              </div>\n            ))\n          : null}\n\n        <div className={classes.spacer} />\n      </div>\n    )\n  },\n)\n\nexport default Header\n","import React from 'react'\nimport { observer } from 'mobx-react'\nimport { getConf, AnyConfigurationModel } from '@jbrowse/core/configuration'\nimport { makeStyles } from '@material-ui/core'\nimport { getEnv } from 'mobx-state-tree'\nimport { ResizeHandle } from '@jbrowse/core/ui'\n\n// locals\nimport { LinearComparativeViewModel } from '../model'\nimport RubberBand from './RubberBand'\nimport Header from './Header'\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    display: 'grid',\n  },\n  overlay: {\n    zIndex: 100,\n    gridArea: '1/1',\n  },\n  content: {\n    gridArea: '1/1',\n    position: 'relative',\n  },\n  grid: {\n    display: 'grid',\n  },\n  relative: {\n    position: 'relative',\n  },\n\n  // this helps keep the vertical guide inside the parent view container,\n  // similar style exists in the single LGV's trackscontainer\n  rubberbandContainer: {\n    position: 'relative',\n    overflow: 'hidden',\n  },\n}))\n\ntype LCV = LinearComparativeViewModel\n\nconst Overlays = observer(({ model }: { model: LCV }) => {\n  const classes = useStyles()\n  return (\n    <>\n      {model.tracks.map(track => {\n        const [display] = track.displays\n        const { RenderingComponent } = display\n        const trackId = getConf(track, 'trackId')\n        return RenderingComponent ? (\n          <div\n            className={classes.overlay}\n            key={trackId}\n            style={{\n              height: model.middleComparativeHeight,\n              overflow: 'hidden',\n            }}\n          >\n            <RenderingComponent model={display} />\n          </div>\n        ) : null\n      })}\n    </>\n  )\n})\n\n// The comparative is in the middle of the views\nconst MiddleComparativeView = observer(\n  ({ model, ExtraButtons }: { ExtraButtons?: React.ReactNode; model: LCV }) => {\n    const classes = useStyles()\n    const { views } = model\n    const { pluginManager } = getEnv(model)\n    const { ReactComponent } = pluginManager.getViewType(views[0].type)\n\n    return (\n      <div className={classes.rubberbandContainer}>\n        <Header ExtraButtons={ExtraButtons} model={model} />\n        <RubberBand\n          model={model}\n          ControlComponent={<div style={{ width: '100%', height: 15 }} />}\n        />\n        <div className={classes.container}>\n          <ReactComponent model={views[0]} />\n          <div className={classes.grid}>\n            <Overlays model={model} />\n          </div>\n          <ResizeHandle\n            onDrag={n =>\n              model.setMiddleComparativeHeight(\n                model.middleComparativeHeight + n,\n              )\n            }\n            style={{\n              height: 4,\n              background: '#ccc',\n            }}\n          />\n          <ReactComponent model={views[1]} />\n        </div>\n      </div>\n    )\n  },\n)\nconst OverlayComparativeView = observer(\n  ({ model, ExtraButtons }: { ExtraButtons?: React.ReactNode; model: LCV }) => {\n    const classes = useStyles()\n    const { views } = model\n    const { pluginManager } = getEnv(model)\n    return (\n      <div className={classes.rubberbandContainer}>\n        <Header model={model} ExtraButtons={ExtraButtons} />\n        <RubberBand\n          model={model}\n          ControlComponent={<div style={{ width: '100%', height: 15 }} />}\n        />\n\n        <div className={classes.container}>\n          <div className={classes.content}>\n            <div className={classes.relative}>\n              {views.map(view => {\n                const { ReactComponent } = pluginManager.getViewType(view.type)\n                return <ReactComponent key={view.id} model={view} />\n              })}\n            </div>\n            <Overlays model={model} />\n          </div>\n        </div>\n      </div>\n    )\n  },\n)\n\nconst LinearComparativeView = observer(\n  (props: { ExtraButtons?: React.ReactNode; model: LCV }) => {\n    const { model } = props\n    const middle = model.tracks.some(({ displays }) =>\n      displays.some((d: AnyConfigurationModel) => getConf(d, 'middle')),\n    )\n    return middle ? (\n      <MiddleComparativeView {...props} />\n    ) : (\n      <OverlayComparativeView {...props} />\n    )\n  },\n)\n\nexport default LinearComparativeView\n","import React, { useState } from 'react'\nimport path from 'path'\nimport { transaction } from 'mobx'\nimport { observer } from 'mobx-react'\nimport { getSession, isSessionWithAddTracks } from '@jbrowse/core/util'\nimport {\n  Button,\n  Container,\n  FormControlLabel,\n  Radio,\n  RadioGroup,\n  Grid,\n  Paper,\n  Typography,\n  makeStyles,\n} from '@material-ui/core'\nimport { FileLocation } from '@jbrowse/core/util/types'\nimport { FileSelector, ErrorMessage, AssemblySelector } from '@jbrowse/core/ui'\nimport { LinearSyntenyViewModel } from '../model'\n\nconst useStyles = makeStyles(theme => ({\n  importFormContainer: {\n    padding: theme.spacing(4),\n  },\n\n  formPaper: {\n    margin: '0 auto',\n    padding: 12,\n    marginBottom: 10,\n  },\n}))\n\nfunction getName(\n  trackData?: { uri: string } | { localPath: string } | { name: string },\n) {\n  return trackData\n    ? // @ts-ignore\n      trackData.uri || trackData.localPath || trackData.name\n    : undefined\n}\n\nfunction stripGz(fileName: string) {\n  return fileName.endsWith('.gz')\n    ? fileName.slice(0, fileName.length - 3)\n    : fileName\n}\n\nconst ImportForm = observer(({ model }: { model: LinearSyntenyViewModel }) => {\n  const classes = useStyles()\n  const session = getSession(model)\n\n  const { assemblyNames, assemblyManager } = session\n  const [selected, setSelected] = useState([assemblyNames[0], assemblyNames[0]])\n  const [trackData, setTrackData] = useState<FileLocation>()\n  const [bed2Location, setBed2Location] = useState<FileLocation>()\n  const [bed1Location, setBed1Location] = useState<FileLocation>()\n  const [numRows] = useState(2)\n  const [error, setError] = useState<unknown>()\n\n  const [value, setValue] = useState('')\n  const fileName = getName(trackData)\n  const radioOption = value || (fileName ? path.extname(stripGz(fileName)) : '')\n\n  const assemblyError = assemblyNames.length\n    ? selected\n        .map(a => assemblyManager.get(a)?.error)\n        .filter(f => !!f)\n        .join(', ')\n    : 'No configured assemblies'\n\n  function getAdapter() {\n    if (radioOption === '.paf') {\n      return {\n        type: 'PAFAdapter',\n        pafLocation: trackData,\n        assemblyNames: selected,\n      }\n    } else if (radioOption === '.out') {\n      return {\n        type: 'MashMapAdapter',\n        outLocation: trackData,\n        assemblyNames: selected,\n      }\n    } else if (radioOption === '.delta') {\n      return {\n        type: 'DeltaAdapter',\n        deltaLocation: trackData,\n        assemblyNames: selected,\n      }\n    } else if (radioOption === '.chain') {\n      return {\n        type: 'ChainAdapter',\n        chainLocation: trackData,\n        assemblyNames: selected,\n      }\n    } else if (radioOption === '.anchors') {\n      return {\n        type: 'MCScanAnchorsAdapter',\n        mcscanAnchorsLocation: trackData,\n        bed1Location,\n        bed2Location,\n        assemblyNames: selected,\n      }\n    } else if (radioOption === '.anchors.simple') {\n      return {\n        type: 'MCScanSimpleAnchorsAdapter',\n        mcscanSimpleAnchorsLocation: trackData,\n        bed1Location,\n        bed2Location,\n        assemblyNames: selected,\n      }\n    } else {\n      throw new Error('Unknown type')\n    }\n  }\n\n  async function onOpenClick() {\n    try {\n      if (!isSessionWithAddTracks(session)) {\n        return\n      }\n      model.setViews(\n        await Promise.all(\n          selected.map(async selection => {\n            const assembly = await assemblyManager.waitForAssembly(selection)\n            if (!assembly) {\n              throw new Error(`Assembly ${selection} failed to load`)\n            }\n            return {\n              type: 'LinearGenomeView' as const,\n              bpPerPx: 1,\n              offsetPx: 0,\n              hideHeader: true,\n              displayedRegions: assembly.regions,\n            }\n          }),\n        ),\n      )\n\n      model.views.forEach(view => view.setWidth(model.width))\n\n      transaction(() => {\n        if (trackData) {\n          const fileName = path.basename(getName(trackData)) || 'MyTrack'\n          const trackId = `${fileName}-${Date.now()}`\n\n          session.addTrackConf({\n            trackId: trackId,\n            name: fileName,\n            assemblyNames: selected,\n            type: 'SyntenyTrack',\n            adapter: getAdapter(),\n          })\n\n          model.toggleTrack(trackId)\n        }\n      })\n    } catch (e) {\n      console.error(e)\n      setError(e)\n    }\n  }\n\n  // this is a combination of any displayed error message we have\n  const displayError = error || assemblyError\n  return (\n    <Container className={classes.importFormContainer}>\n      {displayError ? <ErrorMessage error={displayError} /> : null}\n      <Paper className={classes.formPaper}>\n        <Grid\n          container\n          item\n          justifyContent=\"center\"\n          spacing={4}\n          alignItems=\"center\"\n        >\n          <Grid item>\n            <Typography>Select assemblies for synteny view</Typography>\n            {[...new Array(numRows)].map((_, index) => (\n              <AssemblySelector\n                key={`row_${index}_${selected[index]}`}\n                selected={selected[index]}\n                extra={index}\n                onChange={val => {\n                  // splice the value into the current array\n                  const copy = selected.slice(0)\n                  copy[index] = val\n                  setSelected(copy)\n                }}\n                session={session}\n              />\n            ))}\n          </Grid>\n        </Grid>\n      </Paper>\n\n      <Paper className={classes.formPaper}>\n        <Typography style={{ textAlign: 'center' }}>\n          <b>Optional</b>: Add a .paf, .out (MashMap), .delta (Mummer), .chain,\n          .anchors or .anchors.simple (MCScan) file to view in the synteny view.\n          These file types can also be gzipped. The first assembly should be the\n          query sequence (e.g. left column of the PAF) and the second assembly\n          should be the target sequence (e.g. right column of the PAF)\n        </Typography>\n        <RadioGroup\n          value={radioOption}\n          onChange={event => setValue(event.target.value)}\n        >\n          <Grid container justifyContent=\"center\">\n            <Grid item>\n              <FormControlLabel value=\".paf\" control={<Radio />} label=\".paf\" />\n            </Grid>\n            <Grid item>\n              <FormControlLabel value=\".out\" control={<Radio />} label=\".out\" />\n            </Grid>\n            <Grid item>\n              <FormControlLabel\n                value=\".delta\"\n                control={<Radio />}\n                label=\".delta\"\n              />\n            </Grid>\n            <Grid item>\n              <FormControlLabel\n                value=\".chain\"\n                control={<Radio />}\n                label=\".chain\"\n              />\n            </Grid>\n            <Grid item>\n              <FormControlLabel\n                value=\".anchors\"\n                control={<Radio />}\n                label=\".anchors\"\n              />\n            </Grid>\n            <Grid item>\n              <FormControlLabel\n                value=\".anchors.simple\"\n                control={<Radio />}\n                label=\".anchors.simple\"\n              />\n            </Grid>\n          </Grid>\n        </RadioGroup>\n        <Grid container justifyContent=\"center\">\n          <Grid item>\n            {value === '.anchors' || value === '.anchors.simple' ? (\n              <div>\n                <div style={{ margin: 20 }}>\n                  Open the {value}, and .bed files for both genome assemblies\n                  from the MCScan (Python verson) pipeline{' '}\n                  <a href=\"https://github.com/tanghaibao/jcvi/wiki/MCscan-(Python-version)\">\n                    (more info)\n                  </a>\n                </div>\n                <div style={{ display: 'flex' }}>\n                  <div>\n                    <FileSelector\n                      name=\".anchors file\"\n                      description=\"\"\n                      location={trackData}\n                      setLocation={loc => setTrackData(loc)}\n                    />\n                  </div>\n                  <div>\n                    <FileSelector\n                      name=\"genome 1 .bed (left column of anchors file)\"\n                      description=\"\"\n                      location={bed1Location}\n                      setLocation={loc => setBed1Location(loc)}\n                    />\n                  </div>\n                  <div>\n                    <FileSelector\n                      name=\"genome 2 .bed (right column of anchors file)\"\n                      description=\"\"\n                      location={bed2Location}\n                      setLocation={loc => setBed2Location(loc)}\n                    />\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <FileSelector\n                name={value ? value + ' location' : ''}\n                description=\"\"\n                location={trackData}\n                setLocation={loc => setTrackData(loc)}\n              />\n            )}\n          </Grid>\n        </Grid>\n      </Paper>\n      <Grid container justifyContent=\"center\">\n        <Grid item>\n          <Button\n            // only disable button on assemblyError. for other types of errors\n            // in the useState can retry\n            disabled={!!assemblyError}\n            onClick={onOpenClick}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Open\n          </Button>\n        </Grid>\n      </Grid>\n    </Container>\n  )\n})\n\nexport default ImportForm\n","import React from 'react'\nimport { observer } from 'mobx-react'\nimport { IconButton } from '@material-ui/core'\nimport LinearComparativeViewComponent from '../../LinearComparativeView/components/LinearComparativeView'\nimport { LinearSyntenyViewModel } from '../model'\nimport { Curves, StraightLines } from './Icons'\nimport ImportForm from './ImportForm'\n\ntype LSV = LinearSyntenyViewModel\n\nconst ExtraButtons = observer(({ model }: { model: LSV }) => {\n  return (\n    <IconButton\n      onClick={() => {\n        model.toggleCurves()\n      }}\n      title=\"Toggle drawing straight or curved synteny lines\"\n    >\n      {model.drawCurves ? (\n        <StraightLines color=\"secondary\" />\n      ) : (\n        <Curves color=\"secondary\" />\n      )}\n    </IconButton>\n  )\n})\n\nconst LinearSyntenyView = observer(({ model }: { model: LSV }) => {\n  const { initialized } = model\n  if (!initialized) {\n    return <ImportForm model={model} />\n  }\n  return (\n    <LinearComparativeViewComponent\n      model={model}\n      ExtraButtons={<ExtraButtons model={model} />}\n    />\n  )\n})\n\nexport default LinearSyntenyView\n","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n"],"names":["useStyles","makeStyles","theme","rubberBand","height","background","palette","tertiary","alpha","main","primary","position","zIndex","textAlign","overflow","rubberBandControl","cursor","width","minHeight","rubberBandText","color","contrastText","popover","mouseEvents","paper","paddingLeft","spacing","paddingRight","guide","pointerEvents","sm","fontSize","VerticalGuide","observer","model","coordX","classes","Tooltip","open","placement","title","views","map","view","pxToBp","elt","Typography","className","stringify","JSON","arrow","style","left","ControlComponent","useState","startX","setStartX","currentX","setCurrentX","anchorPosition","setAnchorPosition","guideX","setGuideX","controlsRef","useRef","rubberBandRef","mouseDragging","undefined","mouseDown","event","preventDefault","stopPropagation","relativeX","clientX","target","getBoundingClientRect","mouseMove","mouseOut","forEach","setOffsets","handleClose","useEffect","globalMouseMove","current","globalMouseUp","clientY","offsetX","args","leftPx","rightPx","leftOffset","rightOffset","computeOffsets","window","addEventListener","removeEventListener","Math","abs","Boolean","role","ref","onMouseDown","onMouseOut","onMouseMove","right","leftBpOffset","rightBpOffset","numOfBpSelected","ceil","bpPerPx","Popover","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","keepMounted","disableRestoreFocus","l","variant","n","i","toLocaleString","Menu","anchorReference","top","onMenuItemClick","_","callback","onClose","menuItems","rubberBandMenuItems","headerBar","gridArea","display","spacer","flexGrow","bp","alignItems","marginLeft","searchContainer","searchBox","LinkViews","IconButton","onClick","toggleLinkViews","linkViews","LinkOff","Link","SquareView","squareView","CropFree","ExtraButtons","anyShowHeaders","some","hideHeader","showHelp","round","coarseTotalBp","id","container","overlay","content","grid","relative","rubberbandContainer","Overlays","tracks","track","displays","RenderingComponent","trackId","getConf","middleComparativeHeight","MiddleComparativeView","ReactComponent","getEnv","pluginManager","getViewType","type","ResizeHandle","onDrag","setMiddleComparativeHeight","OverlayComparativeView","props","d","importFormContainer","padding","formPaper","margin","marginBottom","getName","trackData","uri","localPath","name","ImportForm","session","getSession","assemblyNames","assemblyManager","selected","setSelected","setTrackData","bed2Location","setBed2Location","bed1Location","setBed1Location","numRows","error","setError","value","setValue","fileName","radioOption","path","endsWith","slice","length","stripGz","assemblyError","a","get","filter","f","join","getAdapter","pafLocation","outLocation","deltaLocation","chainLocation","mcscanAnchorsLocation","mcscanSimpleAnchorsLocation","Error","isSessionWithAddTracks","Promise","all","selection","waitForAssembly","assembly","offsetPx","displayedRegions","regions","setViews","setWidth","transaction","Date","now","addTrackConf","adapter","toggleTrack","console","displayError","Container","ErrorMessage","Paper","Grid","item","justifyContent","Array","index","AssemblySelector","extra","onChange","val","copy","RadioGroup","FormControlLabel","control","Radio","label","href","FileSelector","description","location","setLocation","loc","Button","disabled","toggleCurves","drawCurves","initialized","LinearComparativeView","assertPath","TypeError","normalizeStringPosix","allowAboveRoot","code","res","lastSegmentLength","lastSlash","dots","charCodeAt","lastSlashIndex","lastIndexOf","posix","resolve","cwd","resolvedPath","resolvedAbsolute","arguments","process","normalize","isAbsolute","trailingSeparator","joined","arg","from","to","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","out","_makeLong","dirname","hasRoot","end","matchedSlash","basename","ext","start","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","format","pathObject","sep","dir","root","base","_format","parse","ret","delimiter","win32","module","exports"],"sourceRoot":""}