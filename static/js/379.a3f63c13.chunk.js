/*! For license information please see 379.a3f63c13.chunk.js.LICENSE.txt */
(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[379],{72519:function(){},41181:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"}),"Apps");t.Z=a},39077:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");t.Z=a},41499:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");t.Z=a},31946:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=a},18563:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"}),"Extension");t.Z=a},49181:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}),"FileCopy");t.Z=a},14393:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"GetApp");t.Z=a},8019:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"Launch");t.Z=a},4645:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=a},73823:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");t.Z=a},55824:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"Redo");t.Z=a},59978:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=a},25471:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.Z=a},43647:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");t.Z=a},74119:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"}),"Storage");t.Z=a},78748:function(e,t,r){"use strict";var n=r(71600);t.Z=void 0;var i=n(r(7152)),o=r(29938),a=(0,i.default)((0,o.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),"Undo");t.Z=a},19459:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(31461),i=r(7896),o=r(96902),a=r(37032),u=r(73674),l=r(2252),c=r(53068),s=r(70378),f=r(6880),p=r(74732),d=r(61235);function b(e){return(0,d.Z)("MuiAppBar",e)}(0,p.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var h=r(29938),v=["className","color","enableColorOnDark","position"],y=function(e,t){return e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t},m=(0,l.ZP)(f.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t["position".concat((0,s.Z)(r.position))],t["color".concat((0,s.Z)(r.color))]]}})((function(e){var t=e.theme,r=e.ownerState,n="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,i.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===r.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===r.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===r.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===r.position&&{position:"static"},"relative"===r.position&&{position:"relative"},!t.vars&&(0,i.Z)({},"default"===r.color&&{backgroundColor:n,color:t.palette.getContrastText(n)},r.color&&"default"!==r.color&&"inherit"!==r.color&&"transparent"!==r.color&&{backgroundColor:t.palette[r.color].main,color:t.palette[r.color].contrastText},"inherit"===r.color&&{color:"inherit"},"dark"===t.palette.mode&&!r.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===r.color&&(0,i.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,i.Z)({},"default"===r.color&&{"--AppBar-background":r.enableColorOnDark?t.vars.palette.AppBar.defaultBg:y(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":r.enableColorOnDark?t.vars.palette.text.primary:y(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},r.color&&!r.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":r.enableColorOnDark?t.vars.palette[r.color].main:y(t.vars.palette.AppBar.darkBg,t.vars.palette[r.color].main),"--AppBar-color":r.enableColorOnDark?t.vars.palette[r.color].contrastText:y(t.vars.palette.AppBar.darkColor,t.vars.palette[r.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===r.color?"inherit":"var(--AppBar-color)"},"transparent"===r.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),g=o.forwardRef((function(e,t){var r=(0,c.Z)({props:e,name:"MuiAppBar"}),o=r.className,l=r.color,f=void 0===l?"primary":l,p=r.enableColorOnDark,d=void 0!==p&&p,y=r.position,g=void 0===y?"fixed":y,w=(0,n.Z)(r,v),P=(0,i.Z)({},r,{color:f,position:g,enableColorOnDark:d}),O=function(e){var t=e.color,r=e.position,n=e.classes,i={root:["root","color".concat((0,s.Z)(t)),"position".concat((0,s.Z)(r))]};return(0,u.Z)(i,b,n)}(P);return(0,h.jsx)(m,(0,i.Z)({square:!0,component:"header",ownerState:P,elevation:4,className:(0,a.Z)(O.root,o,"fixed"===g&&"mui-fixed"),ref:t},w))}))},7583:function(e,t,r){"use strict";r.d(t,{d1:function(){return s},dy:function(){return c}});var n=r(96234),i=r(7896),o=r(96902),a=r(53068),u=r(96897),l=r(29938),c=function(e,t){return(0,i.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode})},s=function(e){return(0,i.Z)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}})};t.ZP=function(e){var t=(0,a.Z)({props:e,name:"MuiCssBaseline"}),r=t.children,f=t.enableColorScheme,p=void 0!==f&&f;return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(u.Z,{styles:function(e){return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={};r&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((function(t){var r,i=(0,n.Z)(t,2),a=i[0],u=i[1];o[e.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:null==(r=u.palette)?void 0:r.mode}}));var a=(0,i.Z)({html:c(e,r),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,i.Z)({margin:0},s(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},o),u=null==(t=e.components)||null==(t=t.MuiCssBaseline)?void 0:t.styleOverrides;return u&&(a=[a,u]),a}(e,p)}}),r]})}},88539:function(e,t,r){"use strict";var n=r(56666),i=r(31461),o=r(7896),a=r(96902),u=r(37032),l=r(73674),c=r(83413),s=r(70378),f=r(53068),p=r(53339),d=r(2252),b=r(29938),h=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],v=(0,d.ZP)(c.Z,{name:"MuiFab",slot:"Root",shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.variant],t["size".concat((0,s.Z)(r.size))],"inherit"===r.color&&t.colorInherit,t[(0,s.Z)(r.size)],t[r.color]]}})((function(e){var t,r,i=e.theme,a=e.ownerState;return(0,o.Z)({},i.typography.button,(0,n.Z)({minHeight:36,transition:i.transitions.create(["background-color","box-shadow","border-color"],{duration:i.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(i.vars||i).zIndex.fab,boxShadow:(i.vars||i).shadows[6],"&:active":{boxShadow:(i.vars||i).shadows[12]},color:i.vars?i.vars.palette.text.primary:null==(t=(r=i.palette).getContrastText)?void 0:t.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],"&:hover":{backgroundColor:(i.vars||i).palette.grey.A100,"@media (hover: none)":{backgroundColor:(i.vars||i).palette.grey[300]},textDecoration:"none"}},"&.".concat(p.Z.focusVisible),{boxShadow:(i.vars||i).shadows[6]}),"small"===a.size&&{width:40,height:40},"medium"===a.size&&{width:48,height:48},"extended"===a.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===a.variant&&"small"===a.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===a.variant&&"medium"===a.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===a.color&&{color:"inherit"})}),(function(e){var t=e.theme,r=e.ownerState;return(0,o.Z)({},"inherit"!==r.color&&"default"!==r.color&&null!=(t.vars||t).palette[r.color]&&{color:(t.vars||t).palette[r.color].contrastText,backgroundColor:(t.vars||t).palette[r.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[r.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[r.color].main}}})}),(function(e){var t=e.theme;return(0,n.Z)({},"&.".concat(p.Z.disabled),{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})})),y=a.forwardRef((function(e,t){var r=(0,f.Z)({props:e,name:"MuiFab"}),n=r.children,a=r.className,c=r.color,d=void 0===c?"default":c,y=r.component,m=void 0===y?"button":y,g=r.disabled,w=void 0!==g&&g,P=r.disableFocusRipple,O=void 0!==P&&P,j=r.focusVisibleClassName,S=r.size,_=void 0===S?"large":S,A=r.variant,T=void 0===A?"circular":A,E=(0,i.Z)(r,h),C=(0,o.Z)({},r,{color:d,component:m,disabled:w,disableFocusRipple:O,size:_,variant:T}),x=function(e){var t=e.color,r=e.variant,n=e.classes,i=e.size,a={root:["root",r,"size".concat((0,s.Z)(i)),"inherit"===t?"colorInherit":t]},u=(0,l.Z)(a,p.N,n);return(0,o.Z)({},n,u)}(C);return(0,b.jsx)(v,(0,o.Z)({className:(0,u.Z)(x.root,a),component:m,disabled:w,focusRipple:!O,focusVisibleClassName:(0,u.Z)(x.focusVisible,j),ownerState:C,ref:t},E,{classes:x,children:n}))}));t.Z=y},53339:function(e,t,r){"use strict";r.d(t,{N:function(){return o}});var n=r(74732),i=r(61235);function o(e){return(0,i.Z)("MuiFab",e)}var a=(0,n.Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);t.Z=a},82658:function(e,t,r){"use strict";var n=r(56666),i=r(31461),o=r(7896),a=r(96902),u=r(37032),l=r(73674),c=r(53068),s=r(2252),f=r(24248),p=r(29938),d=["className","component","disableGutters","variant"],b=(0,s.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})((function(e){var t=e.theme,r=e.ownerState;return(0,o.Z)({position:"relative",display:"flex",alignItems:"center"},!r.disableGutters&&(0,n.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===r.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),h=a.forwardRef((function(e,t){var r=(0,c.Z)({props:e,name:"MuiToolbar"}),n=r.className,a=r.component,s=void 0===a?"div":a,h=r.disableGutters,v=void 0!==h&&h,y=r.variant,m=void 0===y?"regular":y,g=(0,i.Z)(r,d),w=(0,o.Z)({},r,{component:s,disableGutters:v,variant:m}),P=function(e){var t=e.classes,r={root:["root",!e.disableGutters&&"gutters",e.variant]};return(0,l.Z)(r,f.N,t)}(w);return(0,p.jsx)(b,(0,o.Z)({as:s,className:(0,u.Z)(P.root,n),ref:t,ownerState:w},g))}));t.Z=h},24248:function(e,t,r){"use strict";r.d(t,{N:function(){return o}});var n=r(74732),i=r(61235);function o(e){return(0,i.Z)("MuiToolbar",e)}var a=(0,n.Z)("MuiToolbar",["root","gutters","regular","dense"]);t.Z=a},16922:function(e,t,r){"use strict";var n=r(53100).default,i=r(98870).default,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(41699),u=o(r(53847)),l=o(r(1528)),c=function(){function e(t){var r=t.fill,i=t.cache;if(n(this,e),"function"!==typeof r)throw new TypeError("must pass a fill function");if("object"!==typeof i)throw new TypeError("must pass a cache object");if("function"!==typeof i.get||"function"!==typeof i.set||"function"!==typeof i.delete)throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=i,this.fillCallback=r}return i(e,[{key:"evict",value:function(e,t){this.cache.get(e)===t&&this.cache.delete(e)}},{key:"fill",value:function(e,t,r,n){var i=this,o=new u.default,a=new l.default;a.addCallback(n);var c={aborter:o,promise:this.fillCallback(t,o.signal,(function(e){a.callback(e)})),settled:!1,statusReporter:a,get aborted(){return this.aborter.signal.aborted}};c.aborter.addSignal(r),c.aborter.signal.addEventListener("abort",(function(){c.settled||i.evict(e,c)})),c.promise.then((function(){c.settled=!0}),(function(){c.settled=!0,i.evict(e,c)})).catch((function(e){throw console.error(e),e})),this.cache.set(e,c)}},{key:"has",value:function(e){return this.cache.has(e)}},{key:"get",value:function(t,r,n,i){if(!n&&r instanceof a.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");var o=this.cache.get(t);return o?o.aborted&&!o.settled?(this.evict(t,o),this.get(t,r,n,i)):o.settled?o.promise:(o.aborter.addSignal(n),o.statusReporter.addCallback(i),e.checkSinglePromise(o.promise,n)):(this.fill(t,r,n,i),e.checkSinglePromise(this.cache.get(t).promise,n))}},{key:"delete",value:function(e){var t=this.cache.get(e);t&&(t.settled||t.aborter.abort(),this.cache.delete(e))}},{key:"clear",value:function(){for(var e=this.cache.keys(),t=0,r=e.next();!r.done;r=e.next())this.delete(r.value),t+=1;return t}}],[{key:"isAbortException",value:function(e){return"AbortError"===e.name||"ERR_ABORTED"===e.code||"AbortError: aborted"===e.message||"Error: aborted"===e.message}},{key:"checkSinglePromise",value:function(e,t){function r(){if(t&&t.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then((function(e){return r(),e}),(function(e){throw r(),e}))}}]),e}();t.default=c},53847:function(e,t,r){"use strict";var n=r(98870).default,i=r(53100).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r(41699),a=n((function e(){i(this,e)})),u=function(){function e(){i(this,e),this.signals=new Set,this.abortController=new o.AbortController}return n(e,[{key:"addSignal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new a;if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(t),t.aborted?this.handleAborted(t):"function"===typeof t.addEventListener&&t.addEventListener("abort",(function(){e.handleAborted(t)}))}},{key:"handleAborted",value:function(e){this.signals.delete(e),0===this.signals.size&&this.abortController.abort()}},{key:"signal",get:function(){return this.abortController.signal}},{key:"abort",value:function(){this.abortController.abort()}}]),e}();t.default=u},1528:function(e,t,r){"use strict";var n=r(53100).default,i=r(98870).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){n(this,e),this.callbacks=new Set}return i(e,[{key:"addCallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.callbacks.add(e),e(this.currentMessage)}},{key:"callback",value:function(e){this.currentMessage=e,this.callbacks.forEach((function(t){t(e)}))}}]),e}();t.default=o},41699:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbortSignal=t.AbortController=void 0;var n=r(10395),i=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")},o="undefined"===typeof i().AbortController?n.AbortController:i().AbortController;t.AbortController=o;var a="undefined"===typeof i().AbortController?n.AbortSignal:i().AbortSignal;t.AbortSignal=a},64926:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(16922));t.default=i.default},67928:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e)};var r="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function i(e,t,r){return e.concat(t).map((function(e){return n(e,r)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function a(e,t){try{return t in e}catch(r){return!1}}function u(e,t,r){var i={};return r.isMergeableObject(e)&&o(e).forEach((function(t){i[t]=n(e[t],r)})),o(t).forEach((function(o){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(a(e,o)&&r.isMergeableObject(t[o])?i[o]=function(e,t){if(!t.customMerge)return l;var r=t.customMerge(e);return"function"===typeof r?r:l}(o,r)(e[o],t[o],r):i[o]=n(t[o],r))})),i}function l(e,r,o){(o=o||{}).arrayMerge=o.arrayMerge||i,o.isMergeableObject=o.isMergeableObject||t,o.cloneUnlessOtherwiseSpecified=n;var a=Array.isArray(r);return a===Array.isArray(e)?a?o.arrayMerge(e,r,o):u(e,r,o):n(r,o)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return l(e,r,t)}),{})};var c=l;e.exports=c},57244:function(e,t,r){var n=r(43681).default,i=r(38636).default,o=r(73419).default,a=r(73408).default;e.exports=function(){"use strict";var e=Object.entries,t=Object.setPrototypeOf,r=Object.isFrozen,u=Object.getPrototypeOf,l=Object.getOwnPropertyDescriptor,c=Object.freeze,s=Object.seal,f=Object.create,p="undefined"!==typeof Reflect&&Reflect,d=p.apply,b=p.construct;d||(d=function(e,t,r){return e.apply(t,r)}),c||(c=function(e){return e}),s||(s=function(e){return e}),b||(b=function(e,t){return o(e,a(t))});var h=A(Array.prototype.forEach),v=A(Array.prototype.pop),y=A(Array.prototype.push),m=A(String.prototype.toLowerCase),g=A(String.prototype.toString),w=A(String.prototype.match),P=A(String.prototype.replace),O=A(String.prototype.indexOf),j=A(String.prototype.trim),S=A(RegExp.prototype.test),_=T(TypeError);function A(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return d(e,t,n)}}function T(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(e,r)}}function E(e,n,i){var o;i=null!==(o=i)&&void 0!==o?o:m,t&&t(e,null);for(var a=n.length;a--;){var u=n[a];if("string"===typeof u){var l=i(u);l!==u&&(r(n)||(n[a]=l),u=l)}e[u]=!0}return e}function C(t){var r,o=f(null),a=i(e(t));try{for(a.s();!(r=a.n()).done;){var u=n(r.value,2),l=u[0],c=u[1];o[l]=c}}catch(s){a.e(s)}finally{a.f()}return o}function x(e,t){for(;null!==e;){var r=l(e,t);if(r){if(r.get)return A(r.get);if("function"===typeof r.value)return A(r.value)}e=u(e)}function n(e){return console.warn("fallback value for",e),null}return n}var k=c(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I=c(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),N=c(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=c(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),R=c(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),M=c(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),V=c(["#text"]),z=c(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Z=c(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),L=c(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F=c(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),U=s(/<%[\w\W]*|[\w\W]*%>/gm),B=s(/\${[\w\W]*}/gm),W=s(/^data-[\-\w.\u00B7-\uFFFF]/),G=s(/^aria-[\-\w]+$/),$=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y=s(/^(?:\w+script|data):/i),J=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),q=s(/^html$/i),K=Object.freeze({__proto__:null,MUSTACHE_EXPR:H,ERB_EXPR:U,TMPLIT_EXPR:B,DATA_ATTR:W,ARIA_ATTR:G,IS_ALLOWED_URI:$,IS_SCRIPT_OR_DATA:Y,ATTR_WHITESPACE:J,DOCTYPE_NAME:q}),X=function(){return"undefined"===typeof window?null:window},Q=function(e,t){if("object"!==typeof e||"function"!==typeof e.createPolicy)return null;var r=null,n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));var i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(o){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function ee(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X(),r=function(e){return ee(e)};if(r.version="3.0.5",r.removed=[],!t||!t.document||9!==t.document.nodeType)return r.isSupported=!1,r;var n,i=t.document,o=i.currentScript,u=t.document,l=t.DocumentFragment,s=t.HTMLTemplateElement,f=t.Node,p=t.Element,d=t.NodeFilter,b=t.NamedNodeMap,A=void 0===b?t.NamedNodeMap||t.MozNamedAttrMap:b,T=t.HTMLFormElement,H=t.DOMParser,U=t.trustedTypes,B=p.prototype,W=x(B,"cloneNode"),G=x(B,"nextSibling"),Y=x(B,"childNodes"),J=x(B,"parentNode");if("function"===typeof s){var te=u.createElement("template");te.content&&te.content.ownerDocument&&(u=te.content.ownerDocument)}var re="",ne=u,ie=ne.implementation,oe=ne.createNodeIterator,ae=ne.createDocumentFragment,ue=ne.getElementsByTagName,le=i.importNode,ce={};r.isSupported="function"===typeof e&&"function"===typeof J&&ie&&void 0!==ie.createHTMLDocument;var se,fe,pe=K.MUSTACHE_EXPR,de=K.ERB_EXPR,be=K.TMPLIT_EXPR,he=K.DATA_ATTR,ve=K.ARIA_ATTR,ye=K.IS_SCRIPT_OR_DATA,me=K.ATTR_WHITESPACE,ge=K.IS_ALLOWED_URI,we=null,Pe=E({},[].concat(a(k),a(I),a(N),a(R),a(V))),Oe=null,je=E({},[].concat(a(z),a(Z),a(L),a(F))),Se=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_e=null,Ae=null,Te=!0,Ee=!0,Ce=!1,xe=!0,ke=!1,Ie=!1,Ne=!1,De=!1,Re=!1,Me=!1,Ve=!1,ze=!0,Ze=!1,Le="user-content-",Fe=!0,He=!1,Ue={},Be=null,We=E({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ge=null,$e=E({},["audio","video","img","source","image","track"]),Ye=null,Je=E({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qe="http://www.w3.org/1998/Math/MathML",Ke="http://www.w3.org/2000/svg",Xe="http://www.w3.org/1999/xhtml",Qe=Xe,et=!1,tt=null,rt=E({},[qe,Ke,Xe],g),nt=["application/xhtml+xml","text/html"],it="text/html",ot=null,at=u.createElement("form"),ut=function(e){return e instanceof RegExp||e instanceof Function},lt=function(e){if(!ot||ot!==e){if(e&&"object"===typeof e||(e={}),e=C(e),se=se=-1===nt.indexOf(e.PARSER_MEDIA_TYPE)?it:e.PARSER_MEDIA_TYPE,fe="application/xhtml+xml"===se?g:m,we="ALLOWED_TAGS"in e?E({},e.ALLOWED_TAGS,fe):Pe,Oe="ALLOWED_ATTR"in e?E({},e.ALLOWED_ATTR,fe):je,tt="ALLOWED_NAMESPACES"in e?E({},e.ALLOWED_NAMESPACES,g):rt,Ye="ADD_URI_SAFE_ATTR"in e?E(C(Je),e.ADD_URI_SAFE_ATTR,fe):Je,Ge="ADD_DATA_URI_TAGS"in e?E(C($e),e.ADD_DATA_URI_TAGS,fe):$e,Be="FORBID_CONTENTS"in e?E({},e.FORBID_CONTENTS,fe):We,_e="FORBID_TAGS"in e?E({},e.FORBID_TAGS,fe):{},Ae="FORBID_ATTR"in e?E({},e.FORBID_ATTR,fe):{},Ue="USE_PROFILES"in e&&e.USE_PROFILES,Te=!1!==e.ALLOW_ARIA_ATTR,Ee=!1!==e.ALLOW_DATA_ATTR,Ce=e.ALLOW_UNKNOWN_PROTOCOLS||!1,xe=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,ke=e.SAFE_FOR_TEMPLATES||!1,Ie=e.WHOLE_DOCUMENT||!1,Re=e.RETURN_DOM||!1,Me=e.RETURN_DOM_FRAGMENT||!1,Ve=e.RETURN_TRUSTED_TYPE||!1,De=e.FORCE_BODY||!1,ze=!1!==e.SANITIZE_DOM,Ze=e.SANITIZE_NAMED_PROPS||!1,Fe=!1!==e.KEEP_CONTENT,He=e.IN_PLACE||!1,ge=e.ALLOWED_URI_REGEXP||$,Qe=e.NAMESPACE||Xe,Se=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Se.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Se.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Se.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ke&&(Ee=!1),Me&&(Re=!0),Ue&&(we=E({},a(V)),Oe=[],!0===Ue.html&&(E(we,k),E(Oe,z)),!0===Ue.svg&&(E(we,I),E(Oe,Z),E(Oe,F)),!0===Ue.svgFilters&&(E(we,N),E(Oe,Z),E(Oe,F)),!0===Ue.mathMl&&(E(we,R),E(Oe,L),E(Oe,F))),e.ADD_TAGS&&(we===Pe&&(we=C(we)),E(we,e.ADD_TAGS,fe)),e.ADD_ATTR&&(Oe===je&&(Oe=C(Oe)),E(Oe,e.ADD_ATTR,fe)),e.ADD_URI_SAFE_ATTR&&E(Ye,e.ADD_URI_SAFE_ATTR,fe),e.FORBID_CONTENTS&&(Be===We&&(Be=C(Be)),E(Be,e.FORBID_CONTENTS,fe)),Fe&&(we["#text"]=!0),Ie&&E(we,["html","head","body"]),we.table&&(E(we,["tbody"]),delete _e.tbody),e.TRUSTED_TYPES_POLICY){if("function"!==typeof e.TRUSTED_TYPES_POLICY.createHTML)throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!==typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');n=e.TRUSTED_TYPES_POLICY,re=n.createHTML("")}else void 0===n&&(n=Q(U,o)),null!==n&&"string"===typeof re&&(re=n.createHTML(""));c&&c(e),ot=e}},ct=E({},["mi","mo","mn","ms","mtext"]),st=E({},["foreignobject","desc","title","annotation-xml"]),ft=E({},["title","style","font","a","script"]),pt=E({},I);E(pt,N),E(pt,D);var dt=E({},R);E(dt,M);var bt=function(e){var t=J(e);t&&t.tagName||(t={namespaceURI:Qe,tagName:"template"});var r=m(e.tagName),n=m(t.tagName);return!!tt[e.namespaceURI]&&(e.namespaceURI===Ke?t.namespaceURI===Xe?"svg"===r:t.namespaceURI===qe?"svg"===r&&("annotation-xml"===n||ct[n]):Boolean(pt[r]):e.namespaceURI===qe?t.namespaceURI===Xe?"math"===r:t.namespaceURI===Ke?"math"===r&&st[n]:Boolean(dt[r]):e.namespaceURI===Xe?!(t.namespaceURI===Ke&&!st[n])&&!(t.namespaceURI===qe&&!ct[n])&&!dt[r]&&(ft[r]||!pt[r]):!("application/xhtml+xml"!==se||!tt[e.namespaceURI]))},ht=function(e){y(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},vt=function(e,t){try{y(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(n){y(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Oe[e])if(Re||Me)try{ht(t)}catch(n){}else try{t.setAttribute(e,"")}catch(n){}},yt=function(e){var t,r;if(De)e="<remove></remove>"+e;else{var i=w(e,/^[\r\n\t ]+/);r=i&&i[0]}"application/xhtml+xml"===se&&Qe===Xe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=n?n.createHTML(e):e;if(Qe===Xe)try{t=(new H).parseFromString(o,se)}catch(l){}if(!t||!t.documentElement){t=ie.createDocument(Qe,"template",null);try{t.documentElement.innerHTML=et?re:o}catch(l){}}var a=t.body||t.documentElement;return e&&r&&a.insertBefore(u.createTextNode(r),a.childNodes[0]||null),Qe===Xe?ue.call(t,Ie?"html":"body")[0]:Ie?t.documentElement:a},mt=function(e){return oe.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},gt=function(e){return e instanceof T&&("string"!==typeof e.nodeName||"string"!==typeof e.textContent||"function"!==typeof e.removeChild||!(e.attributes instanceof A)||"function"!==typeof e.removeAttribute||"function"!==typeof e.setAttribute||"string"!==typeof e.namespaceURI||"function"!==typeof e.insertBefore||"function"!==typeof e.hasChildNodes)},wt=function(e){return"object"===typeof f?e instanceof f:e&&"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName},Pt=function(e,t,n){ce[e]&&h(ce[e],(function(e){e.call(r,t,n,ot)}))},Ot=function(e){var t;if(Pt("beforeSanitizeElements",e,null),gt(e))return ht(e),!0;var n=fe(e.nodeName);if(Pt("uponSanitizeElement",e,{tagName:n,allowedTags:we}),e.hasChildNodes()&&!wt(e.firstElementChild)&&(!wt(e.content)||!wt(e.content.firstElementChild))&&S(/<[/\w]/g,e.innerHTML)&&S(/<[/\w]/g,e.textContent))return ht(e),!0;if(!we[n]||_e[n]){if(!_e[n]&&St(n)){if(Se.tagNameCheck instanceof RegExp&&S(Se.tagNameCheck,n))return!1;if(Se.tagNameCheck instanceof Function&&Se.tagNameCheck(n))return!1}if(Fe&&!Be[n]){var i=J(e)||e.parentNode,o=Y(e)||e.childNodes;if(o&&i)for(var a=o.length-1;a>=0;--a)i.insertBefore(W(o[a],!0),G(e))}return ht(e),!0}return e instanceof p&&!bt(e)?(ht(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!S(/<\/no(script|embed|frames)/i,e.innerHTML)?(ke&&3===e.nodeType&&(t=e.textContent,t=P(t,pe," "),t=P(t,de," "),t=P(t,be," "),e.textContent!==t&&(y(r.removed,{element:e.cloneNode()}),e.textContent=t)),Pt("afterSanitizeElements",e,null),!1):(ht(e),!0)},jt=function(e,t,r){if(ze&&("id"===t||"name"===t)&&(r in u||r in at))return!1;if(Ee&&!Ae[t]&&S(he,t));else if(Te&&S(ve,t));else if(!Oe[t]||Ae[t]){if(!(St(e)&&(Se.tagNameCheck instanceof RegExp&&S(Se.tagNameCheck,e)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(e))&&(Se.attributeNameCheck instanceof RegExp&&S(Se.attributeNameCheck,t)||Se.attributeNameCheck instanceof Function&&Se.attributeNameCheck(t))||"is"===t&&Se.allowCustomizedBuiltInElements&&(Se.tagNameCheck instanceof RegExp&&S(Se.tagNameCheck,r)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(r))))return!1}else if(Ye[t]);else if(S(ge,P(r,me,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==O(r,"data:")||!Ge[e])if(Ce&&!S(ye,P(r,me,"")));else if(r)return!1;return!0},St=function(e){return e.indexOf("-")>0},_t=function(e){var t,i,o,a;Pt("beforeSanitizeAttributes",e,null);var u=e.attributes;if(u){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Oe};for(a=u.length;a--;){var c=t=u[a],s=c.name,f=c.namespaceURI;if(i="value"===s?t.value:j(t.value),o=fe(s),l.attrName=o,l.attrValue=i,l.keepAttr=!0,l.forceKeepAttr=void 0,Pt("uponSanitizeAttribute",e,l),i=l.attrValue,!l.forceKeepAttr&&(vt(s,e),l.keepAttr))if(xe||!S(/\/>/i,i)){ke&&(i=P(i,pe," "),i=P(i,de," "),i=P(i,be," "));var p=fe(e.nodeName);if(jt(p,o,i)){if(!Ze||"id"!==o&&"name"!==o||(vt(s,e),i=Le+i),n&&"object"===typeof U&&"function"===typeof U.getAttributeType)if(f);else switch(U.getAttributeType(p,o)){case"TrustedHTML":i=n.createHTML(i);break;case"TrustedScriptURL":i=n.createScriptURL(i)}try{f?e.setAttributeNS(f,s,i):e.setAttribute(s,i),v(r.removed)}catch(d){}}}else vt(s,e)}Pt("afterSanitizeAttributes",e,null)}},At=function e(t){var r,n=mt(t);for(Pt("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)Pt("uponSanitizeShadowNode",r,null),Ot(r)||(r.content instanceof l&&e(r.content),_t(r));Pt("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(e){var t,o,a,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((et=!e)&&(e="\x3c!--\x3e"),"string"!==typeof e&&!wt(e)){if("function"!==typeof e.toString)throw _("toString is not a function");if("string"!==typeof(e=e.toString()))throw _("dirty is not a string, aborting")}if(!r.isSupported)return e;if(Ne||lt(c),r.removed=[],"string"===typeof e&&(He=!1),He){if(e.nodeName){var s=fe(e.nodeName);if(!we[s]||_e[s])throw _("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof f)1===(o=(t=yt("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?t=o:t.appendChild(o);else{if(!Re&&!ke&&!Ie&&-1===e.indexOf("<"))return n&&Ve?n.createHTML(e):e;if(!(t=yt(e)))return Re?null:Ve?re:""}t&&De&&ht(t.firstChild);for(var p=mt(He?e:t);a=p.nextNode();)Ot(a)||(a.content instanceof l&&At(a.content),_t(a));if(He)return e;if(Re){if(Me)for(u=ae.call(t.ownerDocument);t.firstChild;)u.appendChild(t.firstChild);else u=t;return(Oe.shadowroot||Oe.shadowrootmode)&&(u=le.call(i,u,!0)),u}var d=Ie?t.outerHTML:t.innerHTML;return Ie&&we["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&S(q,t.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+d),ke&&(d=P(d,pe," "),d=P(d,de," "),d=P(d,be," ")),n&&Ve?n.createHTML(d):d},r.setConfig=function(e){lt(e),Ne=!0},r.clearConfig=function(){ot=null,Ne=!1},r.isValidAttribute=function(e,t,r){ot||lt({});var n=fe(e),i=fe(t);return jt(n,i,r)},r.addHook=function(e,t){"function"===typeof t&&(ce[e]=ce[e]||[],y(ce[e],t))},r.removeHook=function(e){if(ce[e])return v(ce[e])},r.removeHooks=function(e){ce[e]&&(ce[e]=[])},r.removeAllHooks=function(){ce={}},r}return ee()}()},1599:function(e){"use strict";var t=/["'&<>]/;e.exports=function(e){var r,n=""+e,i=t.exec(n);if(!i)return n;var o="",a=0,u=0;for(a=i.index;a<n.length;a++){switch(n.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}u!==a&&(o+=n.substring(u,a)),u=a+1,o+=r}return u!==a?o+n.substring(u,a):o}},67188:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(33028),i=r(32723),o=r(34795),a=r(9249),u=r(87371),l=r(59706),c="undefined"!==typeof window?window:"undefined"!==typeof self?self:{fetch:void 0},s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),this.baseOverrides={},this.url=t;var n=r.fetch||c.fetch&&c.fetch.bind(c);if(!n)throw new TypeError("no fetch function supplied, and none found in global environment");r.overrides&&(this.baseOverrides=r.overrides),this.fetchImplementation=n}return(0,u.Z)(e,[{key:"getBufferFromResponse",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof t.buffer){e.next=4;break}return e.abrupt("return",t.buffer());case 4:if("function"!==typeof t.arrayBuffer){e.next=11;break}return e.next=7,t.arrayBuffer();case 7:return r=e.sent,e.abrupt("return",l.Buffer.from(r));case 11:throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetch",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,r){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchImplementation(t,r);case 3:case 12:o=e.sent,e.next=16;break;case 6:if(e.prev=6,e.t0=e.catch(0),!"".concat(e.t0).includes("Failed to fetch")){e.next=15;break}return console.warn("generic-filehandle: refetching ".concat(t," to attempt to work around chrome CORS header caching bug")),e.next=12,this.fetchImplementation(t,(0,n.Z)((0,n.Z)({},r),{},{cache:"reload"}));case 15:throw e.t0;case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var r,o,a,u,l,c,s,f,p,d,b,h,v,y,m,g=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.length>1&&void 0!==g[1]?g[1]:0,o=g.length>2?g[2]:void 0,a=g.length>3&&void 0!==g[3]?g[3]:0,l=(u=g.length>4&&void 0!==g[4]?g[4]:{}).headers,c=void 0===l?{}:l,s=u.signal,f=u.overrides,p=void 0===f?{}:f,o<1/0?c.range="bytes=".concat(a,"-").concat(a+o):o===1/0&&0!==a&&(c.range="bytes=".concat(a,"-")),d=(0,n.Z)((0,n.Z)((0,n.Z)({},this.baseOverrides),p),{},{headers:(0,n.Z)((0,n.Z)((0,n.Z)({},c),p.headers),this.baseOverrides.headers),method:"GET",redirect:"follow",mode:"cors",signal:s}),e.next=9,this.fetch(this.url,d);case 9:if((b=e.sent).ok){e.next=12;break}throw new Error("HTTP ".concat(b.status," ").concat(b.statusText," ").concat(this.url));case 12:if((200!==b.status||0!==a)&&206!==b.status){e.next=21;break}return e.next=15,this.getBufferFromResponse(b);case 15:return h=e.sent,v=h.copy(t,r,0,Math.min(o,h.length)),y=b.headers.get("content-range"),(m=/\/(\d+)$/.exec(y||""))&&m[1]&&(this._stat={size:parseInt(m[1],10)}),e.abrupt("return",{bytesRead:v,buffer:t});case 21:if(200!==b.status){e.next=23;break}throw new Error("${this.url} fetch returned status 200, expected 206");case 23:throw new Error("HTTP ".concat(b.status," fetching ").concat(this.url));case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readFile",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,r,o,a,u,l,c,s,f,p,d,b=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"===typeof(t=b.length>0&&void 0!==b[0]?b[0]:{})?(r=t,o={}):(r=t.encoding,delete(o=t).encoding),u=(a=o).headers,l=void 0===u?{}:u,c=a.signal,s=a.overrides,f=void 0===s?{}:s,p=(0,n.Z)((0,n.Z)({headers:l,method:"GET",redirect:"follow",mode:"cors",signal:c},this.baseOverrides),f),e.next=6,this.fetch(this.url,p);case 6:if(d=e.sent){e.next=9;break}throw new Error("generic-filehandle failed to fetch");case 9:if(200===d.status){e.next=11;break}throw Object.assign(new Error("HTTP ".concat(d.status," fetching ").concat(this.url)),{status:d.status});case 11:if("utf8"!==r){e.next=13;break}return e.abrupt("return",d.text());case 13:if(!r){e.next=15;break}throw new Error("unsupported encoding: ".concat(r));case 15:return e.abrupt("return",this.getBufferFromResponse(d));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stat",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return t=l.Buffer.allocUnsafe(10),e.next=4,this.read(t,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()},43586:function(e,t,r){"use strict";var n="undefined"!==typeof JSON?JSON:r(64173),i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},o=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r};e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var r=t.space||"";"number"===typeof r&&(r=Array(r+1).join(" "));var a,u="boolean"===typeof t.cycles&&t.cycles,l=t.replacer||function(e,t){return t},c=t.cmp&&(a=t.cmp,function(e){return function(t,r){var n={key:t,value:e[t]},i={key:r,value:e[r]};return a(n,i)}}),s=[];return function e(t,a,f,p){var d=r?"\n"+new Array(p+1).join(r):"",b=r?": ":":";if(f&&f.toJSON&&"function"===typeof f.toJSON&&(f=f.toJSON()),void 0!==(f=l.call(t,a,f))){if("object"!==typeof f||null===f)return n.stringify(f);if(i(f)){for(var h=[],v=0;v<f.length;v++){var y=e(f,v,f[v],p+1)||n.stringify(null);h.push(d+r+y)}return"["+h.join(",")+d+"]"}if(-1!==s.indexOf(f)){if(u)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}s.push(f);var m=o(f).sort(c&&c(f));for(h=[],v=0;v<m.length;v++){var g=e(f,a=m[v],f[a],p+1);if(g){var w=n.stringify(a)+b+g;h.push(d+r+w)}}return s.splice(s.indexOf(f),1),"{"+h.join(",")+d+"}"}}({"":e},"",e,0)}},64173:function(e,t,r){"use strict";t.parse=r(7817),t.stringify=r(40030)},7817:function(e){"use strict";var t,r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function o(e){throw{name:"SyntaxError",message:e,at:t,text:n}}function a(e){return e&&e!==r&&o("Expected '"+e+"' instead of '"+r+"'"),r=n.charAt(t),t+=1,r}function u(){var e,t="";for("-"===r&&(t="-",a("-"));r>="0"&&r<="9";)t+=r,a();if("."===r)for(t+=".";a()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,a(),"-"!==r&&"+"!==r||(t+=r,a());r>="0"&&r<="9";)t+=r,a();return e=Number(t),isFinite(e)||o("Bad number"),e}function l(){var e,t,n,u="";if('"'===r)for(;a();){if('"'===r)return a(),u;if("\\"===r)if(a(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(a(),16),isFinite(e));t+=1)n=16*n+e;u+=String.fromCharCode(n)}else{if("string"!==typeof i[r])break;u+=i[r]}else u+=r}o("Bad string")}function c(){for(;r&&r<=" ";)a()}function s(){switch(c(),r){case"{":return function(){var e,t={};if("{"===r){if(a("{"),c(),"}"===r)return a("}"),t;for(;r;){if(e=l(),c(),a(":"),Object.prototype.hasOwnProperty.call(t,e)&&o('Duplicate key "'+e+'"'),t[e]=s(),c(),"}"===r)return a("}"),t;a(","),c()}}o("Bad object")}();case"[":return function(){var e=[];if("["===r){if(a("["),c(),"]"===r)return a("]"),e;for(;r;){if(e.push(s()),c(),"]"===r)return a("]"),e;a(","),c()}}o("Bad array")}();case'"':return l();case"-":return u();default:return r>="0"&&r<="9"?u():function(){switch(r){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null;default:o("Unexpected '"+r+"'")}}()}}e.exports=function(e,i){var a;return n=e,t=0,r=" ",a=s(),c(),r&&o("Syntax error"),"function"===typeof i?function e(t,r){var n,o,a=t[r];if(a&&"object"===typeof a)for(n in s)Object.prototype.hasOwnProperty.call(a,n)&&("undefined"===typeof(o=e(a,n))?delete a[n]:a[n]=o);return i.call(t,r,a)}({"":a},""):a}},40030:function(e){"use strict";var t,r,n,i=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,(function(e){var t=o[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function u(e,i){var o,l,c,s,f,p=t,d=i[e];switch(d&&"object"===typeof d&&"function"===typeof d.toJSON&&(d=d.toJSON(e)),"function"===typeof n&&(d=n.call(i,e,d)),typeof d){case"string":return a(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(t+=r,f=[],"[object Array]"===Object.prototype.toString.apply(d)){for(s=d.length,o=0;o<s;o+=1)f[o]=u(o,d)||"null";return c=0===f.length?"[]":t?"[\n"+t+f.join(",\n"+t)+"\n"+p+"]":"["+f.join(",")+"]",t=p,c}if(n&&"object"===typeof n)for(s=n.length,o=0;o<s;o+=1)"string"===typeof(l=n[o])&&(c=u(l,d))&&f.push(a(l)+(t?": ":":")+c);else for(l in d)Object.prototype.hasOwnProperty.call(d,l)&&(c=u(l,d))&&f.push(a(l)+(t?": ":":")+c);return c=0===f.length?"{}":t?"{\n"+t+f.join(",\n"+t)+"\n"+p+"}":"{"+f.join(",")+"}",t=p,c}}e.exports=function(e,i,o){var a;if(t="",r="","number"===typeof o)for(a=0;a<o;a+=1)r+=" ";else"string"===typeof o&&(r=o);if(n=i,i&&"function"!==typeof i&&("object"!==typeof i||"number"!==typeof i.length))throw new Error("JSON.stringify");return u("",{"":e})}},70729:function(e,t,r){"use strict";r.d(t,{P:function(){return c}});var n=r(96902),i=r(58710),o=r(89511),a="function"===typeof Symbol&&Symbol.for,u=a?Symbol.for("react.forward_ref"):"function"===typeof n.forwardRef&&(0,n.forwardRef)((function(e){return null})).$$typeof,l=a?Symbol.for("react.memo"):"function"===typeof n.memo&&(0,n.memo)((function(e){return null})).$$typeof;function c(e,t){var r;if(l&&e.$$typeof===l)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if((0,i.F)())return e;var a=null!==(r=null===t||void 0===t?void 0:t.forwardRef)&&void 0!==r&&r,c=e,f=e.displayName||e.name;if(u&&e.$$typeof===u&&(a=!0,"function"!==typeof(c=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var p,d,b=function(e,t){return(0,o.S)((function(){return c(e,t)}),f)};return""!==f&&(b.displayName=f),e.contextTypes&&(b.contextTypes=e.contextTypes),a&&(b=(0,n.forwardRef)(b)),b=(0,n.memo)(b),p=e,d=b,Object.keys(p).forEach((function(e){s[e]||Object.defineProperty(d,e,Object.getOwnPropertyDescriptor(p,e))})),b}var s={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0}},63680:function(e,t,r){"use strict";r.r(t),r.d(t,{addDisposer:function(){return $},addMiddleware:function(){return ke},applyAction:function(){return Pe},applyPatch:function(){return P},applySnapshot:function(){return A},cast:function(){return X},castFlowReturn:function(){return Mt},castToReferenceSnapshot:function(){return ee},castToSnapshot:function(){return Q},clone:function(){return U},createActionTrackingMiddleware:function(){return ye},createActionTrackingMiddleware2:function(){return ge},decorate:function(){return Ie},destroy:function(){return W},detach:function(){return B},escapeJsonPath:function(){return Ft},flow:function(){return Rt},getChildType:function(){return m},getEnv:function(){return Y},getIdentifier:function(){return z},getLivelinessChecking:function(){return l},getMembers:function(){return K},getNodeId:function(){return te},getParent:function(){return C},getParentOfType:function(){return k},getPath:function(){return N},getPathParts:function(){return D},getPropertyMembers:function(){return q},getRelativePath:function(){return H},getRoot:function(){return I},getRunningActionContext:function(){return De},getSnapshot:function(){return T},getType:function(){return y},hasParent:function(){return E},hasParentOfType:function(){return x},isActionContextChildOf:function(){return Me},isActionContextThisOrChildOf:function(){return Ve},isAlive:function(){return G},isArrayType:function(){return nr},isFrozenType:function(){return Lr},isIdentifierType:function(){return Qr},isLateType:function(){return Vr},isLiteralType:function(){return jr},isMapType:function(){return Xt},isModelType:function(){return sr},isOptionalType:function(){return Ir},isPrimitiveType:function(){return wr},isProtected:function(){return _},isReferenceType:function(){return $r},isRefinementType:function(){return _r},isRoot:function(){return R},isStateTreeNode:function(){return Ke},isType:function(){return be},isUnionType:function(){return Er},isValidReference:function(){return L},joinJsonPath:function(){return Ut},onAction:function(){return je},onPatch:function(){return g},onSnapshot:function(){return w},process:function(){return lt},protect:function(){return j},recordActions:function(){return Oe},recordPatches:function(){return O},resolveIdentifier:function(){return V},resolvePath:function(){return M},setLivelinessChecking:function(){return u},setLivelynessChecking:function(){return c},splitJsonPath:function(){return Bt},toGenerator:function(){return zt},toGeneratorFunction:function(){return Vt},tryReference:function(){return Z},tryResolve:function(){return F},typecheck:function(){return We},types:function(){return nn},unescapeJsonPath:function(){return Ht},unprotect:function(){return S},walk:function(){return J}});var n,i=r(75717),o=r(80341),a="warn";function u(e){a=e}function l(){return a}function c(e){u(e)}!function(e){e.afterCreate="afterCreate",e.afterAttach="afterAttach",e.afterCreationFinalization="afterCreationFinalization",e.beforeDetach="beforeDetach",e.beforeDestroy="beforeDestroy"}(n||(n={}));var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},s(e,t)};function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var p=function(){return p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)};function d(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(u){o=[6,u],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function b(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(u){i={error:u}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function y(e){return Xe(e,1),Qe(e).type}function m(e,t){return Xe(e,1),Qe(e).getChildType(t)}function g(e,t){return Xe(e,1),kt(t,2),Qe(e).onPatch(t)}function w(e,t){return Xe(e,1),kt(t,2),Qe(e).onSnapshot(t)}function P(e,t){Xe(e,1),xt(t,(function(e){return"object"===typeof e}),"object or array",2),Qe(e).applyPatches(yt(t))}function O(e,t){Xe(e,1);var r,n={patches:[],reversedInversePatches:[]},i={},o={get recording(){return!!r},get patches(){return i.patches||(i.patches=n.patches.slice()),i.patches},get reversedInversePatches(){return i.reversedInversePatches||(i.reversedInversePatches=n.reversedInversePatches.slice()),i.reversedInversePatches},get inversePatches(){return i.inversePatches||(i.inversePatches=n.reversedInversePatches.slice().reverse()),i.inversePatches},stop:function(){r&&(r(),r=void 0)},resume:function(){r||(r=g(e,(function(e,r){t&&!t(e,r,De())||(n.patches.push(e),n.reversedInversePatches.unshift(r),i.patches=void 0,i.inversePatches=void 0,i.reversedInversePatches=void 0)})))},replay:function(t){P(t||e,n.patches)},undo:function(t){P(t||e,n.reversedInversePatches)}};return o.resume(),o}function j(e){Xe(e,1);var t=Qe(e);if(!t.isRoot)throw dt("`protect` can only be invoked on root nodes");t.isProtectionEnabled=!0}function S(e){Xe(e,1);var t=Qe(e);if(!t.isRoot)throw dt("`unprotect` can only be invoked on root nodes");t.isProtectionEnabled=!1}function _(e){return Qe(e).isProtected}function A(e,t){return Xe(e,1),Qe(e).applySnapshot(t)}function T(e,t){void 0===t&&(t=!0),Xe(e,1);var r=Qe(e);return t?r.snapshot:Pt(r.type.getSnapshot(r,!1))}function E(e,t){void 0===t&&(t=1),Xe(e,1),It(t,2,0);for(var r=Qe(e).parent;r;){if(0===--t)return!0;r=r.parent}return!1}function C(e,t){void 0===t&&(t=1),Xe(e,1),It(t,2,0);for(var r=t,n=Qe(e).parent;n;){if(0===--r)return n.storedValue;n=n.parent}throw dt("Failed to find the parent of "+Qe(e)+" at depth "+t)}function x(e,t){Xe(e,1),he(t,2);for(var r=Qe(e).parent;r;){if(t.is(r.storedValue))return!0;r=r.parent}return!1}function k(e,t){Xe(e,1),he(t,2);for(var r=Qe(e).parent;r;){if(t.is(r.storedValue))return r.storedValue;r=r.parent}throw dt("Failed to find the parent of "+Qe(e)+" of a given type")}function I(e){return Xe(e,1),Qe(e).root.storedValue}function N(e){return Xe(e,1),Qe(e).path}function D(e){return Xe(e,1),Bt(Qe(e).path)}function R(e){return Xe(e,1),Qe(e).isRoot}function M(e,t){Xe(e,1),Nt(t,2);var r=it(Qe(e),t);return r?r.value:void 0}function V(e,t,r){he(e,1),Xe(t,2),xt(r,tn,"string or number (identifier)",3);var n=Qe(t).root.identifierCache.resolve(e,en(r));return null===n||void 0===n?void 0:n.value}function z(e){return Xe(e,1),Qe(e).identifier}function Z(e,t){void 0===t&&(t=!0);try{var r=e();if(void 0===r||null===r)return;if(Ke(r))return t?G(r)?r:void 0:r;throw dt("The reference to be checked is not one of node, null or undefined")}catch(n){if(n instanceof Hr)return;throw n}}function L(e,t){void 0===t&&(t=!0);try{var r=e();if(void 0===r||null===r)return!1;if(Ke(r))return!t||G(r);throw dt("The reference to be checked is not one of node, null or undefined")}catch(n){if(n instanceof Hr)return!1;throw n}}function F(e,t){Xe(e,1),Nt(t,2);var r=it(Qe(e),t,!1);if(void 0!==r)try{return r.value}catch(n){return}}function H(e,t){return Xe(e,1),Xe(t,2),nt(Qe(e),Qe(t))}function U(e,t){void 0===t&&(t=!0),Xe(e,1);var r=Qe(e);return r.type.create(r.snapshot,!0===t?r.root.environment:!1===t?void 0:t)}function B(e){return Xe(e,1),Qe(e).detach(),e}function W(e){Xe(e,1);var t=Qe(e);t.isRoot?t.die():t.parent.removeChild(t.subpath)}function G(e){return Xe(e,1),Qe(e).observableIsAlive}function $(e,t){return Xe(e,1),kt(t,2),Qe(e).addDisposer(t),t}function Y(e){Xe(e,1);var t=Qe(e).root.environment;return t||ft}function J(e,t){Xe(e,1),kt(t,2);var r=Qe(e);r.getChildren().forEach((function(e){Ke(e.storedValue)&&J(e.storedValue,t)})),t(r.storedValue)}function q(e){var t;return xt(t=Ke(e)?y(e):e,(function(e){return sr(e)}),"model type or model instance",1),{name:t.name,properties:p({},t.properties)}}function K(e){var t=Qe(e).type,r=p(p({},q(t)),{actions:[],volatile:[],views:[]});return Object.getOwnPropertyNames(e).forEach((function(t){if(!(t in r.properties)){var n=Object.getOwnPropertyDescriptor(e,t);n.get?(0,i.isComputedProp)(e,t)?r.views.push(t):r.volatile.push(t):!0===n.value._isMSTAction?r.actions.push(t):(0,i.isObservableProp)(e,t)?r.volatile.push(t):r.views.push(t)}})),r}function X(e){return e}function Q(e){return e}function ee(e){return e}function te(e){return Xe(e,1),Qe(e).nodeId}var re=function(){function e(e,t,r,n){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"_escapedSubpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storedValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aliveAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_state",{enumerable:!0,configurable:!0,writable:!0,value:Ge.INITIALIZING}),Object.defineProperty(this,"_hookSubscribers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.environment=n,this.baseSetParent(t,r)}return Object.defineProperty(e.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){var t=this.isAlive;this._state=e;var r=this.isAlive;this.aliveAtom&&t!==r&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fireInternalHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._hookSubscribers&&this._hookSubscribers.emit(e,this,e)}}),Object.defineProperty(e.prototype,"registerHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._hookSubscribers||(this._hookSubscribers=new _t),this._hookSubscribers.register(e,t)}}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getReconciliationType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type}}),Object.defineProperty(e.prototype,"baseSetParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._parent=e,this._subpath=t,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()}}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getEscapedPath",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e&&(this.pathAtom||(this.pathAtom=(0,i.createAtom)("path")),this.pathAtom.reportObserved()),this.parent?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?Ft(this._subpath):""),this.parent.getEscapedPath(e)+"/"+this._escapedSubpath):""}}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.state!==Ge.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDetaching",{get:function(){return this.state===Ge.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=(0,i.createAtom)("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseFinalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.state===Ge.CREATED){if(this.parent){if(this.parent.state!==Ge.FINALIZED)return;this.fireHook(n.afterAttach)}this.state=Ge.FINALIZED,e&&e()}}}),Object.defineProperty(e.prototype,"baseFinalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=Ge.DEAD}}),Object.defineProperty(e.prototype,"baseAboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fireHook(n.beforeDestroy)}}),e}(),ne=function(e){function t(t,r,n,i,o){var a=e.call(this,t,r,n,i)||this;try{a.storedValue=t.createNewInstance(o)}catch(u){throw a.state=Ge.DEAD,u}return a.state=Ge.CREATED,a.finalizeCreation(),a}return f(t,e),Object.defineProperty(t.prototype,"root",{get:function(){if(!this.parent)throw dt("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.parent!==e,n=this.subpath!==t;(r||n)&&(this.environment=void 0,this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return Pt(this.getSnapshot())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+e+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==Ge.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeCreation()}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseAboutToDie()}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.fireInternalHook(e)}}),t}(re);ne.prototype.die=(0,i.action)(ne.prototype.die);var ie,oe,ae=1,ue={onError:function(e){throw e}},le=function(e){function t(t,r,n,o,a){var u=e.call(this,t,r,n,o)||this;if(Object.defineProperty(u,"nodeId",{enumerable:!0,configurable:!0,writable:!0,value:++ae}),Object.defineProperty(u,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"unnormalizedIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"identifierCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"isProtectionEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(u,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_applyPatches",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_applySnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_autoUnbox",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(u,"_isRunningAction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u,"_hasSnapshotReaction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u,"_observableInstanceState",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(u,"_childNodes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_initialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_cachedInitialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_cachedInitialSnapshotCreated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(u,"_snapshotComputed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_snapshotUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_internalEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),u._snapshotComputed=(0,i.computed)((function(){return Pt(u.getSnapshot())})),u.unbox=u.unbox.bind(u),u._initialSnapshot=Pt(a),u.identifierAttribute=t.identifierAttribute,r||(u.identifierCache=new Ye),u._childNodes=t.initializeChildNodes(u,u._initialSnapshot),u.identifier=null,u.unnormalizedIdentifier=null,u.identifierAttribute&&u._initialSnapshot){var l=u._initialSnapshot[u.identifierAttribute];if(void 0===l){var c=u._childNodes[u.identifierAttribute];c&&(l=c.value)}if("string"!==typeof l&&"number"!==typeof l)throw dt("Instance identifier '"+u.identifierAttribute+"' for type '"+u.type.name+"' must be a string or a number");u.identifier=en(l),u.unnormalizedIdentifier=l}return r?r.root.identifierCache.addNodeToCache(u):u.identifierCache.addNodeToCache(u),u}return f(t,e),Object.defineProperty(t.prototype,"applyPatches",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)}}),Object.defineProperty(t.prototype,"createObservableInstanceIfNeeded",{enumerable:!1,configurable:!0,writable:!0,value:function(){0===this._observableInstanceState&&this.createObservableInstance()}}),Object.defineProperty(t.prototype,"createObservableInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;this._observableInstanceState=1;for(var r=[],i=this.parent;i&&0===i._observableInstanceState;)r.unshift(i),i=i.parent;try{for(var o=b(r),a=o.next();!a.done;a=o.next()){a.value.createObservableInstanceIfNeeded()}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}var u=this.type;try{this.storedValue=u.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,u.finalizeNewInstance(this,this.storedValue)}catch(c){throw this.state=Ge.DEAD,c}finally{this._isRunningAction=!1}this._observableInstanceState=2,this._snapshotComputed.trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=ft,this.state=Ge.CREATED,this.fireHook(n.afterCreate),this.finalizeCreation()}}),Object.defineProperty(t.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearParent",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.parent){this.fireHook(n.beforeDetach);var e=this.state;this.state=Ge.DETACHING;var t=this.root,r=t.environment,i=t.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=r,this.identifierCache=i}finally{this.state=e}}}}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=e!==this.parent,i=t!==this.subpath;(r||i)&&(r?(this.environment=void 0,e.root.identifierCache.mergeCache(this),this.baseSetParent(e,t),this.fireHook(n.afterAttach)):i&&this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.fireInternalHook(e);var r=this.storedValue&&"object"===typeof this.storedValue&&this.storedValue[e];"function"===typeof r&&(i._allowStateChangesInsideComputed?(0,i._allowStateChangesInsideComputed)((function(){r.apply(t.storedValue)})):r.apply(this.storedValue))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshotComputed.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath}}),Object.defineProperty(t.prototype,"_getActualSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"_getCachedInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._cachedInitialSnapshotCreated){var e=this.type,t=this._childNodes,r=this._initialSnapshot;this._cachedInitialSnapshot=e.processInitialSnapshot(t,r),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot}}),Object.defineProperty(t.prototype,"isRunningAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()}}),Object.defineProperty(t.prototype,"assertAlive",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=l();if(!this.isAlive&&"ignore"!==t){var r=this._getAssertAliveError(e);switch(t){case"error":throw dt(r);case"warn":Ct(r)}}}}),Object.defineProperty(t.prototype,"_getAssertAliveError",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getEscapedPath(!1)||this.pathUponDeath||"",r=e.subpath&&Ft(e.subpath)||"",n=e.actionContext||Ae();n&&"action"!==n.type&&n.parentActionEvent&&(n=n.parentActionEvent);var i="";n&&null!=n.name&&(i=(n&&n.context&&N(n.context)||t)+"."+n.name+"()");return"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+t+"', Subpath: '"+r+"', Action: '"+i+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertAlive({subpath:e}),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertAlive(ft),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):at(this._childNodes)}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.type.getChildType(e)}}),Object.defineProperty(t.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"assertWritable",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.assertAlive(e),!this.isRunningAction()&&this.isProtected)throw dt("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.type.removeChild(this,e)}}),Object.defineProperty(t.prototype,"unbox",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e?(this.assertAlive({subpath:e.subpath||e.subpathUponDeath}),this._autoUnbox?e.value:e):e}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>",t=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+e+t+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.baseFinalizeCreation((function(){var t,r;try{for(var i=b(e.getChildren()),o=i.next();!o.done;o=i.next()){o.value.finalizeCreation()}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.fireInternalHook(n.afterCreationFinalization)}))}}),Object.defineProperty(t.prototype,"detach",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isAlive)throw dt("Error while detaching, node is not alive.");this.clearParent()}}),Object.defineProperty(t.prototype,"preboot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._applyPatches=xe(this.storedValue,"@APPLY_PATCHES",(function(t){t.forEach((function(t){if(t.path){var r=Bt(t.path);ot(e,r.slice(0,-1)).applyPatchLocally(r[r.length-1],t)}else e.type.applySnapshot(e,t.value)}))})),this._applySnapshot=xe(this.storedValue,"@APPLY_SNAPSHOT",(function(t){if(t!==e.snapshot)return e.type.applySnapshot(e,t)})),jt(this.storedValue,"$treenode",this),jt(this.storedValue,"toJSON",tt)}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==Ge.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){0!==this._observableInstanceState&&(this.getChildren().forEach((function(e){e.aboutToDie()})),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getChildren().forEach((function(e){e.finalizeDeath()})),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEventsClearAll(),this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"onSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",e)}}),Object.defineProperty(t.prototype,"emitSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEventsEmit("snapshot",e)}}),Object.defineProperty(t.prototype,"onPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsRegister("patch",e)}}),Object.defineProperty(t.prototype,"emitPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._internalEventsHasSubscribers("patch")){var r=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n++){var i=t[n];for(var o in i)e[o]=i[o]}return e}({},e,{path:t.path.substr(this.path.length)+"/"+e.path}),n=h(function(e){if(!("oldValue"in e))throw dt("Patches without `oldValue` field cannot be inversed");return[Zt(e),Lt(e)]}(r),2),i=n[0],o=n[1];this._internalEventsEmit("patch",i,o)}this.parent&&this.parent.emitPatch(e,t)}}),Object.defineProperty(t.prototype,"hasDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsHas("dispose",e)}}),Object.defineProperty(t.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.hasDisposer(e))throw dt("cannot add a disposer when it is already registered for execution");this._internalEventsRegister("dispose",e,!0)}}),Object.defineProperty(t.prototype,"removeDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._internalEventsHas("dispose",e))throw dt("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",e)}}),Object.defineProperty(t.prototype,"removeMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.middlewares){var t=this.middlewares.indexOf(e);t>=0&&this.middlewares.splice(t,1)}}}),Object.defineProperty(t.prototype,"addMiddleWare",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;void 0===t&&(t=!0);var n={handler:e,includeHooks:t};return this.middlewares?this.middlewares.push(n):this.middlewares=[n],function(){r.removeMiddleware(n)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.assertWritable({subpath:e}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,t)}}),Object.defineProperty(t.prototype,"_addSnapshotReaction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(!this._hasSnapshotReaction){var t=(0,i.reaction)((function(){return e.snapshot}),(function(t){return e.emitSnapshot(t)}),ue);this.addDisposer(t),this._hasSnapshotReaction=!0}}}),Object.defineProperty(t.prototype,"_internalEventsHasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this._internalEvents&&this._internalEvents.hasSubscribers(e)}}),Object.defineProperty(t.prototype,"_internalEventsRegister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){return void 0===r&&(r=!1),this._internalEvents||(this._internalEvents=new _t),this._internalEvents.register(e,t,r)}}),Object.defineProperty(t.prototype,"_internalEventsHas",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!!this._internalEvents&&this._internalEvents.has(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsUnregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._internalEvents&&this._internalEvents.unregister(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsEmit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this._internalEvents&&(t=this._internalEvents).emit.apply(t,v([e],r))}}),Object.defineProperty(t.prototype,"_internalEventsClear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEvents&&this._internalEvents.clear(e)}}),Object.defineProperty(t.prototype,"_internalEventsClearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._internalEvents&&this._internalEvents.clearAll()}}),t}(re);le.prototype.createObservableInstance=(0,i.action)(le.prototype.createObservableInstance),le.prototype.detach=(0,i.action)(le.prototype.detach),le.prototype.die=(0,i.action)(le.prototype.die),function(e){e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=4]="Boolean",e[e.Date=8]="Date",e[e.Literal=16]="Literal",e[e.Array=32]="Array",e[e.Map=64]="Map",e[e.Object=128]="Object",e[e.Frozen=256]="Frozen",e[e.Optional=512]="Optional",e[e.Reference=1024]="Reference",e[e.Identifier=2048]="Identifier",e[e.Late=4096]="Late",e[e.Refinement=8192]="Refinement",e[e.Union=16384]="Union",e[e.Null=32768]="Null",e[e.Undefined=65536]="Undefined",e[e.Integer=131072]="Integer",e[e.Custom=262144]="Custom",e[e.SnapshotProcessor=524288]="SnapshotProcessor"}(oe||(oe={}));var ce="cannotDetermine",se=Symbol("$type"),fe=function(){function e(e){Object.defineProperty(this,ie,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"C",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"S",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"N",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e}return Object.defineProperty(e.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Be(this,e),this.instantiate(null,"",t,e).value}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw dt("unimplemented method")}}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e===this}}),Object.defineProperty(e.prototype,"validate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(et(e)){var r=y(e);return this.isAssignableFrom(r)?Fe():He(t,e)}return this.isValidSnapshot(e,t)}}),Object.defineProperty(e.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return 0===this.validate(e,[{path:"",type:this}]).length}}),Object.defineProperty(e.prototype,"Type",{get:function(){throw dt("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TypeWithoutSTN",{get:function(){throw dt("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SnapshotType",{get:function(){throw dt("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CreationType",{get:function(){throw dt("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),e}();ie=se,fe.prototype.create=(0,i.action)(fe.prototype.create);var pe=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r}return f(t,e),Object.defineProperty(t.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r){return void 0===t&&(t=this.getDefaultSnapshot()),e.prototype.create.call(this,t,r)}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.createObservableInstanceIfNeeded(),e.storedValue}}),Object.defineProperty(t.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!e.identifierAttribute||e.identifier===en(t[e.identifierAttribute])}}),Object.defineProperty(t.prototype,"tryToReconcileNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!e.isDetaching&&(e.snapshot===t||(!(!Ke(t)||Qe(t)!==e)||!(e.type!==this||!gt(t)||Ke(t)||!this.isMatchingSnapshotId(e,t))&&(e.applySnapshot(t),!0)))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(this.tryToReconcileNode(e,t))return e.setParent(r,n),e;if(e.die(),Ke(t)&&this.isAssignableFrom(y(t))){var i=Qe(t);return i.setParent(r,n),i}return this.instantiate(r,n,void 0,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(fe);pe.prototype.create=(0,i.action)(pe.prototype.create);var de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!e.isDetaching&&e.type===this&&e.storedValue===t)return e;var i=this.instantiate(r,n,void 0,t);return e.die(),i}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(fe);function be(e){return"object"===typeof e&&e&&!0===e.isType}function he(e,t){xt(e,be,"mobx-state-tree type",t)}var ve=new Map;function ye(e){return function(t,r,n){switch(t.type){case"action":if(e.filter&&!0!==e.filter(t))return r(t);var i=e.onStart(t);e.onResume(t,i),ve.set(t.id,{call:t,context:i,async:!1});try{var o=r(t);return e.onSuspend(t,i),!1===ve.get(t.id).async&&(ve.delete(t.id),e.onSuccess(t,i,o)),o}catch(u){throw ve.delete(t.id),e.onFail(t,i,u),u}case"flow_spawn":return(a=ve.get(t.rootId)).async=!0,r(t);case"flow_resume":case"flow_resume_error":var a=ve.get(t.rootId);e.onResume(t,a.context);try{return r(t)}finally{e.onSuspend(t,a.context)}case"flow_throw":a=ve.get(t.rootId);return ve.delete(t.rootId),e.onFail(t,a.context,t.args[0]),r(t);case"flow_return":a=ve.get(t.rootId);return ve.delete(t.rootId),e.onSuccess(t,a.context,t.args[0]),r(t)}}}var me=function(){function e(e,t){Object.defineProperty(this,"hooks",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"call",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"flowsPending",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"running",{enumerable:!0,configurable:!0,writable:!0,value:!0}),e&&e.onStart(t)}return Object.defineProperty(e.prototype,"finish",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,e))}}),Object.defineProperty(e.prototype,"incFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending++}}),Object.defineProperty(e.prototype,"decFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending--}}),Object.defineProperty(e.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!1,configurable:!0}),e}();function ge(e){var t=new WeakMap;return function(r,n){var i=r.parentActionEvent?t.get(r.parentActionEvent):void 0;if("action"===r.type){var o=p(p({},r),{env:i&&i.call.env,parentCall:i&&i.call}),a=!e.filter||e.filter(o),u=new me(a?e:void 0,o);t.set(r,u);var l=void 0;try{l=n(r)}catch(s){throw u.finish(s),s}return u.hasFlowsPending||u.finish(),l}if(!i)return n(r);switch(r.type){case"flow_spawn":return i.incFlowsPending(),n(r);case"flow_resume":case"flow_resume_error":return n(r);case"flow_throw":var c=r.args[0];try{return n(r)}finally{i.decFlowsPending(),i.hasFlowsPending||i.finish(c)}case"flow_return":try{return n(r)}finally{i.decFlowsPending(),i.hasFlowsPending||i.finish()}}}}function we(e){return{$MST_UNSERIALIZABLE:!0,type:e}}function Pe(e,t){Xe(e,1),xt(t,(function(e){return"object"===typeof e}),"object or array",2),(0,i.runInAction)((function(){yt(t).forEach((function(t){return function(e,t){var r=F(e,t.path||"");if(!r)throw dt("Invalid action path: "+(t.path||""));var n=Qe(r);if("@APPLY_PATCHES"===t.name)return P.call(null,r,t.args[0]);if("@APPLY_SNAPSHOT"===t.name)return A.call(null,r,t.args[0]);if("function"!==typeof r[t.name])throw dt("Action '"+t.name+"' does not exist in '"+n.path+"'");return r[t.name].apply(r,t.args?t.args.map((function(e){return(t=e)&&"object"===typeof t&&"$MST_DATE"in t?new Date(t.$MST_DATE):t;var t})):[])}(e,t)}))}))}function Oe(e,t){Xe(e,1);var r,n=[],i=function(e){(!t||t(e,De()))&&n.push(e)},o={actions:n,get recording(){return!!r},stop:function(){r&&(r(),r=void 0)},resume:function(){r||(r=je(e,i))},replay:function(e){Pe(e,n)}};return o.resume(),o}function je(e,t,r){return void 0===r&&(r=!1),Xe(e,1),ke(e,(function(n,i){if("action"===n.type&&n.id===n.rootId){var o=Qe(n.context),a={name:n.name,path:nt(Qe(e),o),args:n.args.map((function(e,t){return function(e,t,r,n){if(n instanceof Date)return{$MST_DATE:n.getTime()};if(wt(n))return n;if(Ke(n))return we("[MSTNode: "+y(n).name+"]");if("function"===typeof n)return we("[function]");if("object"===typeof n&&!mt(n)&&!vt(n))return we("[object "+(n&&n.constructor&&n.constructor.name||"Complex Object")+"]");try{return JSON.stringify(n),n}catch(i){return we(""+i)}}(0,n.name,0,e)}))};if(r){var u=i(n);return t(a),u}return t(a),i(n)}return i(n)}))}var Se,_e=1;function Ae(){return Se}function Te(){return _e++}function Ee(e,t){var r=Qe(e.context);"action"===e.type&&r.assertAlive({actionContext:e});var o=r._isRunningAction;r._isRunningAction=!0;var a=Se;Se=e;try{return function(e,t,r){var o=new Ne(e,r);if(o.isEmpty)return(0,i.action)(r).apply(null,t.args);var a=null;function u(e){var t=o.getNextMiddleware(),l=t&&t.handler;if(!l)return(0,i.action)(r).apply(null,e.args);if(!t.includeHooks&&n[e.name])return u(e);function c(e,t){!0,a=u(e),t&&(a=t(a))}function s(e){!0,a=e}return l(e,c,s),a}return u(t)}(r,e,t)}finally{Se=a,r._isRunningAction=o}}function Ce(e){if(e)return"action"===e.type?e:e.parentActionEvent}function xe(e,t,r){var n=function(){var n=Te(),i=Se,o=Ce(i);return Ee({type:"action",name:t,id:n,args:At(arguments),context:e,tree:I(e),rootId:i?i.rootId:n,parentId:i?i.id:0,allParentIds:i?v(i.allParentIds,[i.id]):[],parentEvent:i,parentActionEvent:o},r)};return n._isMSTAction=!0,n}function ke(e,t,r){void 0===r&&(r=!0);var n=Qe(e);return n.addMiddleWare(t,r)}function Ie(e,t,r){void 0===r&&(r=!0);var n={handler:e,includeHooks:r};return t.$mst_middleware=t.$mst_middleware||[],t.$mst_middleware.push(n),t}var Ne=function(){function e(e,t){Object.defineProperty(this,"arrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"inArrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:[]}),t.$mst_middleware&&this.middlewares.push(t.$mst_middleware);for(var r=e;r;)r.middlewares&&this.middlewares.push(r.middlewares),r=r.parent}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getNextMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.middlewares[this.arrayIndex];if(e){var t=e[this.inArrayIndex++];return t||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}}}),e}();function De(){for(var e=Ae();e&&"action"!==e.type;)e=e.parentActionEvent;return e}function Re(e,t,r){for(var n="number"===typeof t?t:t.id,i=r?e:e.parentActionEvent;i;){if(i.id===n)return!0;i=i.parentActionEvent}return!1}function Me(e,t){return Re(e,t,!1)}function Ve(e,t){return Re(e,t,!0)}function ze(e){return"function"===typeof e?"<function"+(e.name?" "+e.name:"")+">":Ke(e)?"<"+e+">":"`"+function(e){try{return JSON.stringify(e)}catch(t){return"<Unserializable: "+t+">"}}(e)+"`"}function Ze(e){var t=e.value,r=e.context[e.context.length-1].type,n=e.context.map((function(e){return e.path})).filter((function(e){return e.length>0})).join("/"),i=n.length>0?'at path "/'+n+'" ':"",o=Ke(t)?"value of type "+Qe(t).type.name+":":wt(t)?"value":"snapshot",a=r&&Ke(t)&&r.is(Qe(t).snapshot);return""+i+o+" "+ze(t)+" is not assignable "+(r?"to type: `"+r.name+"`":"")+(e.message?" ("+e.message+")":"")+(r?wr(r)||wt(t)?".":", expected an instance of `"+r.name+"` or a snapshot like `"+r.describe()+"` instead."+(a?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function Le(e,t,r){return e.concat([{path:t,type:r}])}function Fe(){return st}function He(e,t,r){return[{context:e,value:t,message:r}]}function Ue(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function Be(e,t){"undefined"!==typeof o&&1&&We(e,t)}function We(e,t){var r=e.validate(t,[{path:"",type:e}]);if(r.length>0)throw dt(function(e,t,r){if(0===r.length)return;return"Error while converting "+(n=ze(t),(n.length<280?n:n.substring(0,272)+"......"+n.substring(n.length-8))+" to `")+e.name+"`:\n\n    "+r.map(Ze).join("\n    ");var n}(e,t,r))}var Ge,$e=0,Ye=function(){function e(){Object.defineProperty(this,"cacheId",{enumerable:!0,configurable:!0,writable:!0,value:$e++}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:i.observable.map()}),Object.defineProperty(this,"lastCacheModificationPerId",{enumerable:!0,configurable:!0,writable:!0,value:i.observable.map()})}return Object.defineProperty(e.prototype,"updateLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,void 0===t?1:t+1)}}),Object.defineProperty(e.prototype,"getLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e)||0;return this.cacheId+"-"+t}}),Object.defineProperty(e.prototype,"addNodeToCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(void 0===t&&(t=!0),e.identifierAttribute){var r=e.identifier;this.cache.has(r)||this.cache.set(r,i.observable.array([],pt));var n=this.cache.get(r);if(-1!==n.indexOf(e))throw dt("Already registered");n.push(e),t&&this.updateLastCacheModificationPerId(r)}}}),Object.defineProperty(e.prototype,"mergeCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;(0,i.values)(e.identifierCache.cache).forEach((function(e){return e.forEach((function(e){t.addNodeToCache(e)}))}))}}),Object.defineProperty(e.prototype,"notifyDied",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.identifierAttribute){var t=e.identifier,r=this.cache.get(t);r&&(r.remove(e),r.length||this.cache.delete(t),this.updateLastCacheModificationPerId(e.identifier))}}}),Object.defineProperty(e.prototype,"splitCache",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var r=this,n=new e,o=t.path;return(0,i.entries)(this.cache).forEach((function(e){for(var t=h(e,2),i=t[0],a=t[1],u=!1,l=a.length-1;l>=0;l--)0===a[l].path.indexOf(o)&&(n.addNodeToCache(a[l],!1),a.splice(l,1),u=!0);u&&r.updateLastCacheModificationPerId(i)})),n}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.cache.get(t);return!!r&&r.some((function(t){return e.isAssignableFrom(t.type)}))}}),Object.defineProperty(e.prototype,"resolve",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.cache.get(t);if(!r)return null;var n=r.filter((function(t){return e.isAssignableFrom(t.type)}));switch(n.length){case 0:return null;case 1:return n[0];default:throw dt("Cannot resolve a reference to type '"+e.name+"' with id: '"+t+"' unambigously, there are multiple candidates: "+n.map((function(e){return e.path})).join(", "))}}}),e}();function Je(e,t,r,n,i){var o=et(i);if(o){if(o.parent)throw dt("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+r+"', but it lives already at '"+o.path+"'");return t&&o.setParent(t,r),o}return new le(e,t,r,n,i)}function qe(e,t,r,n,i){return new ne(e,t,r,n,i)}function Ke(e){return!(!e||!e.$treenode)}function Xe(e,t){xt(e,Ke,"mobx-state-tree node",t)}function Qe(e){if(!Ke(e))throw dt("Value "+e+" is no MST Node");return e.$treenode}function et(e){return e&&e.$treenode||null}function tt(){return Qe(this).snapshot}!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CREATED=1]="CREATED",e[e.FINALIZED=2]="FINALIZED",e[e.DETACHING=3]="DETACHING",e[e.DEAD=4]="DEAD"}(Ge||(Ge={}));var rt=function(e){return".."};function nt(e,t){if(e.root!==t.root)throw dt("Cannot calculate relative path: objects '"+e+"' and '"+t+"' are not part of the same object tree");for(var r=Bt(e.path),n=Bt(t.path),i=0;i<r.length&&r[i]===n[i];i++);return r.slice(i).map(rt).join("/")+Ut(n.slice(i))}function it(e,t,r){return void 0===r&&(r=!0),ot(e,Bt(t),r)}function ot(e,t,r){void 0===r&&(r=!0);for(var n=e,i=0;i<t.length;i++){var o=t[i];if(".."===o){if(n=n.parent)continue}else{if("."===o)continue;if(n){if(n instanceof ne)try{var a=n.value;Ke(a)&&(n=Qe(a))}catch(u){if(!r)return;throw u}if(n instanceof le)if(n.getChildType(o)&&(n=n.getChildNode(o)))continue}}if(r)throw dt("Could not resolve '"+o+"' in path '"+(Ut(t.slice(0,i))||"/")+"' while resolving '"+Ut(t)+"'");return}return n}function at(e){if(!e)return st;var t=Object.keys(e);if(!t.length)return st;var r=new Array(t.length);return t.forEach((function(t,n){r[n]=e[t]})),r}var ut="See https://github.com/mobxjs/mobx-state-tree/issues/399 for more information. Note that the middleware event types starting with `process` now start with `flow`.";function lt(e){return Et("process","`process()` has been renamed to `flow()`. "+ut),Rt(e)}var ct=Object.toString(),st=Object.freeze([]),ft=Object.freeze({}),pt=(0,i._getGlobalState)().useProxies?{deep:!1}:{deep:!1,proxy:!1};function dt(e){return void 0===e&&(e="Illegal state"),new Error("[mobx-state-tree] "+e)}function bt(e){return e}Object.freeze(pt);var ht=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function vt(e){return Array.isArray(e)||(0,i.isObservableArray)(e)}function yt(e){return e?vt(e)?e:[e]:st}function mt(e){var t;if(null===e||"object"!==typeof e)return!1;var r=Object.getPrototypeOf(e);return null==r||(null===(t=r.constructor)||void 0===t?void 0:t.toString())===ct}function gt(e){return null!==e&&"object"===typeof e&&!(e instanceof Date)&&!(e instanceof RegExp)}function wt(e,t){return void 0===t&&(t=!0),null===e||void 0===e||"string"===typeof e||"number"===typeof e||"boolean"===typeof e||t&&e instanceof Date}function Pt(e){return e}function Ot(e,t,r){(0,i.isObservableObject)(e)?(0,i.defineProperty)(e,t,r):Object.defineProperty(e,t,r)}function jt(e,t,r){Ot(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}var St=function(){function e(){Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return void 0===t&&(t=!1),t?this.handlers.unshift(e):this.handlers.push(e),function(){r.unregister(e)}}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.handlers.indexOf(e)>=0}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.handlers.indexOf(e);t>=0&&this.handlers.splice(t,1)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handlers.length=0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handlers.slice().forEach((function(t){return t.apply(void 0,v(e))}))}}),e}(),_t=function(){function e(){Object.defineProperty(this,"eventHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e.prototype,"hasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.eventHandlers&&this.eventHandlers[e];return!!t&&t.hasSubscribers}}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){void 0===r&&(r=!1),this.eventHandlers||(this.eventHandlers={});var n=this.eventHandlers[e];return n||(n=this.eventHandlers[e]=new St),n.register(t,r)}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.eventHandlers&&this.eventHandlers[e];return!!r&&r.has(t)}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.eventHandlers&&this.eventHandlers[e];r&&r.unregister(t)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.eventHandlers&&delete this.eventHandlers[e]}}),Object.defineProperty(e.prototype,"clearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.eventHandlers=void 0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this.eventHandlers&&this.eventHandlers[e];i&&(t=i).emit.apply(t,v(r))}}),e}();function At(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return t}function Tt(e,t){return 0===e.indexOf(t)}var Et=function(e,t){};function Ct(e){console.warn(new Error("[mobx-state-tree] "+e))}function xt(e,t,r,n){0}function kt(e,t){xt()}function It(e,t,r,n){xt(),void 0!==r&&xt(),void 0!==n&&xt()}function Nt(e,t,r){void 0===r&&(r=!0),xt(),r||xt()}function Dt(e){"function"===typeof queueMicrotask?queueMicrotask(e):"function"===typeof setImmediate?setImmediate(e):setTimeout(e,1)}function Rt(e){return function(e,t){var r=function(){var n=Te(),i=Ae();if(!i)throw dt("a mst flow must always have a parent context");var o=Ce(i);if(!o)throw dt("a mst flow must always have a parent action context");var a={name:e,id:n,tree:i.tree,context:i.context,parentId:i.id,allParentIds:v(i.allParentIds,[i.id]),rootId:i.rootId,parentEvent:i,parentActionEvent:o},u=arguments;function l(e,t,n){return e.$mst_middleware=r.$mst_middleware,Ee(p(p({},a),{type:t,args:[n]}),e)}return new Promise((function(e,n){var i,o=function(){i=t.apply(null,arguments),c(void 0)};function c(e){var t;try{var r=l((function(e){t=i.next(e)}),"flow_resume",e);r instanceof Error&&(t=i.throw(r))}catch(o){return void Dt((function(){l((function(e){n(o)}),"flow_throw",o)}))}f(t)}function s(e){var t;try{l((function(e){t=i.throw(e)}),"flow_resume_error",e)}catch(r){return void Dt((function(){l((function(e){n(r)}),"flow_throw",r)}))}f(t)}function f(t){if(!t.done){if(!t.value||"function"!==typeof t.value.then)throw dt("Only promises can be yielded to `async`, got: "+t);return t.value.then(c,s)}Dt((function(){l((function(t){e(t)}),"flow_return",t.value)}))}o.$mst_middleware=r.$mst_middleware,Ee(p(p({},a),{type:"flow_spawn",args:At(u)}),o)}))};return r}(e.name,e)}function Mt(e){return e}function Vt(e){return function(){var t,r=[];for(t=0;t<arguments.length;t++)r[t]=arguments[t];return d(this,(function(t){switch(t.label){case 0:return[4,e.apply(void 0,v(r))];case 1:return[2,t.sent()]}}))}}function zt(e){return d(this,(function(t){switch(t.label){case 0:return[4,e];case 1:return[2,t.sent()]}}))}function Zt(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}function Lt(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}function Ft(e){return!0===("number"===typeof e)?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Ht(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Ut(e){if(0===e.length)return"";var t=function(e){return e.map(Ft).join("/")};return"."===e[0]||".."===e[0]?t(e):"/"+t(e)}function Bt(e){var t=e.split("/").map(Ht);if(!(""===e||"."===e||".."===e||Tt(e,"/")||Tt(e,"./")||Tt(e,"../")))throw dt("a json path must be either rooted, empty or relative, but got '"+e+"'");return""===t[0]&&t.shift(),t}Et.ids={};var Wt=Symbol("$preProcessorFailed"),Gt=function(e){function t(t,r,n){var i=e.call(this,n||t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_processors",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return f(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|oe.SnapshotProcessor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"snapshotProcessor("+this._subtype.describe()+")"}}),Object.defineProperty(t.prototype,"preProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.preProcessor?this._processors.preProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"preProcessSnapshotSafe",{enumerable:!1,configurable:!0,writable:!0,value:function(e){try{return this.preProcessSnapshot(e)}catch(t){return Wt}}}),Object.defineProperty(t.prototype,"postProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.postProcessor?this._processors.postProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"_fixNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;!function(e,t){for(var r,n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{for(var a=b(i),u=a.next();!u.done;u=a.next()){var l=u.value;e[l]=t[l].bind(t)}}catch(c){r={error:c}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}(e.type,this,"create");var r=e.getSnapshot;e.getSnapshot=function(){return t.postProcessSnapshot(r.call(e))},Er(this._subtype)||(e.getReconciliationType=function(){return t})}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=Ke(n)?n:this.preProcessSnapshot(n),o=this._subtype.instantiate(e,t,r,i);return this._fixNode(o),o}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this._subtype.reconcile(e,Ke(t)?t:this.preProcessSnapshot(t),r,n);return i!==e&&this._fixNode(i),i}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=!0);var r=this._subtype.getSnapshot(e);return t?this.postProcessSnapshot(r):r}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.preProcessSnapshotSafe(e);return r===Wt?He(t,e,"Failed to preprocess value"):this._subtype.validate(r,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Object.defineProperty(t.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=be(e)?this._subtype:Ke(e)?T(e,!1):this.preProcessSnapshotSafe(e);return t!==Wt&&0===this._subtype.validate(t,[{path:"",type:this._subtype}]).length}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!(this._subtype instanceof pe))return!1;var r=this.preProcessSnapshot(t);return this._subtype.isMatchingSnapshotId(e,r)}}),t}(fe);var $t,Yt="Map.put can only be used to store complex values that have an identifier type attribute";function Jt(e,t){var r,n,i=e.getSubTypes();if(i===ce)return!1;if(i){var o=yt(i);try{for(var a=b(o),u=a.next();!u.done;u=a.next()){if(!Jt(u.value,t))return!1}}catch(l){r={error:l}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}return e instanceof cr&&t.push(e),!0}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.YES=1]="YES",e[e.NO=2]="NO"}($t||($t={}));var qt=function(e){function t(t){return e.call(this,t,i.observable.ref.enhancer)||this}return f(t,e),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.get.call(this,""+t)}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.has.call(this,""+t)}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.delete.call(this,""+t)}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r){return e.prototype.set.call(this,""+t,r)}}),Object.defineProperty(t.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!e)throw dt("Map.put cannot be used to set empty values");if(Ke(e)){var t=Qe(e);if(null===t.identifier)throw dt(Yt);return this.set(t.identifier,e),e}if(gt(e)){var r=Qe(this),n=r.type;if(n.identifierMode!==$t.YES)throw dt(Yt);var i=e[n.mapIdentifierAttribute];if(!tn(i)){var o=this.put(n.getChildType().create(e,r.environment));return this.put(T(o))}var a=en(i);return this.set(a,e),this.get(a)}throw dt("Map.put can only be used to store complex values")}}),t}(i.ObservableMap),Kt=function(e){function t(t,r,n){void 0===n&&(n=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"identifierMode",{enumerable:!0,configurable:!0,writable:!0,value:$t.UNKNOWN}),Object.defineProperty(i,"mapIdentifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:oe.Map}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i._determineIdentifierMode(),i.hookInitializers=n,i}return f(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,r)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._determineIdentifierMode(),Je(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"_determineIdentifierMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.identifierMode===$t.UNKNOWN){var e=[];if(Jt(this._subType,e)){var t=e.reduce((function(e,t){if(!t.identifierAttribute)return e;if(e&&e!==t.identifierAttribute)throw dt("The objects in a map should all have the same identifier attribute, expected '"+e+"', but child of type '"+t.name+"' declared attribute '"+t.identifierAttribute+"' as identifier");return t.identifierAttribute}),void 0);t?(this.identifierMode=$t.YES,this.mapIdentifierAttribute=t):this.identifierMode=$t.NO}}}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var r=e.type._subType,n={};return Object.keys(t).forEach((function(i){n[i]=r.instantiate(e,i,void 0,t[i])})),n}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new qt(e)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){(0,i._interceptReads)(t,e.unbox),e.type.hookInitializers.forEach((function(e){var r=e(t);Object.keys(r).forEach((function(e){var n=r[e],i=xe(t,e,n);jt(t,e,i)}))})),(0,i.intercept)(t,this.willChange),(0,i.observe)(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"Map<string, "+this._subType.describe()+">"}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,i.values)(e.storedValue)}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=e.storedValue.get(""+t);if(!r)throw dt("Not a child "+t);return r}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Qe(e.object),r=e.name;t.assertWritable({subpath:r});var n=t.type,i=n._subType;switch(e.type){case"update":var o=e.newValue;if(o===e.object.get(r))return null;Be(i,o),e.newValue=i.reconcile(t.getChildNode(r),e.newValue,t,r),n.processIdentifier(r,e.newValue);break;case"add":Be(i,e.newValue),e.newValue=i.instantiate(t,r,void 0,e.newValue),n.processIdentifier(r,e.newValue)}return e}}),Object.defineProperty(t.prototype,"processIdentifier",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.identifierMode===$t.YES&&t instanceof le){var r=t.identifier;if(r!==e)throw dt("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+r+"', but expected: '"+e+"'")}}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return e.getChildren().forEach((function(e){t[e.subpath]=e.snapshot})),t}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].getSnapshot()})),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Qe(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:Ft(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"add":return void t.emitPatch({op:"add",path:Ft(e.name),value:e.newValue.snapshot,oldValue:void 0},t);case"delete":var r=e.oldValue.snapshot;return e.oldValue.die(),void t.emitPatch({op:"remove",path:Ft(e.name),oldValue:r},t)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var n=e.storedValue;switch(r.op){case"add":case"replace":n.set(t,r.value);break;case"remove":n.delete(t)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Be(this,t);var r=e.storedValue,n={};if(Array.from(r.keys()).forEach((function(e){n[e]=!1})),t)for(var i in t)r.set(i,t[i]),n[""+i]=!0;Object.keys(n).forEach((function(e){!1===n[e]&&r.delete(e)}))}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return mt(e)?Ue(Object.keys(e).map((function(n){return r._subType.validate(e[n],Le(t,n,r._subType))}))):He(t,e,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return ft}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.delete(t)}}),t}(pe);function Xt(e){return be(e)&&(e.flags&oe.Map)>0}Kt.prototype.applySnapshot=(0,i.action)(Kt.prototype.applySnapshot);var Qt=function(e){function t(t,r,n){void 0===n&&(n=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:oe.Array}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i.hookInitializers=n,i}return f(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,r)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return Je(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=[]);var r=e.type._subType,n={};return t.forEach((function(t,i){var o=""+i;n[o]=r.instantiate(e,o,void 0,t)})),n}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return i.observable.array(at(e),pt)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){(0,i._getAdministration)(t).dehancer=e.unbox,e.type.hookInitializers.forEach((function(e){var r=e(t);Object.keys(r).forEach((function(e){var n=r[e],i=xe(t,e,n);jt(t,e,i)}))})),(0,i.intercept)(t,this.willChange),(0,i.observe)(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType.describe()+"[]"}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.slice()}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=Number(t);if(r<e.storedValue.length)return e.storedValue[r];throw dt("Not a child: "+t)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Qe(e.object);t.assertWritable({subpath:""+e.index});var r=t.type._subType,n=t.getChildren();switch(e.type){case"update":if(e.newValue===e.object[e.index])return null;var i=er(t,r,[n[e.index]],[e.newValue],[e.index]);if(!i)return null;e.newValue=i[0];break;case"splice":var o=e.index,a=e.removedCount,u=e.added,l=er(t,r,n.slice(o,o+a),u,u.map((function(e,t){return o+t})));if(!l)return null;e.added=l;for(var c=o+a;c<n.length;c++)n[c].setParent(t,""+(c+u.length-a))}return e}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.getChildren().map((function(e){return e.snapshot}))}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=[];return Object.keys(e).forEach((function(r){t.push(e[r].getSnapshot())})),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Qe(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"splice":for(var r=e.removedCount-1;r>=0;r--)t.emitPatch({op:"remove",path:""+(e.index+r),oldValue:e.removed[r].snapshot},t);for(r=0;r<e.addedCount;r++)t.emitPatch({op:"add",path:""+(e.index+r),value:t.getChildNode(""+(e.index+r)).snapshot,oldValue:void 0},t);return}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var n=e.storedValue,i="-"===t?n.length:Number(t);switch(r.op){case"replace":n[i]=r.value;break;case"add":n.splice(i,0,r.value);break;case"remove":n.splice(i,1)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Be(this,t),e.storedValue.replace(t)}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return vt(e)?Ue(e.map((function(e,n){return r._subType.validate(e,Le(t,""+n,r._subType))}))):He(t,e,"Value is not an array")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return st}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.splice(Number(t),1)}}),t}(pe);function er(e,t,r,n,i){for(var o,a=!0,u=0;;u++){var l=u<=n.length-1,c=r[u],s=l?n[u]:void 0,f=""+i[u];if(((o=s)instanceof ne||o instanceof le)&&(s=s.storedValue),!c&&!l)break;if(l)if(c)if(rr(c,s))r[u]=tr(t,e,f,s,c);else{for(var p=void 0,d=u;d<r.length;d++)if(rr(r[d],s)){p=r.splice(d,1)[0];break}a=!1;b=tr(t,e,f,s,p);r.splice(u,0,b)}else{if(Ke(s)&&Qe(s).parent===e)throw dt("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+f+"', but it lives already at '"+Qe(s).path+"'");a=!1;var b=tr(t,e,f,s);r.splice(u,0,b)}else a=!1,r.splice(u,1),c instanceof le&&c.createObservableInstanceIfNeeded(),c.die(),u--}return a?null:r}function tr(e,t,r,n,i){Be(e,n);var o=function(){if(Ke(n)){var o=Qe(n);if(o.assertAlive(ft),null!==o.parent&&o.parent===t)return o.setParent(t,r),o}return i?e.reconcile(i,n,t,r):e.instantiate(t,r,void 0,n)}();return i&&i!==o&&(i instanceof le&&i.createObservableInstanceIfNeeded(),i.die()),o}function rr(e,t){if(!e.isAlive)return!1;if(Ke(t)){var r=Qe(t);return r.isAlive&&r===e}if(e.snapshot===t)return!0;if(!(e instanceof le))return!1;var n=e.getReconciliationType();return null!==e.identifier&&e.identifierAttribute&&mt(t)&&n.is(t)&&n.isMatchingSnapshotId(e,t)}function nr(e){return be(e)&&(e.flags&oe.Array)>0}Qt.prototype.applySnapshot=(0,i.action)(Qt.prototype.applySnapshot);var ir="preProcessSnapshot",or="postProcessSnapshot";function ar(){return Qe(this).toString()}var ur={name:"AnonymousModel",properties:{},initializers:st};function lr(e){return Object.keys(e).reduce((function(e,t){var r,i,o;if(t in n)throw dt("Hook '"+t+"' was defined as property. Hooks should be defined as part of the actions");var a=Object.getOwnPropertyDescriptor(e,t);if("get"in a)throw dt("Getters are not supported as properties. Please use views instead");var u=a.value;if(null===u||void 0===u)throw dt("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(wt(u))return Object.assign({},e,((r={})[t]=xr(function(e){switch(typeof e){case"string":return pr;case"number":return dr;case"boolean":return hr;case"object":if(e instanceof Date)return gr}throw dt("Cannot determine primitive type from value "+e)}(u),u),r));if(u instanceof Kt)return Object.assign({},e,((i={})[t]=xr(u,{}),i));if(u instanceof Qt)return Object.assign({},e,((o={})[t]=xr(u,[]),o));if(be(u))return e;throw dt("Invalid type definition for property '"+t+"', cannot infer a type from a value like '"+u+"' ("+typeof u+")")}),e)}var cr=function(e){function t(t){var r=e.call(this,t.name||ur.name)||this;return Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:oe.Object}),Object.defineProperty(r,"initializers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"properties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"preProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"postProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"propertyNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"named",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return r.cloneAndEnhance({name:e})}}),Object.defineProperty(r,"props",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return r.cloneAndEnhance({properties:e})}}),Object.defineProperty(r,"preProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=r.preProcessor;return t?r.cloneAndEnhance({preProcessor:function(r){return t(e(r))}}):r.cloneAndEnhance({preProcessor:e})}}),Object.defineProperty(r,"postProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=r.postProcessor;return t?r.cloneAndEnhance({postProcessor:function(r){return e(t(r))}}):r.cloneAndEnhance({postProcessor:e})}}),Object.assign(r,ur,t),r.properties=lr(r.properties),r.properties,r.propertyNames=Object.keys(r.properties),r.identifierAttribute=r._getIdentifierAttribute(),r}return f(t,e),Object.defineProperty(t.prototype,"_getIdentifierAttribute",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=void 0;return this.forAllProps((function(t,r){if(r.flags&oe.Identifier){if(e)throw dt("Cannot define property '"+t+"' as object identifier, property '"+e+"' is already defined as identifier property");e=t}})),e}}),Object.defineProperty(t.prototype,"cloneAndEnhance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new t({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})}}),Object.defineProperty(t.prototype,"actions",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(r){return t.instantiateActions(r,e(r)),r}]})}}),Object.defineProperty(t.prototype,"instantiateActions",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!mt(t))throw dt("actions initializer should return a plain object containing actions");Object.keys(t).forEach((function(r){if(r===ir)throw dt("Cannot define action '"+ir+"', it should be defined using 'type.preProcessSnapshot(fn)' instead");if(r===or)throw dt("Cannot define action '"+or+"', it should be defined using 'type.postProcessSnapshot(fn)' instead");var i=t[r],o=e[r];if(r in n&&o){var a=i;i=function(){o.apply(null,arguments),a.apply(null,arguments)}}var u=i.$mst_middleware,l=i.bind(t);l.$mst_middleware=u;var c=xe(e,r,l);t[r]=c,jt(e,r,c)}))}}),Object.defineProperty(t.prototype,"volatile",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if("function"!==typeof e)throw dt("You passed an "+typeof e+" to volatile state as an argument, when function is expected");return this.cloneAndEnhance({initializers:[function(r){return t.instantiateVolatileState(r,e(r)),r}]})}}),Object.defineProperty(t.prototype,"instantiateVolatileState",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!mt(t))throw dt("volatile state initializer should return a plain object containing state");(0,i.set)(e,t)}}),Object.defineProperty(t.prototype,"extend",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(r){var n=e(r),i=n.actions,o=n.views,a=n.state,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(n,["actions","views","state"]);for(var l in u)throw dt("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+l+"'");return a&&t.instantiateVolatileState(r,a),o&&t.instantiateViews(r,o),i&&t.instantiateActions(r,i),r}]})}}),Object.defineProperty(t.prototype,"views",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(r){return t.instantiateViews(r,e(r)),r}]})}}),Object.defineProperty(t.prototype,"instantiateViews",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!mt(t))throw dt("views initializer should return a plain object containing views");Object.getOwnPropertyNames(t).forEach((function(r){var n,o=Object.getOwnPropertyDescriptor(t,r);if("get"in o)(0,i.defineProperty)(e,r,o),(0,i.makeObservable)(e,((n={})[r]=i.computed,n));else{if("function"!==typeof o.value)throw dt("A view member should either be a function or getter based property");jt(e,r,o.value)}}))}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=Ke(n)?n:this.applySnapshotPreProcessor(n);return Je(this,e,t,r,i)}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var r=e.type,n={};return r.forAllProps((function(r,i){n[r]=i.instantiate(e,r,void 0,t[r])})),n}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return i.observable.object(e,ft,pt)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){jt(t,"toString",ar),this.forAllProps((function(r){(0,i._interceptReads)(t,r,e.unbox)})),this.initializers.reduce((function(e,t){return t(e)}),t),(0,i.intercept)(t,this.willChange),(0,i.observe)(t,this.didChange)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,r=Qe(t.object),n=t.name;r.assertWritable({subpath:n});var i=r.type.properties[n];return i&&(Be(i,t.newValue),t.newValue=i.reconcile(r.getChildNode(n),t.newValue,r,n)),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,r=Qe(t.object);if(r.type.properties[t.name]){var n=t.oldValue?t.oldValue.snapshot:void 0;r.emitPatch({op:"replace",path:Ft(t.name),value:t.newValue.snapshot,oldValue:n},r)}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,r=[];return this.forAllProps((function(n){r.push(t.getChildNode(e,n))})),r}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!(t in this.properties))throw dt("Not a value property: "+t);var r=(0,i._getAdministration)(e.storedValue,t).raw();if(!r)throw dt("Node not available for property "+t);return r}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;void 0===t&&(t=!0);var n={};return this.forAllProps((function(t,o){(0,i.getAtom)(e.storedValue,t).reportObserved(),n[t]=r.getChildNode(e,t).snapshot})),t?this.applySnapshotPostProcessor(n):n}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].getSnapshot()})),this.applySnapshotPostProcessor(t)}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){if("replace"!==r.op&&"add"!==r.op)throw dt("object does not support operation "+r.op);e.storedValue[t]=r.value}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Be(this,t);var r=this.applySnapshotPreProcessor(t);this.forAllProps((function(t){e.storedValue[t]=r[t]}))}}),Object.defineProperty(t.prototype,"applySnapshotPreProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.preProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"applySnapshotPostProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.postProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Nt(),this.properties[e]}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this,n=this.applySnapshotPreProcessor(e);return mt(n)?Ue(this.propertyNames.map((function(e){return r.properties[e].validate(n[e],Le(t,e,r.properties[e]))}))):He(t,n,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"forAllProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.propertyNames.forEach((function(r){return e(r,t.properties[r])}))}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return"{ "+this.propertyNames.map((function(t){return t+": "+e.properties[t].describe()})).join("; ")+" }"}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return ft}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue[t]=void 0}}),t}(pe);function sr(e){return be(e)&&(e.flags&oe.Object)>0}cr.prototype.applySnapshot=(0,i.action)(cr.prototype.applySnapshot);var fr=function(e){function t(t,r,n,i){void 0===i&&(i=bt);var o=e.call(this,t)||this;return Object.defineProperty(o,"flags",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"checker",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"initializer",{enumerable:!0,configurable:!0,writable:!0,value:i}),o.flags=r,o}return f(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return qe(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.initializer(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return wt(e)&&this.checker(e)?Fe():He(t,e,"Value is not a "+("Date"===this.name?"Date or a unix milliseconds timestamp":this.name))}}),t}(de),pr=new fr("string",oe.String,(function(e){return"string"===typeof e})),dr=new fr("number",oe.Number,(function(e){return"number"===typeof e})),br=new fr("integer",oe.Integer,(function(e){return ht(e)})),hr=new fr("boolean",oe.Boolean,(function(e){return"boolean"===typeof e})),vr=new fr("null",oe.Null,(function(e){return null===e})),yr=new fr("undefined",oe.Undefined,(function(e){return void 0===e})),mr=new fr("Date",oe.Date,(function(e){return"number"===typeof e||e instanceof Date}),(function(e){return e instanceof Date?e:new Date(e)}));mr.getSnapshot=function(e){return e.storedValue.getTime()};var gr=mr;function wr(e){return be(e)&&(e.flags&(oe.String|oe.Number|oe.Integer|oe.Boolean|oe.Date))>0}var Pr=function(e){function t(t){var r=e.call(this,JSON.stringify(t))||this;return Object.defineProperty(r,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:oe.Literal}),r.value=t,r}return f(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return qe(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return JSON.stringify(this.value)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return wt(e)&&e===this.value?Fe():He(t,e,"Value is not a literal "+JSON.stringify(this.value))}}),t}(de);function Or(e){return xt(),new Pr(e)}function jr(e){return be(e)&&(e.flags&oe.Literal)>0}var Sr=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return Object.defineProperty(o,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"_predicate",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"_message",{enumerable:!0,configurable:!0,writable:!0,value:i}),o}return f(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|oe.Refinement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this._subtype.validate(e,t);if(r.length>0)return r;var n=Ke(e)?Qe(e).snapshot:e;return this._predicate(n)?Fe():He(t,e,this._message(e))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.reconcile(e,t,r,n)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(fe);function _r(e){return(e.flags&oe.Refinement)>0}var Ar=function(e){function t(t,r,n){var i=e.call(this,t)||this;return Object.defineProperty(i,"_types",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"_dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_eager",{enumerable:!0,configurable:!0,writable:!0,value:!0}),n=p({eager:!0,dispatcher:void 0},n),i._dispatcher=n.dispatcher,n.eager||(i._eager=!1),i}return f(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){var e=oe.Union;return this._types.forEach((function(t){e|=t.flags})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._types.some((function(t){return t.isAssignableFrom(e)}))}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"("+this._types.map((function(e){return e.describe()})).join(" | ")+")"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this.determineType(n,void 0);if(!i)throw dt("No matching type for union "+this.describe());return i.instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this.determineType(t,e.getReconciliationType());if(!i)throw dt("No matching type for union "+this.describe());return i.reconcile(e,t,r,n)}}),Object.defineProperty(t.prototype,"determineType",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._dispatcher?this._dispatcher(e):t?t.is(e)?t:this._types.filter((function(e){return e!==t})).find((function(t){return t.is(e)})):this._types.find((function(t){return t.is(e)}))}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._dispatcher)return this._dispatcher(e).validate(e,t);for(var r=[],n=0,i=0;i<this._types.length;i++){var o=this._types[i].validate(e,t);if(0===o.length){if(this._eager)return Fe();n++}else r.push(o)}return 1===n?Fe():He(t,e,"No type is applicable for the union").concat(Ue(r))}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._types}}),t}(fe);function Tr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=be(e)?void 0:e,i=be(e)?v([e],t):t,o="("+i.map((function(e){return e.name})).join(" | ")+")";return new Ar(o,i,n)}function Er(e){return(e.flags&oe.Union)>0}var Cr=function(e){function t(t,r,n){var i=e.call(this,t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_defaultValue",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"optionalValues",{enumerable:!0,configurable:!0,writable:!0,value:n}),i}return f(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|oe.Optional},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype.describe()+"?"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(this.optionalValues.indexOf(n)>=0){var i=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(e,t,r,i)}return this._subtype.instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.reconcile(e,this.optionalValues.indexOf(t)<0&&this._subtype.is(t)?t:this.getDefaultInstanceOrSnapshot(),r,n)}}),Object.defineProperty(t.prototype,"getDefaultInstanceOrSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="function"===typeof this._defaultValue?this._defaultValue():this._defaultValue;return"function"===typeof this._defaultValue&&Be(this,e),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this.optionalValues.indexOf(e)>=0?Fe():this._subtype.validate(e,t)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(fe);function xr(e,t,r){return function(e,t){if("function"!==typeof t&&Ke(t))throw dt("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead");he(e,1)}(e,t),new Cr(e,t,r||kr)}var kr=[void 0];function Ir(e){return be(e)&&(e.flags&oe.Optional)>0}var Nr=xr(yr,void 0),Dr=xr(vr,null);function Rr(e){return he(e,1),Tr(e,Nr)}var Mr=function(e){function t(t,r){var n=e.call(this,t)||this;return Object.defineProperty(n,"_definition",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(n,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n}return f(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|oe.Late},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSubType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._subType){var t=void 0;try{t=this._definition()}catch(r){if(!(r instanceof ReferenceError))throw r;t=void 0}if(e&&void 0===t)throw dt("Late type seems to be used too early, the definition (still) returns undefined");t&&(this._subType=t)}return this._subType}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this.getSubType(!0).instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this.getSubType(!0).reconcile(e,t,r,n)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.getSubType(!1);return r?r.validate(e,t):Fe()}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getSubType(!1);return e||ce}}),t}(fe);function Vr(e){return be(e)&&(e.flags&oe.Late)>0}var zr=function(e){function t(t){var r=e.call(this,t?"frozen("+t.name+")":"frozen")||this;return Object.defineProperty(r,"subType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:oe.Frozen}),r}return f(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<any immutable value>"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return qe(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return function(e){return"function"!==typeof e}(e)?this.subType?this.subType.validate(e,t):Fe():He(t,e,"Value is not serializable and cannot be frozen")}}),t}(de),Zr=new zr;function Lr(e){return be(e)&&(e.flags&oe.Frozen)>0}var Fr=function(){function e(e,t){if(Object.defineProperty(this,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolvedReference",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),tn(e))this.identifier=e;else{if(!Ke(e))throw dt("Can only store references to tree nodes or identifiers, got: '"+e+"'");var r=Qe(e);if(!r.identifierAttribute)throw dt("Can only store references with a defined identifier attribute.");var n=r.unnormalizedIdentifier;if(null===n||void 0===n)throw dt("Can only store references to tree nodes with a defined identifier.");this.identifier=n}}return Object.defineProperty(e.prototype,"updateResolvedReference",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=en(this.identifier),r=e.root,n=r.identifierCache.getLastCacheModificationPerId(t);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==n){var i=this.targetType,o=r.identifierCache.resolve(i,t);if(!o)throw new Hr("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+e.path+")");this.resolvedReference={node:o,lastCacheModification:n}}}}),Object.defineProperty(e.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),e}(),Hr=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return f(t,e),t}(Error),Ur=function(e){function t(t,r){var n=e.call(this,"reference("+t.name+")")||this;return Object.defineProperty(n,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"onInvalidated",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:oe.Reference}),n}return f(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.targetType.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return tn(e)?Fe():He(t,e,"Value is not a valid identifier, which is a string or a number")}}),Object.defineProperty(t.prototype,"fireInvalidated",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=t.parent;if(i&&i.isAlive){var o=i.storedValue;o&&this.onInvalidated({cause:e,parent:o,invalidTarget:n?n.storedValue:void 0,invalidId:r,replaceRef:function(e){P(t.root.storedValue,{op:"replace",value:e,path:t.path})},removeRef:function(){sr(i.type)?this.replaceRef(void 0):P(t.root.storedValue,{op:"remove",path:t.path})}})}}}),Object.defineProperty(t.prototype,"addTargetNodeWatcher",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this,i=this.getValue(e);if(i){var o=Qe(i),a=function(i,a){var u=function(e){switch(e){case n.beforeDestroy:return"destroy";case n.beforeDetach:return"detach";default:return}}(a);u&&r.fireInvalidated(u,e,t,o)},u=o.registerHook(n.beforeDetach,a),l=o.registerHook(n.beforeDestroy,a);return function(){u(),l()}}}}),Object.defineProperty(t.prototype,"watchTargetNodeForInvalidations",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var i=this;if(this.onInvalidated){var o;e.registerHook(n.beforeDestroy,(function(){o&&o()}));var a=function(n){o&&o();var a=e.parent,u=a&&a.storedValue;if(a&&a.isAlive&&u){(r?!!r.get(t,u):e.root.identifierCache.has(i.targetType,en(t)))?o=i.addTargetNodeWatcher(e,t):n||i.fireInvalidated("invalidSnapshotReference",e,t,null)}};e.state===Ge.FINALIZED?a(!0):(e.isRoot||e.root.registerHook(n.afterCreationFinalization,(function(){e.parent&&e.parent.createObservableInstanceIfNeeded()})),e.registerHook(n.afterAttach,(function(){a(!1)})))}}}),t}(de),Br=function(e){function t(t,r){return e.call(this,t,r)||this}return f(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return e.storedValue.resolvedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.identifier}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=Ke(n)?z(n):n,o=new Fr(n,this.targetType),a=qe(this,e,t,r,o);return o.node=a,this.watchTargetNodeForInvalidations(a,i,void 0),a}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!e.isDetaching&&e.type===this){var i=Ke(t),o=e.storedValue;if(!i&&o.identifier===t||i&&o.resolvedValue===t)return e.setParent(r,n),e}var a=this.instantiate(r,n,void 0,t);return e.die(),a}}),t}(Ur),Wr=function(e){function t(t,r,n){var i=e.call(this,t,n)||this;return Object.defineProperty(i,"options",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return f(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return this.options.get(e.storedValue,e.parent?e.parent.storedValue:null)}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=Ke(n)?this.options.set(n,e?e.storedValue:null):n,o=qe(this,e,t,r,i);return this.watchTargetNodeForInvalidations(o,i,this.options),o}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=Ke(t)?this.options.set(t,e?e.storedValue:null):t;if(!e.isDetaching&&e.type===this&&e.storedValue===i)return e.setParent(r,n),e;var o=this.instantiate(r,n,void 0,i);return e.die(),o}}),t}(Ur);function Gr(e,t){he(e,1);var r=t||void 0,n=t?t.onInvalidated:void 0;return r&&(r.get||r.set)?new Wr(e,{get:r.get,set:r.set},n):new Br(e,n)}function $r(e){return(e.flags&oe.Reference)>0}var Yr=function(e){function t(t,r){var n=e.call(this,t)||this;return Object.defineProperty(n,"validType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:oe.Identifier}),n}return f(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!e||!(e.type instanceof cr))throw dt("Identifier types can only be instantiated as direct child of a model type");return qe(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(e.storedValue!==t)throw dt("Tried to change identifier from '"+e.storedValue+"' to '"+t+"'. Changing identifiers is not allowed.");return e.setParent(r,n),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return typeof e!==this.validType?He(t,e,"Value is not a valid "+this.describe()+", expected a "+this.validType):Fe()}}),t}(de),Jr=function(e){function t(){var t=e.call(this,"identifier","string")||this;return Object.defineProperty(t,"flags",{enumerable:!0,configurable:!0,writable:!0,value:oe.Identifier}),t}return f(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifier"}}),t}(Yr),qr=function(e){function t(){return e.call(this,"identifierNumber","number")||this}return f(t,e),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifierNumber"}}),t}(Yr),Kr=new Jr,Xr=new qr;function Qr(e){return be(e)&&(e.flags&oe.Identifier)>0}function en(e){return""+e}function tn(e){return"string"===typeof e||"number"===typeof e}var rn=function(e){function t(t){var r=e.call(this,t.name)||this;return Object.defineProperty(r,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:oe.Custom}),r}return f(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.options.isTargetType(e))return Fe();var r=this.options.getValidationMessage(e);return r?He(t,e,"Invalid value for type '"+this.name+"': "+r):Fe()}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.options.toSnapshot(e.storedValue)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return qe(this,e,t,r,this.options.isTargetType(n)?n:this.options.fromSnapshot(n,e&&e.root.environment))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=!this.options.isTargetType(t);if(!e.isDetaching&&(e.type===this&&(i?t===e.snapshot:t===e.storedValue)))return e.setParent(r,n),e;var o=i?this.options.fromSnapshot(t,r.root.environment):t,a=this.instantiate(r,n,void 0,o);return e.die(),a}}),t}(de),nn={enumeration:function(e,t){var r="string"===typeof e?t:e,n=Tr.apply(void 0,v(r.map((function(e){return Or(""+e)}))));return"string"===typeof e&&(n.name=e),n},model:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"===typeof e[0]?e.shift():"AnonymousModel",n=e.shift()||{};return new cr({name:r,properties:n})},compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"===typeof e[0],n=r?e[0]:"AnonymousModel";return r&&e.shift(),e.reduce((function(e,t){return e.cloneAndEnhance({name:e.name+"_"+t.name,properties:t.properties,initializers:t.initializers,preProcessor:function(r){return t.applySnapshotPreProcessor(e.applySnapshotPreProcessor(r))},postProcessor:function(r){return t.applySnapshotPostProcessor(e.applySnapshotPostProcessor(r))}})})).named(n)},custom:function(e){return new rn(e)},reference:Gr,safeReference:function(e,t){var r=Gr(e,p(p({},t),{onInvalidated:function(e){t&&t.onInvalidated&&t.onInvalidated(e),e.removeRef()}}));return t&&!1===t.acceptsUndefined?r:Rr(r)},union:Tr,optional:xr,literal:Or,maybe:Rr,maybeNull:function(e){return he(e,1),Tr(e,Dr)},refinement:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"===typeof e[0]?e.shift():be(e[0])?e[0].name:null,n=e[0],i=e[1],o=e[2]?e[2]:function(e){return"Value does not respect the refinement predicate"};return he(n,[1,2]),Nt(),kt(),kt(),new Sr(r,n,i,o)},string:pr,boolean:hr,number:dr,integer:br,Date:gr,map:function(e){return new Kt("map<string, "+e.name+">",e)},array:function(e){return he(e,1),new Qt(e.name+"[]",e)},frozen:function(e){return 0===arguments.length?Zr:be(e)?new zr(e):xr(Zr,e)},identifier:Kr,identifierNumber:Xr,late:function(e,t){var r="string"===typeof e?e:"late("+e.toString()+")",n="string"===typeof e?t:e;return new Mr(r,n)},undefined:yr,null:vr,snapshotProcessor:function(e,t,r){return he(e,1),new Gt(e,t,r)}}},79261:function(e,t,r){"use strict";r.d(t,{V:function(){return a}});var n=r(96234),i=r(96902);function o(){return{replace:function(e){window.history.replaceState(e.state,"",e.search||"?")},push:function(e){window.history.pushState(e.state,"",e.search||"?")},get location(){return window.location}}}var a=function(e){var t=e.children,r=(0,i.useState)(o);return t((0,n.Z)(r,1)[0])}},52044:function(e,t,r){"use strict";r.d(t,{QueryParamProvider:function(){return x},StringParam:function(){return a},useQueryParam:function(){return V}});var n=r(96234);r(51462),r(68079);function i(e,t){if(null==e)return e;if(0===e.length&&(!t||t&&""!==e))return null;var r=e instanceof Array?e[0]:e;return null==r||t||""!==r?r:null}function o(e){var t=i(e,!0);return null==t?t:String(t)}var a={encode:function(e){return null==e?e:String(e)},decode:o};'{}[],":'.split("").map((function(e){return[e,encodeURIComponent(e)]}));function u(e,t){for(var r={},n=0,i=Object.keys(t);n<i.length;n++){var o=i[n],a=t[o];e[o]?r[o]=e[o].encode(t[o]):r[o]=null==a?a:String(a)}return r}var l=r(41361);var c=r(56666),s=r(96902),f=r(9249),p=r(87371),d=new(function(){function e(){(0,f.Z)(this,e),this.paramsMap=new Map,this.registeredParams=new Map}return(0,p.Z)(e,[{key:"set",value:function(e,t,r,n){this.paramsMap.set(e,{stringified:t,decoded:r,decode:n})}},{key:"has",value:function(e,t,r){if(!this.paramsMap.has(e))return!1;var n=this.paramsMap.get(e);return!!n&&(n.stringified===t&&(null==r||n.decode===r))}},{key:"get",value:function(e){var t;if(this.paramsMap.has(e))return null==(t=this.paramsMap.get(e))?void 0:t.decoded}},{key:"registerParams",value:function(e){var t,r=(0,l.Z)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,i=this.registeredParams.get(n)||0;this.registeredParams.set(n,i+1)}}catch(o){r.e(o)}finally{r.f()}}},{key:"unregisterParams",value:function(e){var t,r=(0,l.Z)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,i=(this.registeredParams.get(n)||0)-1;i<=0?(this.registeredParams.delete(n),this.paramsMap.has(n)&&this.paramsMap.delete(n)):this.registeredParams.set(n,i)}}catch(o){r.e(o)}finally{r.f()}}},{key:"clear",value:function(){this.paramsMap.clear(),this.registeredParams.clear()}}]),e}()),b=r(33028);function h(e,t,r,n){var i;if(!r||!t.length)return e;var o,a=(0,b.Z)({},e),u=!1,c=(0,l.Z)(t);try{for(c.s();!(o=c.n()).done;){var s=o.value;Object.prototype.hasOwnProperty.call(a,s)||(a[s]=null!=(i=r[s])?i:n,u=!0)}}catch(f){c.e(f)}finally{c.f()}return u?a:e}var v,y,m,g=Object.prototype.hasOwnProperty;function w(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function P(e,t,r){var n,i;if(w(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var u=0;u<o.length;u++){var l=null!=(i=null==(n=null==r?void 0:r[o[u]])?void 0:n.equals)?i:w;if(!g.call(t,o[u])||!l(e[o[u]],t[o[u]]))return!1}return!0}function O(e,t,r){for(var n={},i=0,o=Object.keys(t);i<o.length;i++){var a=o[i],u=t[a],l=e[a],c=void 0;if(r.has(a,l,u.decode))c=r.get(a);else{if(c=u.decode(l),u.equals&&r.has(a,l)){var s=r.get(a);u.equals(c,s)&&(c=s)}void 0!==c&&r.set(a,l,c,u.decode)}void 0===c&&void 0!==u.default&&(c=u.default),n[a]=c}return n}function j(){var e;return function(t,r,n){var i=O(t,r,n);return null!=e&&P(e,i)?e:(e=i,i)}}var S={},_=function(e,t,r){if(v===t&&m===e&&y===r)return S;v=t,m=e;var i=e(null!=t?t:"");y=r;for(var o=function(e){if(e)return Object.fromEntries(e.split("\n").map((function(e){return e.split("\0")})))}(r),a=0,u=Object.entries(i);a<u.length;a++){var l=(0,n.Z)(u[a],2),c=l[0],s=l[1];(null==o?void 0:o[c])&&(delete i[c],i[c=o[c]]=s);var f=S[c];P(s,f)&&(i[c]=f)}return S=i,i};function A(e,t){null==t&&(t={});var r=(0,b.Z)((0,b.Z)({},e),t);return t.params&&e.params&&(r.params=(0,b.Z)((0,b.Z)({},e.params),t.params)),r}var T={adapter:{},options:{searchStringToObject:function(e){var t,r=new URLSearchParams(e),i={},o=(0,l.Z)(r);try{for(o.s();!(t=o.n()).done;){var a=(0,n.Z)(t.value,2),u=a[0],c=a[1];Object.prototype.hasOwnProperty.call(i,u)?Array.isArray(i[u])?i[u].push(c):i[u]=[i[u],c]:i[u]=c}}catch(s){o.e(s)}finally{o.f()}return i},objectToSearchString:function(e){for(var t=new URLSearchParams,r=0,i=Object.entries(e);r<i.length;r++){var o=(0,n.Z)(i[r],2),a=o[0],u=o[1];if(void 0!==u&&null!==u)if(Array.isArray(u)){var c,s=(0,l.Z)(u);try{for(s.s();!(c=s.n()).done;){var f=c.value;t.append(a,null!=f?f:"")}}catch(p){s.e(p)}finally{s.f()}}else t.append(a,u)}return t.toString()},updateType:"pushIn",includeKnownParams:void 0,includeAllParams:!1,removeDefaultsFromUrl:!1,enableBatching:!1,skipUpdateWhenNoChange:!0}},E=s.createContext(T);function C(e){var t=e.children,r=e.adapter,n=e.options,i=s.useContext(E),o=i.adapter,a=i.options,u=s.useMemo((function(){return{adapter:null!=r?r:o,options:A(a,n)}}),[r,n,o,a]);return s.createElement(E.Provider,{value:u},t)}function x(e){var t=e.children,r=e.adapter,n=e.options,i=r;return i?s.createElement(i,null,(function(e){return s.createElement(C,{adapter:e,options:n},t)})):s.createElement(C,{options:n},t)}function k(e){var t,r=e.changes,n=e.updateType,i=e.currentSearchString,o=e.paramConfigMap,a=e.options,l=a.searchStringToObject,c=a.objectToSearchString;null==n&&(n=a.updateType);var s,f,p=_(l,i),v=h(o,Object.keys(r),a.params);"function"===typeof r?s=r(O(p,v,d)):s=r;return t=u(v,s),a.removeDefaultsFromUrl&&function(e,t){var r;for(var n in e)void 0!==(null==(r=t[n])?void 0:r.default)&&void 0!==e[n]&&t[n].encode(t[n].default)===e[n]&&(e[n]=void 0)}(t,v),t=function(e,t){var r,n={};for(var i in e)null!=(null==(r=t[i])?void 0:r.urlName)?n[t[i].urlName]=e[i]:n[i]=e[i];return n}(t,v),(null==(f=c("push"===n||"replace"===n?t:(0,b.Z)((0,b.Z)({},p),t)))?void 0:f.length)&&"?"!==f[0]&&(f="?".concat(f)),null!=f?f:""}var I=function(e){return e()},N=function(e){return setTimeout((function(){return e()}),0)},D=[];function R(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).immediate;D.push(e);var r=t?I:N;1===D.length&&r((function(){var t=D.slice();D.length=0;for(var r,n=t[0].currentSearchString,i=0;i<t.length;++i){r=k(0===i?t[i]:(0,b.Z)((0,b.Z)({},t[i]),{},{currentSearchString:r}))}e.options.skipUpdateWhenNoChange&&r===n||function(e){var t=e.searchString,r=e.adapter,n=e.navigate,i=e.updateType,o=r.location,a=(0,b.Z)((0,b.Z)({},o),{},{search:t});n&&("string"===typeof i&&i.startsWith("replace")?r.replace(a):r.push(a))}({searchString:null!=r?r:"",adapter:t[t.length-1].adapter,navigate:!0,updateType:t[t.length-1].updateType})}))}var M=function(e,t){var r=function(){var e=s.useContext(E);if(void 0===e||e===T)throw new Error("useQueryParams must be used within a QueryParamProvider");return e}(),i=r.adapter,o=r.options,u=(0,s.useState)(j),l=(0,n.Z)(u,1)[0],c=function(e,t){var r,n;void 0===e?(r={},n=t):Array.isArray(e)?(r=Object.fromEntries(e.map((function(e){return[e,"inherit"]}))),n=t):(r=e,n=t);return{paramConfigMap:r,options:n}}(e,t),f=c.paramConfigMap,p=c.options,b=(0,s.useMemo)((function(){return A(o,p)}),[o,p]),v=function(e,t){var r,n,i,o={},u=!1,l=Object.keys(e),c=l;if(t.includeKnownParams||!1!==t.includeKnownParams&&0===l.length){var s=Object.keys(null!=(r=t.params)?r:{});c.push.apply(c,s)}for(var f=0,p=c;f<p.length;f++){var d=p[f],b=e[d];null==b||"object"!==typeof b?(u=!0,o[d]=null!=(i=null==(n=t.params)?void 0:n[d])?i:a):o[d]=b}return u?o:e}(f,b),y=_(b.searchStringToObject,i.location.search,function(e){var t;for(var r in e)if(e[r].urlName){var n=e[r].urlName,i="".concat(n,"\0").concat(r);t?t.push(i):t=[i]}return t?t.join("\n"):void 0}(v));b.includeAllParams&&(v=h(v,Object.keys(y),b.params,a));var m=l(y,v,d),g=Object.keys(v).join("\0");(0,s.useEffect)((function(){var e=g.split("\0");return d.registerParams(e),function(){d.unregisterParams(e)}}),[g]);var w={adapter:i,paramConfigMap:v,options:b},P=(0,s.useRef)(w);null==P.current&&(P.current=w),(0,s.useEffect)((function(){P.current.adapter=i,P.current.paramConfigMap=v,P.current.options=b}),[i,v,b]);var O=(0,s.useState)((function(){return function(e,t){var r=P.current,n=r.adapter,i=r.paramConfigMap,o=r.options;null==t&&(t=o.updateType),R({changes:e,updateType:t,currentSearchString:n.location.search,paramConfigMap:i,options:o,adapter:n},{immediate:!o.enableBatching})}}));return[m,(0,n.Z)(O,1)[0]]};var V=function(e,t,r){var i=(0,s.useMemo)((function(){return(0,c.Z)({},e,null!=t?t:"inherit")}),[e,t]),o=M(i,r),a=(0,n.Z)(o,2),u=a[0],l=a[1];return[u[e],(0,s.useCallback)((function(t,r){return l("function"===typeof t?function(r){var n=t(r[e]);return(0,c.Z)({},e,n)}:(0,c.Z)({},e,t),r)}),[e,l])]}}}]);
//# sourceMappingURL=379.a3f63c13.chunk.js.map