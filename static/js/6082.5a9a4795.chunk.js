"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[6082,9101],{9101:function(e,o,r){r.r(o),r.d(o,{ColorPicker:function(){return W},ColorPopover:function(){return V},PopoverPicker:function(){return U},default:function(){return G}});var t=r(96234),n=r(30969),a=r(8218),c=r.n(a),l=r(86317),i=r(89003),s=r(28712),u=r(35436),f=r(2374),d=r(94069),h=r(81073);function v(){return(v=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function p(e,o){if(null==e)return{};var r,t,n={},a=Object.keys(e);for(t=0;t<a.length;t++)o.indexOf(r=a[t])>=0||(n[r]=e[r]);return n}function g(e){var o=(0,n.useRef)(e),r=(0,n.useRef)((function(e){o.current&&o.current(e)}));return o.current=e,r.current}var m=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e>r?r:e<o?o:e},b=function(e){return"touches"in e},x=function(e){return e&&e.ownerDocument.defaultView||self},C=function(e,o,r){var t=e.getBoundingClientRect(),n=b(o)?function(e,o){for(var r=0;r<e.length;r++)if(e[r].identifier===o)return e[r];return e[0]}(o.touches,r):o;return{left:m((n.pageX-(t.left+x(e).pageXOffset))/t.width),top:m((n.pageY-(t.top+x(e).pageYOffset))/t.height)}},Z=function(e){!b(e)&&e.preventDefault()},_=n.memo((function(e){var o=e.onMove,r=e.onKey,a=p(e,["onMove","onKey"]),c=(0,n.useRef)(null),l=g(o),i=g(r),s=(0,n.useRef)(null),u=(0,n.useRef)(!1),f=(0,n.useMemo)((function(){var e=function(e){Z(e),(b(e)?e.touches.length>0:e.buttons>0)&&c.current?l(C(c.current,e,s.current)):r(!1)},o=function(){return r(!1)};function r(r){var t=u.current,n=x(c.current),a=r?n.addEventListener:n.removeEventListener;a(t?"touchmove":"mousemove",e),a(t?"touchend":"mouseup",o)}return[function(e){var o=e.nativeEvent,t=c.current;if(t&&(Z(o),!function(e,o){return o&&!b(e)}(o,u.current)&&t)){if(b(o)){u.current=!0;var n=o.changedTouches||[];n.length&&(s.current=n[0].identifier)}t.focus(),l(C(t,o,s.current)),r(!0)}},function(e){var o=e.which||e.keyCode;o<37||o>40||(e.preventDefault(),i({left:39===o?.05:37===o?-.05:0,top:40===o?.05:38===o?-.05:0}))},r]}),[i,l]),d=(0,t.Z)(f,3),h=d[0],m=d[1],_=d[2];return(0,n.useEffect)((function(){return _}),[_]),n.createElement("div",v({},a,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:c,onKeyDown:m,tabIndex:0,role:"slider"}))})),k=function(e){return e.filter(Boolean).join(" ")},j=function(e){var o=e.className,r=e.color,t=e.left,a=e.top,c=void 0===a?.5:a,l=k(["react-colorful__pointer",o]);return n.createElement("div",{className:l,style:{top:100*c+"%",left:100*t+"%"}},n.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:r}}))},w=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.pow(10,o);return Math.round(r*e)/r},y=(Math.PI,function(e){var o=e.h,r=e.s,t=e.v,n=e.a,a=(200-r)*t/100;return{h:w(o),s:w(a>0&&a<200?r*t/100/(a<=100?a:200-a)*100:0),l:w(a/2),a:w(n,2)}}),N=function(e){var o=y(e),r=o.h,t=o.s,n=o.l;return"hsl(".concat(r,", ").concat(t,"%, ").concat(n,"%)")},E=function(e){var o=y(e),r=o.h,t=o.s,n=o.l,a=o.a;return"hsla(".concat(r,", ").concat(t,"%, ").concat(n,"%, ").concat(a,")")},S=function(e){var o=e.h,r=e.s,t=e.v,n=e.a;o=o/360*6,r/=100,t/=100;var a=Math.floor(o),c=t*(1-r),l=t*(1-(o-a)*r),i=t*(1-(1-o+a)*r),s=a%6;return{r:w(255*[t,l,c,c,i,t][s]),g:w(255*[i,t,t,l,c,c][s]),b:w(255*[c,c,i,t,t,l][s]),a:w(n,2)}},M=function(e){var o=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return o?P({r:Number(o[1])/(o[2]?100/255:1),g:Number(o[3])/(o[4]?100/255:1),b:Number(o[5])/(o[6]?100/255:1),a:void 0===o[7]?1:Number(o[7])/(o[8]?100:1)}):{h:0,s:0,v:0,a:1}},P=function(e){var o=e.r,r=e.g,t=e.b,n=e.a,a=Math.max(o,r,t),c=a-Math.min(o,r,t),l=c?a===o?(r-t)/c:a===r?2+(t-o)/c:4+(o-r)/c:0;return{h:w(60*(l<0?l+6:l)),s:w(a?c/a*100:0),v:w(a/255*100),a:n}},z=n.memo((function(e){var o=e.className,r=e.hue,t=e.onChange,a=k(["react-colorful__hue",o]);return n.createElement("div",{className:a},n.createElement(_,{onMove:function(e){t({h:360*e.left})},onKey:function(e){t({h:m(r+360*e.left,0,360)})},"aria-label":"Hue","aria-valuetext":w(r)},n.createElement(j,{className:"react-colorful__hue-pointer",left:r/360,color:N({h:r,s:100,v:100,a:1})})))})),R=n.memo((function(e){var o=e.hsva,r=e.onChange,t={backgroundColor:N({h:o.h,s:100,v:100,a:1})};return n.createElement("div",{className:"react-colorful__saturation",style:t},n.createElement(_,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:m(o.s+100*e.left,0,100),v:m(o.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation ".concat(w(o.s),"%, Brightness ").concat(w(o.v),"%")},n.createElement(j,{className:"react-colorful__saturation-pointer",top:1-o.v/100,left:o.s/100,color:N(o)})))})),O=function(e,o){if(e===o)return!0;for(var r in e)if(e[r]!==o[r])return!1;return!0},H=function(e,o){return e.replace(/\s/g,"")===o.replace(/\s/g,"")};function B(e,o,r){var a=g(r),c=(0,n.useState)((function(){return e.toHsva(o)})),l=(0,t.Z)(c,2),i=l[0],s=l[1],u=(0,n.useRef)({color:o,hsva:i});(0,n.useEffect)((function(){if(!e.equal(o,u.current.color)){var r=e.toHsva(o);u.current={hsva:r,color:o},s(r)}}),[o,e]),(0,n.useEffect)((function(){var o;O(i,u.current.hsva)||e.equal(o=e.fromHsva(i),u.current.color)||(u.current={hsva:i,color:o},a(o))}),[i,e,a]);var f=(0,n.useCallback)((function(e){s((function(o){return Object.assign({},o,e)}))}),[]);return[i,f]}var I,L="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,D=new Map,K=function(e){L((function(){var o=e.current?e.current.ownerDocument:document;if(void 0!==o&&!D.has(o)){var t=o.createElement("style");t.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',D.set(o,t);var n=I||r.nc;n&&t.setAttribute("nonce",n),o.head.appendChild(t)}}),[])},F=function(e){var o=e.className,r=e.hsva,t=e.onChange,a={backgroundImage:"linear-gradient(90deg, ".concat(E(Object.assign({},r,{a:0})),", ").concat(E(Object.assign({},r,{a:1})),")")},c=k(["react-colorful__alpha",o]);return n.createElement("div",{className:c},n.createElement("div",{className:"react-colorful__alpha-gradient",style:a}),n.createElement(_,{onMove:function(e){t({a:e.left})},onKey:function(e){t({a:m(r.a+e.left)})},"aria-label":"Alpha","aria-valuetext":"".concat(w(100*r.a),"%")},n.createElement(j,{className:"react-colorful__alpha-pointer",left:r.a,color:E(r)})))},T=function(e){var o=e.className,r=e.colorModel,a=e.color,c=void 0===a?r.defaultColor:a,l=e.onChange,i=p(e,["className","colorModel","color","onChange"]),s=(0,n.useRef)(null);K(s);var u=B(r,c,l),f=(0,t.Z)(u,2),d=f[0],h=f[1],g=k(["react-colorful",o]);return n.createElement("div",v({},i,{ref:s,className:g}),n.createElement(R,{hsva:d,onChange:h}),n.createElement(z,{hue:d.h,onChange:h}),n.createElement(F,{hsva:d,onChange:h,className:"react-colorful__last-control"}))},q={defaultColor:"rgba(0, 0, 0, 1)",toHsva:M,fromHsva:function(e){var o=S(e),r=o.r,t=o.g,n=o.b,a=o.a;return"rgba(".concat(r,", ").concat(t,", ").concat(n,", ").concat(a,")")},equal:H},A=function(e){return n.createElement(T,v({},e,{colorModel:q}))},X=r(37574),Y=(0,f.ZL)()({picker:{position:"relative"},swatches:{display:"flex",padding:12,flexWrap:"wrap"},swatch:{width:24,height:24,margin:4,border:"none",padding:0,cursor:"pointer",outline:"none"}}),U=function(e){var o=e.color,r=e.onChange,a=(0,n.useState)(null),c=(0,t.Z)(a,2),l=c[0],i=c[1],s=Y().classes;return(0,X.jsxs)("div",{className:s.picker,children:[(0,X.jsx)("div",{className:s.swatch,style:{backgroundColor:o},onClick:function(e){return i(e.currentTarget)}}),(0,X.jsx)(V,{anchorEl:l,onClose:function(){return i(null)},color:o,onChange:r})]})};function V(e){var o=e.anchorEl,r=e.onChange,t=e.onClose,n=e.color;return(0,X.jsx)(l.ZP,{open:!!o,anchorEl:o,onClose:t,children:(0,X.jsx)(W,{color:n,onChange:r})})}function W(e){var o=e.onChange,r=e.color,a=Y().classes,l=(0,h.useLocalStorage)("colorPickerPalette","set1"),f=(0,t.Z)(l,2),v=f[0],p=f[1],g=d[v],m=Object.keys(d),b=(0,n.useState)(r),x=(0,t.Z)(b,2),C=x[0],Z=x[1],_=c()(r).rgb().toString(),k=function(e){Z(e);try{o(c()(e).rgb().toString())}catch(r){}};return(0,X.jsxs)("div",{style:{display:"flex",padding:10},children:[(0,X.jsx)("div",{style:{width:200,margin:5},children:(0,X.jsx)(A,{color:_,onChange:k})}),(0,X.jsxs)("div",{style:{width:200,margin:5},children:[(0,X.jsx)(i.Z,{value:v,onChange:function(e){var o=e.target.value;p(o)},children:m.map((function(e){return(0,X.jsx)(s.Z,{value:e,children:e},e)}))}),(0,X.jsx)("div",{className:a.swatches,children:g.map((function(e,o){return(0,X.jsx)("button",{className:a.swatch,style:{background:e},onClick:function(){return k(e)}},e+"-"+o)}))}),(0,X.jsx)(u.Z,{helperText:"Manually set color (hex, rgb, or css color name)",value:C,onChange:function(e){return k(e.target.value)}})]})]})}var G=U},56082:function(e,o,r){r.r(o);var t=r(96234),n=r(30969),a=r(90550),c=r(92256),l=r(48651),i=r(66581),s=r(17984),u=r(78742),f=r(52849),d=r(70054),h=r(52907),v=r(69852),p=r(2374),g=r(88581),m=r(9101),b=r(37574),x=(0,p.ZL)()((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));o.default=(0,a.observer)((function(e){var o=e.model,r=e.handleClose,a=x().classes,p=(0,n.useState)(!1),C=(0,t.Z)(p,2),Z=C[0],_=C[1];return(0,b.jsxs)(c.Z,{open:!0,onClose:r,children:[(0,b.jsxs)(l.Z,{children:["Select either an overall color, or the positive/negative colors. Note that density renderers only work properly with positive/negative colors",(0,b.jsx)(i.Z,{"aria-label":"close",className:a.closeButton,onClick:r,children:(0,b.jsx)(g.Z,{})})]}),(0,b.jsxs)(s.Z,{children:[(0,b.jsx)(u.Z,{checked:!Z,onClick:function(){return _(!1)},control:(0,b.jsx)(f.Z,{}),label:"Overall color"}),(0,b.jsx)(u.Z,{checked:Z,onClick:function(){return _(!0)},control:(0,b.jsx)(f.Z,{}),label:"Positive/negative color"}),Z?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Z,{children:"Positive color"}),(0,b.jsx)(m.ColorPicker,{color:o.posColor||"black",onChange:function(e){o.setPosColor(e),o.setColor(void 0)}}),(0,b.jsx)(d.Z,{children:"Negative color"}),(0,b.jsx)(m.ColorPicker,{color:o.negColor||"black",onChange:function(e){o.setNegColor(e),o.setColor(void 0)}})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Z,{children:"Overall color"}),(0,b.jsx)(m.ColorPicker,{color:o.color||"black",onChange:function(e){return o.setColor(e)}})]})]}),(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(v.Z,{onClick:function(){o.setPosColor(void 0),o.setNegColor(void 0),o.setColor(void 0)},color:"secondary",variant:"contained",children:"Restore default"}),(0,b.jsx)(v.Z,{variant:"contained",color:"primary",type:"submit",onClick:function(){return r()},children:"Submit"})]})]})}))},52849:function(e,o,r){r.d(o,{Z:function(){return S}});var t=r(56666),n=r(31461),a=r(7896),c=r(30969),l=r(81856),i=r(26540),s=r(74262),u=r(56844),f=r(2441),d=r(12104),h=r(37574),v=(0,d.Z)((0,h.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),p=(0,d.Z)((0,h.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),g=r(62221),m=(0,g.ZP)("span")({position:"relative",display:"flex"}),b=(0,g.ZP)(v)({transform:"scale(1)"}),x=(0,g.ZP)(p)((function(e){var o=e.theme,r=e.ownerState;return(0,a.Z)({left:0,position:"absolute",transform:"scale(0)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeIn,duration:o.transitions.duration.shortest})},r.checked&&{transform:"scale(1)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeOut,duration:o.transitions.duration.shortest})})}));var C=function(e){var o=e.checked,r=void 0!==o&&o,t=e.classes,n=void 0===t?{}:t,c=e.fontSize,l=(0,a.Z)({},e,{checked:r});return(0,h.jsxs)(m,{className:n.root,ownerState:l,children:[(0,h.jsx)(b,{fontSize:c,className:n.background,ownerState:l}),(0,h.jsx)(x,{fontSize:c,className:n.dot,ownerState:l})]})},Z=r(99853),_=r(74223),k=r(67889),j=r(5318),w=["checked","checkedIcon","color","icon","name","onChange","size","className"],y=(0,g.ZP)(u.Z,{shouldForwardProp:function(e){return(0,g.FO)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,o){var r=e.ownerState;return[o.root,o["color".concat((0,Z.Z)(r.color))]]}})((function(e){var o=e.theme,r=e.ownerState;return(0,a.Z)({color:(o.vars||o).palette.text.secondary,"&:hover":{backgroundColor:o.vars?"rgba(".concat("default"===r.color?o.vars.palette.action.activeChannel:o.vars.palette[r.color].mainChannel," / ").concat(o.vars.palette.action.hoverOpacity,")"):(0,s.Fq)("default"===r.color?o.palette.action.active:o.palette[r.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(0,t.Z)({},"&.".concat(j.Z.checked),{color:(o.vars||o).palette[r.color].main}),(0,t.Z)({},"&.".concat(j.Z.disabled),{color:(o.vars||o).palette.action.disabled}))}));var N=(0,h.jsx)(C,{checked:!0}),E=(0,h.jsx)(C,{}),S=c.forwardRef((function(e,o){var r,t,s=(0,f.Z)({props:e,name:"MuiRadio"}),u=s.checked,d=s.checkedIcon,v=void 0===d?N:d,p=s.color,g=void 0===p?"primary":p,m=s.icon,b=void 0===m?E:m,x=s.name,C=s.onChange,S=s.size,M=void 0===S?"medium":S,P=s.className,z=(0,n.Z)(s,w),R=(0,a.Z)({},s,{color:g,size:M}),O=function(e){var o=e.classes,r=e.color,t={root:["root","color".concat((0,Z.Z)(r))]};return(0,a.Z)({},o,(0,i.Z)(t,j.l,o))}(R),H=(0,k.Z)(),B=u,I=(0,_.Z)(C,H&&H.onChange),L=x;return H&&("undefined"===typeof B&&(B=function(e,o){return"object"===typeof o&&null!==o?e===o:String(e)===String(o)}(H.value,s.value)),"undefined"===typeof L&&(L=H.name)),(0,h.jsx)(y,(0,a.Z)({type:"radio",icon:c.cloneElement(b,{fontSize:null!=(r=E.props.fontSize)?r:M}),checkedIcon:c.cloneElement(v,{fontSize:null!=(t=N.props.fontSize)?t:M}),ownerState:R,classes:O,name:L,checked:B,onChange:I,ref:o,className:(0,l.default)(O.root,P)},z))}))},5318:function(e,o,r){r.d(o,{l:function(){return n}});var t=r(2975);function n(e){return(0,t.Z)("MuiRadio",e)}var a=(0,r(62746).Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]);o.Z=a},72038:function(e,o,r){var t=r(30969).createContext(void 0);o.Z=t},67889:function(e,o,r){r.d(o,{Z:function(){return a}});var t=r(30969),n=r(72038);function a(){return t.useContext(n.Z)}}}]);
//# sourceMappingURL=6082.5a9a4795.chunk.js.map