!function(){var e={99836:function(e,n,t){"use strict";t.r(n),t.d(n,{ConfigurationReference:function(){return r.B},ConfigurationSchema:function(){return r.c},getConf:function(){return i.bc},getTypeNamesFromExplicitlyTypedUnion:function(){return i.G},isBareConfigurationSchemaType:function(){return i.Pb},isConfigurationModel:function(){return i.yt},isConfigurationSchemaType:function(){return i.qN},isConfigurationSlotType:function(){return i.mu},readConfObject:function(){return i.pS}});var r=t(9159),i=t(29558)},95439:function(e,n,t){"use strict";t.d(n,{ie:function(){return o},k$:function(){return r},pm:function(){return u}});new WeakMap;function r(e){return"object"===typeof e&&null!==e&&"abortSignalId"in e&&"number"===typeof e.abortSignalId}var i=new Map;function o(e){var n=e.abortSignalId,t=i.get(n);return t||(t=new AbortController,i.set(n,t)),t.signal}function a(e){var n=e.signalId,t=i.get(n);t&&t.abort()}function u(){return{signalAbort:a}}},78884:function(e,n,t){"use strict";var r=t(96234),i=t(96902),o=t(60916),a=t(5792),u=t(4782),c=t(91188),s=t(99836),l=t(27664),d=t(29938),f=(0,c.ZL)()({importFormEntry:{minWidth:180}}),p=(0,u.observer)((function(e){var n=e.session,t=e.onChange,u=e.selected,c=e.InputProps,p=e.extra,h=void 0===p?0:p,m=f().classes,v=n.assemblyNames,g=n.assemblyManager,b=new URLSearchParams(window.location.search).get("config"),y="undefined"===typeof jest?(0,l.useLocalStorage)("lastAssembly-".concat([window.location.host+window.location.pathname,b,h].join("-")),u):(0,i.useState)(u),x=(0,r.Z)(y,2),Z=x[0],w=x[1],k=v.includes(Z||"")?Z:u;(0,i.useEffect)((function(){k&&k!==u&&t(k)}),[k,t,u]);var j=v.length?"":"No configured assemblies";return(0,d.jsx)(o.Z,{select:!0,label:"Assembly",variant:"outlined",helperText:j||"Select assembly to view",value:k||"",inputProps:{"data-testid":"assembly-selector"},onChange:function(e){return w(e.target.value)},error:!!j,InputProps:c,disabled:!!j,className:m.importFormEntry,children:v.map((function(e){var n=g.get(e),t=n?(0,s.getConf)(n,"displayName"):"";return(0,d.jsx)(a.Z,{value:e,children:t||e},e)}))})}));n.Z=p},46751:function(e,n,t){"use strict";var r=t(33028),i=t(59740),o=t(96902),a=t(5792),u=t(65517),c=t(27838),s=t(98113),l=t(29078),d=t(96835),f=t(41590),p=t(41874),h=t(13879),m=t(48785),v=t(29938),g=["onClick"],b=["title","inset","popupId"],y=["popupState","onMenuItemClick","menuItems","classes"],x=["popupState","onMenuItemClick","menuItems"],Z=["onMenuItemClick","menuItems"],w=o.createContext({parentPopupState:null,rootPopupState:null});function k(e){var n=e.onClick,t=(0,i.Z)(e,g),u=(0,o.useContext)(w).rootPopupState;if(!u)throw new Error("must be used inside a CascadingMenu");var c=(0,o.useCallback)((function(e){u.close(),null===n||void 0===n||n(e)}),[u,n]);return(0,v.jsx)(a.Z,(0,r.Z)((0,r.Z)({},t),{},{onClick:c}))}function j(e){var n=e.title,t=e.inset,c=e.popupId,s=(0,i.Z)(e,b),l=o.useContext(w).parentPopupState,d=(0,p.o_)({popupId:c,variant:"popover",parentPopupState:l});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(a.Z,(0,r.Z)((0,r.Z)((0,r.Z)({},(0,p.b8)(d)),(0,p.bs)(d)),{},{children:[(0,v.jsx)(u.Z,{primary:n,inset:t}),(0,v.jsx)(m.Z,{})]})),(0,v.jsx)(T,(0,r.Z)((0,r.Z)({},s),{},{anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},popupState:d}))]})}function T(e){var n=e.popupState,t=(e.onMenuItemClick,e.menuItems,e.classes,(0,i.Z)(e,y)),a=(0,o.useContext)(w).rootPopupState,u=(0,o.useMemo)((function(){return{rootPopupState:a||n,parentPopupState:n}}),[a,n]);return(0,v.jsx)(w.Provider,{value:u,children:(0,v.jsx)(h.Z,(0,r.Z)((0,r.Z)({},t),(0,p.wK)(n)))})}function C(e){var n=e.popupState,t=(e.onMenuItemClick,e.menuItems,(0,i.Z)(e,x)),a=o.useContext(w).rootPopupState,u=o.useMemo((function(){return{rootPopupState:a||n,parentPopupState:n}}),[a,n]);return(0,v.jsx)(w.Provider,{value:u,children:(0,v.jsx)(c.Z,(0,r.Z)((0,r.Z)({},t),(0,p.wK)(n)))})}function S(e){var n=e.item;return"subMenu"in n?(0,v.jsx)(f.J,{type:"subMenu"}):"checkbox"===n.type||"radio"===n.type?(0,v.jsx)(f.J,{type:n.type,checked:n.checked,disabled:n.disabled}):null}function M(e){var n=e.onMenuItemClick,t=e.menuItems,o=(0,i.Z)(e,Z);var a=t.some((function(e){return"icon"in e&&e.icon}));return(0,v.jsx)(v.Fragment,{children:t.map((function(e,t){return"subMenu"in e?(0,v.jsx)(j,{popupId:"subMenu-".concat(e.label),title:e.label,inset:a,onMenuItemClick:n,menuItems:e.subMenu,children:(0,v.jsx)(M,(0,r.Z)((0,r.Z)({},o),{},{onMenuItemClick:n,menuItems:e.subMenu}))},"subMenu-".concat(e.label,"-").concat(t)):"divider"===e.type?(0,v.jsx)(s.Z,{component:"li"},"divider-".concat(t)):"subHeader"===e.type?(0,v.jsx)(l.Z,{children:e.label},"subHeader-".concat(e.label,"-").concat(t)):(0,v.jsxs)(k,{onClick:"onClick"in e?(i=e.onClick,function(e){n(e,i)}):void 0,disabled:Boolean(e.disabled),children:[e.icon?(0,v.jsx)(d.Z,{children:(0,v.jsx)(e.icon,{})}):null," ",(0,v.jsx)(u.Z,{primary:e.label,secondary:e.subLabel,inset:a&&!e.icon}),(0,v.jsx)("div",{style:{flexGrow:1,minWidth:10}}),(0,v.jsx)(S,{item:e})]},"".concat(e.label,"-").concat(t));var i}))})}n.Z=function(e){return(0,v.jsx)(C,(0,r.Z)((0,r.Z)({},e),{},{children:(0,v.jsx)(M,(0,r.Z)({},e))}))}},43971:function(e,n,t){"use strict";var r=t(33028),i=(t(96902),t(20450)),o=t(6771),a=t(39041),u=t(3915),c=t(98113),s=t(4782),l=t(91188),d=t(47057),f=t(29938),p=(0,l.ZL)()((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));n.Z=(0,s.observer)((function(e){var n=p().classes,t=e.title,s=e.children,l=e.onClose;return(0,f.jsx)(i.Z,(0,r.Z)((0,r.Z)({},e),{},{children:(0,f.jsxs)(o.Z,{children:[(0,f.jsxs)(a.Z,{children:[t,l?(0,f.jsx)(u.Z,{className:n.closeButton,onClick:function(){l()},children:(0,f.jsx)(d.Z,{})}):null]}),(0,f.jsx)(c.Z,{}),s]})}))}))},35130:function(e,n,t){"use strict";var r=t(33028),i=t(96234),o=t(59740),a=t(96902),u=t(32503),c=t(72988),s=t(27255),l=t(91188),d=t(29938),f=["value","setValue","variant"],p=(0,l.ZL)()((function(e){return{input:{},inputBase:{},typography:{top:6,left:2,position:"absolute",whiteSpace:"nowrap",visibility:"hidden"},inputRoot:{padding:e.spacing(.5)},inputFocused:{borderStyle:"solid",borderWidth:2}}})),h=a.forwardRef((function(e,n){var t=e.value,l=e.setValue,h=e.variant,m=(0,o.Z)(e,f),v=(0,a.useState)(),g=(0,i.Z)(v,2),b=g[0],y=g[1],x=(0,a.useState)(null),Z=(0,i.Z)(x,2),w=Z[0],k=Z[1],j=(0,a.useState)(null),T=(0,i.Z)(j,2),C=T[0],S=T[1],M=(0,a.useState)(!1),E=(0,i.Z)(M,2),P=E[0],I=E[1];(0,a.useEffect)((function(){P&&(null===C||void 0===C||C.blur(),I(!1))}),[P,C]);var A=p(e,{props:e}).classes,R=(0,u.Z)(),L=(null===w||void 0===w?void 0:w.clientWidth)||0,z=void 0===b?t:b;return(0,d.jsxs)("div",(0,r.Z)((0,r.Z)({},m),{},{ref:n,children:[(0,d.jsx)("div",{style:{position:"relative"},children:(0,d.jsx)(c.Z,{ref:function(e){return k(e)},component:"span",variant:h,className:A.typography,children:z})}),(0,d.jsx)(s.ZP,{inputRef:function(e){return S(e)},className:A.inputBase,inputProps:{style:(0,r.Z)({width:L},h&&"inherit"!==h?R.typography[h]:{})},classes:{input:A.input,root:A.inputRoot,focused:A.inputFocused},value:z,onChange:function(e){return y(e.target.value)},onKeyDown:function(e){"Enter"===e.key?null===C||void 0===C||C.blur():"Escape"===e.key&&(y(void 0),I(!0))},onBlur:function(){l(b||""),y(void 0)}})]}))}));n.Z=h},66379:function(e,n,t){"use strict";t(96902);var r=t(29938);n.default=function(e){var n=e.error,t="",i="".concat(n),o="is not assignable",a=i.indexOf(o);if(-1!==a){var u=i.slice(0,a+o.length),c=u.match(/.*at path "(.*)" snapshot `(.*)` is not assignable/m);c&&(i="Failed to load element at ".concat(c[1],"...Failed element had snapshot"),t=c[2]);var s=u.match(/.*snapshot `(.*)` is not assignable/);s&&(i="Failed to load element...Failed element had snapshot",t=s[1])}return(0,r.jsxs)("div",{style:{padding:4,margin:4,overflow:"auto",maxHeight:200,background:"#f88",border:"1px solid black"},children:[i.slice(0,1e4),t?(0,r.jsx)("pre",{style:{background:"lightgrey",border:"1px solid black",margin:20},children:JSON.stringify(JSON.parse(t),null,2)}):null]})}},97342:function(e,n,t){"use strict";t(96902);var r=t(88117),i=t(21178),o=t(18726),a=t(96565),u=t(43971),c=t(29938);n.Z=function(e){var n=e.onClose,t=e.open,s=e.onFactoryReset;function l(e){"reset"===e&&s(),n()}return(0,c.jsxs)(u.Z,{title:"Reset",onClose:function(){return l()},open:t,children:[(0,c.jsx)(r.Z,{children:(0,c.jsx)(i.Z,{children:"Are you sure you want to reset? This will restore the default configuration."})}),(0,c.jsxs)(o.Z,{children:[(0,c.jsx)(a.Z,{onClick:function(){return l()},color:"primary",children:"Cancel"}),(0,c.jsx)(a.Z,{onClick:function(){return l("reset")},color:"primary",variant:"contained",children:"OK"})]})]})}},41590:function(e,n,t){"use strict";t.d(n,{J:function(){return C}});var r=t(59740),i=t(33028),o=t(96234),a=t(96902),u=t(84888),c=t(98113),s=t(29078),l=t(96835),d=t(5792),f=t(65517),p=t(84969),h=t(71078),m=t(94354),v=t(91188),g=t(90001),b=t(26838),y=t(87851),x=t(24667),Z=t(77668),w=t(27664),k=t(29938),j=["open","onClose","menuItems","onMenuItemClick"],T=(0,v.ZL)()({paper:{position:"fixed",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",top:0,left:0,outline:0},menuItemEndDecoration:{padding:0,margin:0,height:16}});function C(e){var n,t,r,i=T().classes,o=e.type;if("checked"in e&&(n=e.checked,t=e.disabled),"subMenu"===o)r=(0,k.jsx)(g.Z,{color:"action"});else if("checkbox"===o)if(n){var a=t?"inherit":"secondary";r=(0,k.jsx)(b.Z,{color:a})}else r=(0,k.jsx)(y.Z,{color:"action"});else if("radio"===o)if(n){var u=t?"inherit":"secondary";r=(0,k.jsx)(x.Z,{color:u})}else r=(0,k.jsx)(Z.Z,{color:"action"});return(0,k.jsx)("div",{className:i.menuItemEndDecoration,children:r})}var S=a.forwardRef((function(e,n){var t=(0,a.useState)(),r=(0,o.Z)(t,2),m=r[0],v=r[1],g=(0,a.useState)(),b=(0,o.Z)(g,2),y=b[0],x=b[1],Z=(0,a.useState)(!1),j=(0,o.Z)(Z,2),M=j[0],E=j[1],P=(0,a.useState)(),I=(0,o.Z)(P,2),A=I[0],R=I[1],L=(0,a.useState)(),z=(0,o.Z)(L,2),O=z[0],B=z[1],D=(0,a.useRef)(null),N=T().classes,F=e.menuItems,q=e.onMenuItemClick,H=e.open,J=e.onClose,W=e.anchorEl,U=e.top,_=void 0!==U&&U;(0,a.useEffect)((function(){H||(v(void 0),x(void 0))}),[H]),(0,a.useEffect)((function(){var e,n=H&&Boolean(m);return n&&!M?e=setTimeout((function(){E(!0)}),300):!n&&M&&(e=setTimeout((function(){E(!1)}),300)),function(){clearTimeout(e)}}),[M,H,m]),(0,a.useEffect)((function(){if(W){var e=W.getBoundingClientRect();O&&e.top===O.top&&e.left+e.width===O.left||B({top:e.top,left:e.left+e.width})}else O||B({})}),[O,W]);var V=F.some((function(e){return"icon"in e&&e.icon})),G={};var K=(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(u.Z,{autoFocusItem:H&&!M,dense:!0,children:F.sort((function(e,n){return(n.priority||0)-(e.priority||0)})).map((function(e,n){if("divider"===e.type)return(0,k.jsx)(c.Z,{component:"li"},"divider-".concat(n));if("subHeader"===e.type)return(0,k.jsx)(s.Z,{children:e.label},"subHeader-".concat(e.label,"-").concat(n));var t=null,r=null;if(e.icon){var i=e.icon;t=(0,k.jsx)(l.Z,{children:(0,k.jsx)(i,{})})}"subMenu"in e?r=(0,k.jsx)(C,{type:"subMenu"}):"checkbox"!==e.type&&"radio"!==e.type||(r=(0,k.jsx)(C,{type:e.type,checked:e.checked,disabled:e.disabled}));var o,a="onClick"in e?(o=e.onClick,function(e){q(e,o)}):void 0;return(0,k.jsxs)(d.Z,{style:G,selected:n===A,onClick:a,onMouseMove:function(t){t.currentTarget!==document.activeElement&&(t.currentTarget.focus(),R(n)),"subMenu"in e?y!==n&&(v(t.currentTarget),x(n)):(v(void 0),x(void 0))},onKeyDown:function(t){if("ArrowLeft"===t.key||"Escape"===t.key)J&&J(t,"escapeKeyDown");else if("ArrowUp"===t.key)R(function(e,n){return(0,w.findLastIndex)(e.slice(0,n),(function(e){return"divider"!==e.type&&"subHeader"!==e.type&&!e.disabled}))}(F,n));else if("ArrowDown"===t.key){var r=function(e,n){var t=e.slice(n+1).findIndex((function(e){return"divider"!==e.type&&"subHeader"!==e.type&&!e.disabled}));return-1===t?t:n+1+t}(F,n);R(r)}else"subMenu"in e&&("ArrowRight"!==t.key&&"Enter"!==t.key||(v(t.currentTarget),x(n),E(!0)))},disabled:Boolean(e.disabled),children:[t,(0,k.jsx)(f.Z,{primary:e.label,secondary:e.subLabel,inset:V&&!e.icon}),r]},e.label)}))}),F.map((function(e,n){var t=null;return"subMenu"in e&&(t=(0,k.jsx)(S,{anchorEl:m,open:M&&y===n,onClose:function(){E(!1),v(void 0)},onMenuItemClick:q,menuItems:e.subMenu},e.label)),t}))]});return _?K:(0,k.jsx)(p.Z,{in:H,style:{transformOrigin:"0 0 0"},ref:n,children:(0,k.jsx)(h.Z,{elevation:8,ref:D,className:N.paper,style:(0,i.Z)({},O),children:K})})}));n.Z=function(e){var n=e.open,t=e.onClose,o=e.menuItems,a=e.onMenuItemClick,u=(0,r.Z)(e,j);return(0,k.jsx)(m.ZP,(0,i.Z)((0,i.Z)({transitionDuration:0,open:n,onClose:t,BackdropProps:{invisible:!0}},u),{},{children:(0,k.jsx)(S,{open:n,onClose:t,menuItems:o,onMenuItemClick:a,top:!0})}))}},54896:function(e,n,t){"use strict";var r=t(33028),i=t(96234),o=t(59740),a=t(96902),u=t(91188),c=t(29938),s=["onDrag","vertical","flexbox","className"],l=(0,u.ZL)()({horizontalHandle:{cursor:"row-resize",width:"100%"},verticalHandle:{cursor:"col-resize",height:"100%"},flexbox_verticalHandle:{cursor:"col-resize",alignSelf:"stretch"},flexbox_horizontalHandle:{cursor:"row-resize",alignSelf:"stretch"}});n.Z=function(e){var n,t=e.onDrag,u=e.vertical,d=void 0!==u&&u,f=e.flexbox,p=void 0!==f&&f,h=e.className,m=(0,o.Z)(e,s),v=(0,a.useState)(!1),g=(0,i.Z)(v,2),b=g[0],y=g[1],x=(0,a.useRef)(0),Z=l(),w=Z.classes,k=Z.cx;return(0,a.useEffect)((function(){function e(e){e.preventDefault();var n=d?e.clientX:e.clientY,r=n-x.current;r&&(t(r),x.current=n)}function n(){y(!1)}return b?(window.addEventListener("mousemove",e,!0),window.addEventListener("mouseup",n,!0),function(){window.removeEventListener("mousemove",e,!0),window.removeEventListener("mouseup",n,!0)}):function(){}}),[b,t,d]),n=p?d?w.flexbox_verticalHandle:w.flexbox_horizontalHandle:d?w.verticalHandle:w.horizontalHandle,(0,c.jsx)("div",(0,r.Z)({"data-resizer":"true",onMouseDown:function(e){e.preventDefault(),x.current=d?e.clientX:e.clientY,y(!0)},role:"presentation",className:k(n,h)},m))}},18849:function(e,n,t){"use strict";t.r(n),t.d(n,{App:function(){return ee},AssemblySelector:function(){return ie.Z},CascadingMenu:function(){return Pe.Z},Dialog:function(){return j.Z},EditableTypography:function(){return _.Z},ErrorMessage:function(){return W.default},FactoryResetDialog:function(){return Te.Z},FatalErrorDialog:function(){return Me.Z},FileSelector:function(){return xe},LoadingEllipses:function(){return U.Z},LogoFull:function(){return Z},Logomark:function(){return x},Menu:function(){return Ee.Z},MenuItemEndDecoration:function(){return Ee.J},PrerenderedCanvas:function(){return ke},ResizeHandle:function(){return je.Z},ReturnToImportFormDialog:function(){return re},SanitizedHTML:function(){return Be},Tooltip:function(){return Se},createJBrowseBaseTheme:function(){return m},createJBrowseDefaultOverrides:function(){return h},createJBrowseDefaultProps:function(){return p},createJBrowseTheme:function(){return v},jbrowseDefaultPalette:function(){return f}});var r=t(33028),i=t(85169),o=t(40385),a=t(14255),u=t(32092),c=t(97770),s=t(67928),l=t.n(s),d=(0,c.Z)(),f={primary:{main:"#0D233F"},secondary:{main:"#721E63"},tertiary:d.palette.augmentColor({color:{main:"#135560"}}),quaternary:d.palette.augmentColor({color:{main:"#FFB11D"}}),stopCodon:"#e22",startCodon:"#3e3",bases:{A:d.palette.augmentColor({color:i.Z}),C:d.palette.augmentColor({color:o.Z}),G:d.palette.augmentColor({color:a.Z}),T:d.palette.augmentColor({color:u.Z})}};function p(){return{components:{MuiButton:{defaultProps:{size:"small"}},MuiAccordion:{defaultProps:{disableGutters:!0,TransitionProps:{timeout:150}}},MuiFilledInput:{defaultProps:{margin:"dense"}},MuiFormControl:{defaultProps:{margin:"dense",size:"small"}},MuiFormHelperText:{defaultProps:{margin:"dense"}},MuiIconButton:{defaultProps:{size:"small"}},MuiInputBase:{defaultProps:{margin:"dense"}},MuiAutocomplete:{defaultProps:{size:"small"}},MuiInputLabel:{defaultProps:{margin:"dense"}},MuiToolbar:{defaultProps:{variant:"dense"}},MuiListItem:{defaultProps:{dense:!0}},MuiOutlinedInput:{defaultProps:{margin:"dense"}},MuiFab:{defaultProps:{size:"small"}},MuiTable:{defaultProps:{size:"small"}},MuiMenuList:{defaultProps:{dense:!0}},MuiMenuItem:{defaultProps:{dense:!0}},MuiTextField:{defaultProps:{margin:"dense",variant:"standard"}}}}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=l()(f,e);return{components:{MuiIconButton:{styleOverrides:{colorSecondary:{color:n.tertiary.main}}},MuiButton:{styleOverrides:{textSecondary:{color:n.tertiary.main}}},MuiFab:{styleOverrides:{secondary:{backgroundColor:n.quaternary.main}}},MuiLink:{styleOverrides:{root:{color:n.tertiary.main}}},MuiAccordionSummary:{styleOverrides:{root:{backgroundColor:n.tertiary.main},content:{color:n.tertiary.contrastText}}}}}}function m(e){return(0,r.Z)({palette:f,typography:{fontSize:12},spacing:4},l()({components:{MuiButton:{defaultProps:{size:"small"}},MuiAccordion:{defaultProps:{disableGutters:!0,TransitionProps:{timeout:150}}},MuiFilledInput:{defaultProps:{margin:"dense"}},MuiFormControl:{defaultProps:{margin:"dense",size:"small"}},MuiFormHelperText:{defaultProps:{margin:"dense"}},MuiIconButton:{defaultProps:{size:"small"}},MuiInputBase:{defaultProps:{margin:"dense"}},MuiAutocomplete:{defaultProps:{size:"small"}},MuiInputLabel:{defaultProps:{margin:"dense"}},MuiToolbar:{defaultProps:{variant:"dense"}},MuiListItem:{defaultProps:{dense:!0}},MuiOutlinedInput:{defaultProps:{margin:"dense"}},MuiFab:{defaultProps:{size:"small"}},MuiTable:{defaultProps:{size:"small"}},MuiMenuList:{defaultProps:{dense:!0}},MuiMenuItem:{defaultProps:{dense:!0}},MuiTextField:{defaultProps:{margin:"dense",variant:"standard"}}}},h(e)))}function v(e){var n,t,r,i,o;return null!==(n=e)&&void 0!==n&&null!==(t=n.palette)&&void 0!==t&&t.tertiary&&(e=l()(e,{palette:{tertiary:d.palette.augmentColor("color"in e.palette.tertiary?e.palette.tertiary:{color:e.palette.tertiary})}})),null!==(r=e)&&void 0!==r&&null!==(i=r.palette)&&void 0!==i&&i.quaternary&&(e=l()(e,{palette:{quaternary:d.palette.augmentColor("color"in e.palette.quaternary?e.palette.quaternary:{color:e.palette.quaternary})}})),(0,c.Z)(l()(m(null===(o=e)||void 0===o?void 0:o.palette),e||{}))}var g=t(96902),b=t(29938);function y(e){return"black"===e?{midnight:"#808080",forrest:"#666666",grape:"#4d4d4d",mandarin:"#333333",gray:"#1a1a1a"}:"white"===e?{midnight:"#ffffff",forrest:"#e6e6e6",grape:"#cccccc",mandarin:"#b3b3b3",gray:"#999999"}:{midnight:"#0d233f",forrest:"#135560",grape:"#721e63",mandarin:"#ffb11d",gray:"#dadada"}}function x(e){var n=e.variant;return(0,b.jsx)("svg",{viewBox:"0 0 175 175",children:(0,b.jsx)(w,{variant:n})})}function Z(e){var n=e.variant;return(0,b.jsxs)("svg",{viewBox:"0 0 641 175",children:[(0,b.jsx)(k,{variant:n}),(0,b.jsx)(w,{variant:n})]})}function w(e){var n=y(e.variant);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("path",{style:{fill:n.midnight},d:"M120.5,57.5c.168,0,.333.012.5.013V40.506c-.167,0-.333-.006-.5-.006a98.325,98.325,0,0,0-77.4,37.565q-2.664,3.378-5.023,6.994l14.206,9.327Q54.043,91.709,56,89.179A81.363,81.363,0,0,1,120.5,57.5Z"}),(0,b.jsx)("path",{style:{fill:n.forrest},d:"M148.668,86.223c.308.133.6.283.908.42l6.746-15.618c-.153-.067-.3-.143-.454-.21a81.36,81.36,0,0,0-71.777,3.5q-2.8,1.544-5.469,3.309l9.249,14.054A63.93,63.93,0,0,1,148.668,86.223Z"}),(0,b.jsx)("path",{style:{fill:n.grape},d:"M170.894,109.37A63.929,63.929,0,0,0,113.4,88.861l2.336,15.474a48.456,48.456,0,0,1,44.322,15.42c.111.125.214.255.324.381l11.16-10C171.323,109.879,171.118,109.62,170.894,109.37Z"}),(0,b.jsx)("path",{style:{fill:n.mandarin},d:"M150.921,150.314c.04.163.07.326.107.489l16.509-4.058c-.039-.163-.067-.326-.107-.489A48.457,48.457,0,0,0,135.575,111.8l-5.515,15.591A32.466,32.466,0,0,1,150.921,150.314Z"}),(0,b.jsx)("path",{style:{fill:n.gray},d:"M134.1,138.129l-9.779,13.213a32.486,32.486,0,0,1,7.823,14.463l15.147.852c.012-.166.032-.331.041-.5A32.464,32.464,0,0,0,134.1,138.129Z"})]})}function k(e){var n=y(e.variant);return(0,b.jsxs)("g",{"aria-label":"JBrowse",transform:"translate(213.084 144.241)",style:{fill:n.midnight},children:[(0,b.jsx)("path",{d:"m 26.355,-71.505 v 54.075 2.835 q 0,6.825 -0.42,10.185 -0.735,5.67 -2.835,9.135 -3.255,5.355 -8.505,8.4 -4.83,2.73 -11.55,3.57 L 1.47,11.76 Q 7.35,10.185 9.24,4.2 10.605,-0.105 10.605,-9.975 v -5.565 -55.965 q 1.785,0 4.62,0.315 2.835,0.21 3.255,0.21 1.785,0 2.94,-0.105 4.515,-0.42 4.935,-0.42 z"}),(0,b.jsx)("path",{d:"m 60.68836,-65.415 v 24.78 h 3.255 q 2.94,0 4.935,-0.525 2.1,-0.525 3.885,-2.1 2.31,-1.995 3.36,-4.83 1.155,-2.835 1.155,-6.09 0,-5.565 -2.94,-8.61 -2.94,-3.045 -8.295,-3.045 -2.52,0 -5.355,0.42 z m 0,30.87 V -6.09 h 5.25 q 4.725,0 8.505,-3.675 3.885,-3.78 3.885,-10.08 0,-8.19 -4.62,-11.655 -4.095,-3.045 -13.02,-3.045 z M 44.93836,0 v -71.505 h 27.09 q 9.135,0 14.385,3.255 6.51,3.99 6.51,12.6 0,7.035 -5.25,11.655 -4.62,4.095 -11.97,5.145 v 0.945 q 7.56,0.735 12.285,3.99 6.615,4.62 6.615,13.335 0,10.185 -7.98,15.75 -6.93,4.83 -17.43,4.83 z"}),(0,b.jsx)("path",{d:"M 109.44281,0.525 V -50.4 q 1.785,0.21 3.99,0.42 2.31,0.105 3.255,0.105 2.31,0 4.2,-0.21 1.89,-0.21 3.045,-0.315 v 13.02 q 1.89,-6.51 5.46,-9.87 4.41,-4.095 11.655,-4.095 -0.315,2.73 -0.42,6.825 -0.105,3.99 -0.105,7.455 l -0.945,0.84 q -0.945,-0.735 -2.415,-1.05 -1.47,-0.315 -2.94,-0.315 -3.57,0 -6.195,1.89 -2.52,1.785 -3.465,5.04 -0.42,1.155 -0.525,3.15 -0.105,1.89 -0.105,4.515 v 4.515 19.005 q -1.785,-0.21 -2.625,-0.21 -3.675,-0.315 -4.62,-0.315 -2.31,0 -4.2,0.21 -1.89,0.21 -3.045,0.315 z"}),(0,b.jsx)("path",{d:"m 173.77337,1.47 q -11.655,0 -18.585,-6.825 -6.93,-6.825 -6.93,-18.48 0,-12.6 6.72,-20.055 6.825,-7.455 18.9,-7.455 11.97,0 18.9,6.72 6.93,6.72 6.93,18.48 0,12.285 -6.72,19.74 -7.14,7.875 -19.215,7.875 z m 0.735,-48.09 q -5.88,0 -8.505,6.51 -2.205,5.565 -2.205,15.96 0,8.19 1.47,12.915 2.415,7.98 8.505,7.98 5.565,0 8.19,-7.875 2.205,-6.51 2.205,-16.695 0,-8.505 -2.1,-13.23 -2.52,-5.565 -7.56,-5.565 z"}),(0,b.jsx)("path",{d:"m 222.03563,-50.4 10.5,36.015 q 3.675,-11.235 5.67,-17.85 2.415,-8.085 5.04,-18.165 1.05,0.105 3.045,0.315 2.1,0.21 2.835,0.21 1.995,0 3.15,-0.105 1.26,-0.21 2.73,-0.42 l 10.71,36.015 q 5.88,-17.43 10.71,-36.015 l 4.2,0.315 4.095,-0.315 q -5.145,13.125 -9.135,24.57 -5.04,14.28 -8.505,26.355 -1.89,-0.21 -3.36,-0.42 -1.365,-0.105 -2.205,-0.105 -1.89,0 -3.36,0.21 -1.365,0.21 -2.31,0.315 l -10.605,-34.755 q -4.41,13.65 -6.72,21.105 -2.31,7.35 -4.095,13.65 -1.89,-0.21 -3.36,-0.42 -1.365,-0.105 -2.31,-0.105 -1.995,0 -3.465,0.21 -1.365,0.21 -2.31,0.315 -3.78,-12.81 -5.04,-17.01 -2.205,-7.245 -5.46,-17.01 -2.835,-8.4 -5.88,-16.905 1.575,0 4.305,0.315 2.73,0.21 3.36,0.21 1.47,0 4.305,-0.21 2.835,-0.315 3.465,-0.315 z"}),(0,b.jsx)("path",{d:"m 292.84172,-12.81 h 2.625 q 1.47,4.095 4.62,6.51 3.15,2.415 7.35,2.415 2.94,0 5.46,-1.785 2.625,-1.89 2.625,-4.62 0,-3.885 -6.195,-6.615 -10.395,-4.62 -11.655,-5.46 -6.405,-4.515 -6.405,-12.285 0,-7.77 5.25,-12.18 5.25,-4.515 12.81,-4.515 3.99,0 8.085,1.365 4.095,1.26 7.14,3.57 l -2.52,9.24 h -2.94 q -0.63,-3.57 -3.57,-6.195 -2.835,-2.625 -6.405,-2.625 -3.15,0 -5.46,1.575 -2.31,1.47 -2.31,4.515 0,3.885 6.405,6.51 10.185,4.095 11.865,5.25 6.405,4.41 6.405,12.81 0,7.455 -5.46,12.18 -5.355,4.62 -14.805,4.62 -8.19,0 -14.49,-4.305 z"}),(0,b.jsx)("path",{d:"m 349.61228,-29.925 h 15.54 q 0,-6.51 -1.05,-10.395 -1.68,-6.3 -5.88,-6.3 -5.04,0 -7.14,6.195 -1.47,4.305 -1.47,10.5 z m 30.03,5.04 h -30.03 q 0,9.135 3.045,13.86 3.57,5.67 11.55,5.67 3.255,0 6.405,-1.26 3.15,-1.26 5.88,-3.465 l 1.26,0.945 -2.31,5.88 q -6.72,4.725 -15.015,4.725 -12.915,0 -19.635,-7.245 -6.72,-7.245 -6.72,-20.37 0,-11.235 6.405,-18.165 6.51,-7.035 17.64,-7.035 11.655,0 16.905,7.56 4.62,6.615 4.62,18.9 z"})]})}var j=t(43971),T=t(96234),C=t(98054),S=t(78263),M=t(71078),E=t(72988),P=t(37910),I=t(64229),A=t(5792),R=t(96565),L=t(50129),z=t(43912),O=t(91188),B=t(8019),D=t(69029),N=t(4782),F=t(63680),q=t(99836),H=t(86106),J=t(69486),W=t(66379),U=t(20893),_=t(35130),V=t(7947),G=t(8861),K=(0,O.ZL)()((function(e){return{root:{fontFamily:"Roboto",display:"grid",height:"100vh",width:"100%"},fabLeft:{zIndex:1e4,position:"fixed",bottom:e.spacing(2),left:e.spacing(2)},fabRight:{zIndex:1e4,position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},menuBarAndComponents:{gridColumn:"main",display:"grid",gridTemplateRows:"[menubar] min-content [components] auto",height:"100vh"},menuBar:{gridRow:"menubar"},components:{overflowY:"auto",gridRow:"components"},appBar:{flexGrow:1},grow:{flexGrow:1},inputBase:{color:e.palette.primary.contrastText},inputRoot:{"&:hover":{backgroundColor:e.palette.primary.light}},inputFocused:{borderColor:e.palette.secondary.main,backgroundColor:e.palette.primary.light},selectPaper:{padding:e.spacing(4)}}})),X=(0,N.observer)((function(e){var n=e.session.configuration,t=(0,q.readConfObject)(n,"logoPath");return null!==t&&void 0!==t&&t.uri?(0,b.jsx)("img",{src:t.uri,alt:"Custom logo"}):(0,b.jsx)(Z,{variant:"white"})})),Y=(0,N.observer)((function(e){var n=e.session,t=e.HeaderButtons,r=void 0===t?(0,b.jsx)("div",{}):t,i=K().classes,o=n.savedSessionNames,a=n.name,u=n.menus;return(0,b.jsxs)(C.Z,{children:[u.map((function(e){return(0,b.jsx)(J.Z,{menuTitle:e.label,menuItems:e.menuItems,session:n},e.label)})),(0,b.jsx)("div",{className:i.grow}),(0,b.jsx)(S.Z,{title:"Rename Session",arrow:!0,children:(0,b.jsx)(_.Z,{value:a,setValue:function(e){null!==o&&void 0!==o&&o.includes(e)?n.notify('Cannot rename session to "'.concat(e,'", a saved session with that name already exists'),"warning"):n.renameCurrentSession(e)},variant:"body1",classes:{inputBase:i.inputBase,inputRoot:i.inputRoot,inputFocused:i.inputFocused}})}),r,(0,b.jsx)("div",{className:i.grow}),(0,b.jsx)("div",{style:{width:150,maxHeight:48},children:(0,b.jsx)(X,{session:n})})]})})),$=(0,N.observer)((function(e){var n,t=e.session,r=K().classes,i=(0,F.getEnv)(t).pluginManager.getElementTypeRecord("view").all(),o=(0,g.useState)(null===(n=i[0])||void 0===n?void 0:n.name),a=(0,T.Z)(o,2),u=a[0],c=a[1];return(0,b.jsxs)(M.Z,{className:r.selectPaper,children:[(0,b.jsx)(E.Z,{children:"Select a view to launch"}),(0,b.jsx)(P.Z,{style:{margin:2},children:(0,b.jsx)(I.Z,{value:u,onChange:function(e){return c(e.target.value)},children:i.map((function(e){var n=e.name;return(0,b.jsx)(A.Z,{value:n,children:n},n)}))})}),(0,b.jsx)(P.Z,{style:{margin:2},children:(0,b.jsx)(R.Z,{onClick:function(){return t.addView(u,{})},variant:"contained",color:"primary",children:"Launch view"})})]})})),Q=(0,N.observer)((function(e){var n=e.view,t=e.session,r=(0,F.getEnv)(t).pluginManager,i=r.getViewType(n.type);if(!i)throw new Error("unknown view type ".concat(n.type));var o=i.ReactComponent;return(0,b.jsx)(G.Z,{view:n,onClose:function(){return t.removeView(n)},onMinimize:function(){return n.setMinimized(!n.minimized)},children:!n.minimized&&(0,b.jsx)(D.ErrorBoundary,{FallbackComponent:function(e){var n=e.error;return(0,b.jsx)(W.default,{error:n})},children:(0,b.jsx)(g.Suspense,{fallback:(0,b.jsx)(U.Z,{}),children:(0,b.jsx)(o,{model:n,session:t,getTrackType:r.getTrackType})})})})})),ee=(0,N.observer)((function(e){var n,t,i=e.session,o=K().classes,a=i.minimized,u=i.visibleWidget,c=i.drawerWidth,s=i.activeWidgets,l=i.views,d=i.drawerPosition,f=u&&!a;return"right"===d?t=["[main] 1fr",f?"[drawer] ".concat(c,"px"):void 0]:"left"===d&&(t=[f?"[drawer] ".concat(c,"px"):void 0,"[main] 1fr"]),(0,b.jsxs)("div",{className:o.root,style:{gridTemplateColumns:null===(n=t)||void 0===n?void 0:n.filter((function(e){return!!e})).join(" ")},children:[f&&"left"===d?(0,b.jsx)(H.Z,{session:i}):null,i.DialogComponent?(0,b.jsx)(g.Suspense,{fallback:(0,b.jsx)("div",{}),children:(0,b.jsx)(i.DialogComponent,(0,r.Z)({},i.DialogProps))}):null,(0,b.jsxs)("div",{className:o.menuBarAndComponents,children:[(0,b.jsx)("div",{className:o.menuBar,children:(0,b.jsx)(L.Z,{className:o.appBar,position:"static",children:(0,b.jsx)(Y,(0,r.Z)({},e))})}),(0,b.jsxs)("div",{className:o.components,children:[l.length?l.map((function(e){return(0,b.jsx)(Q,{view:e,session:i},"view-".concat(e.id))})):(0,b.jsx)($,(0,r.Z)({},e)),(0,b.jsx)("div",{style:{height:300}})]})]}),s.size>0&&a?(0,b.jsx)(S.Z,{title:"Open drawer widget",children:(0,b.jsx)(z.Z,{className:"right"===d?o.fabRight:o.fabLeft,color:"primary","data-testid":"drawer-maximize",onClick:function(){return i.showWidgetDrawer()},children:(0,b.jsx)(B.Z,{})})}):null,f&&"right"===d?(0,b.jsx)(H.Z,{session:i}):null,(0,b.jsx)(V.Z,{session:i})]})})),ne=t(88117),te=t(18726);var re=(0,N.observer)((function(e){var n=e.model,t=e.handleClose;return(0,b.jsxs)(j.Z,{maxWidth:"xl",open:!0,onClose:t,title:"Reference sequence",children:[(0,b.jsx)(ne.Z,{children:(0,b.jsx)(E.Z,{children:"Are you sure you want to return to the import form? This will lose your current view"})}),(0,b.jsxs)(te.Z,{children:[(0,b.jsx)(R.Z,{onClick:function(){n.clearView(),t()},variant:"contained",color:"primary",autoFocus:!0,children:"OK"}),(0,b.jsx)(R.Z,{onClick:function(){return t()},color:"secondary",variant:"contained",children:"Cancel"})]})]})})),ie=t(78884),oe=t(68079),ae=t(59740),ue=t(41960),ce=t(62190),se=t(10204),le=t(96375),de=t(27838),fe=t(28581),pe=t(73),he=t(50811),me=t(58865),ve=t(74859),ge=["title","children"];function be(e){var n=e.title,t=e.children,i=(0,ae.Z)(e,ge);return(0,b.jsx)(S.Z,{title:n||"",children:(0,b.jsx)(ue.Z,(0,r.Z)((0,r.Z)({},i),{},{children:t}))})}function ye(e,n){return"string"===typeof e&&e.length>n?"".concat(e.substring(0,n),"\u2026"):e}var xe=(0,N.observer)((function(e){var n=e.location,t=e.name,i=e.description,o=e.rootModel,a=e.setLocation,u=!n||(0,pe.hb)(n)?"url":"file",c=(0,g.useState)(n&&"internetAccountId"in n&&n.internetAccountId?n.internetAccountId:u),s=(0,T.Z)(c,2),l=s[0],d=s[1],f=(0,pe.dc)(o)?o.internetAccounts.slice():[],p=(0,g.useState)(f.slice(0,2)),h=(0,T.Z)(p,2),m=h[0],v=h[1],y=(0,g.useState)(f.slice(2)),x=(0,T.Z)(y,2),Z=x[0],w=x[1],k=(0,g.useState)(null),j=(0,T.Z)(k,2),C=j[0],S=j[1],M=f.find((function(e){return e.internetAccountId===l})),E=function(e){a((0,r.Z)((0,r.Z)({},e),{},{internetAccountId:M?M.internetAccountId:void 0}))};n&&M&&(0,pe.hb)(n)&&n.internetAccountId!==M.internetAccountId&&E(n);var P=(0,b.jsx)(me.Z,(0,r.Z)((0,r.Z)({},e),{},{setLocation:E,label:null===M||void 0===M?void 0:M.selectorLabel}));if("file"===l&&(P=(0,b.jsx)(he.Z,(0,r.Z)({},e))),null!==M&&void 0!==M&&M.SelectorComponent){var I=M.SelectorComponent;P=(0,b.jsx)(I,(0,r.Z)((0,r.Z)({},e),{},{setLocation:E}))}return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ce.Z,{display:"flex",children:(0,b.jsx)(se.Z,{shrink:!0,children:t})}),(0,b.jsx)(ce.Z,{display:"flex",flexDirection:"row",children:(0,b.jsxs)(ce.Z,{children:[(0,b.jsxs)(le.Z,{value:l,exclusive:!0,onChange:function(e,t){t&&d(t),(0,pe.hb)(n)&&E(n)},"aria-label":"file, url, or account picker",children:[new URLSearchParams(window.location.search).get("adminKey")?null:(0,b.jsx)(ue.Z,{value:"file","aria-label":"local file",children:"File"}),(0,b.jsx)(ue.Z,{value:"url","aria-label":"url",children:"URL"}),m.map((function(e){var n=e.internetAccountId,t=e.toggleContents,r=e.name;return(0,b.jsx)(be,{value:n,"aria-label":r,title:r,children:"string"===typeof t?ye(t,5):t||ye(r,5)},n)})),Z.length?(0,b.jsxs)(ue.Z,{onClick:function(e){return S(e.target)},selected:!1,children:["More",(0,b.jsx)(ve.Z,{})]}):null]}),(0,b.jsx)(de.Z,{open:Boolean(C),anchorEl:C,onClose:function(){return S(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:null===Z||void 0===Z?void 0:Z.map((function(e,n){return(0,b.jsx)(A.Z,{value:e.internetAccountId,onClick:function(){var t=m[m.length-1];v([].concat((0,oe.Z)(m.slice(0,m.length-1)),[e])),w([t].concat((0,oe.Z)(Z.slice(0,n)),(0,oe.Z)(Z.slice(n+1)))),d(e.internetAccountId),S(null)},children:e.name},e.internetAccountId)}))})]})}),P,(0,b.jsx)(fe.Z,{children:i})]})})),Ze=t(15446);function we(e){var n=e.width,t=e.height,i=e.highResolutionScaling,o=e.style,a=e.imageData,u=e.blockKey,c=e.showSoftClip,s=(0,g.useState)(!1),l=(0,T.Z)(s,2),d=l[0],f=l[1],p=(0,g.useRef)(null);(0,g.useEffect)((function(){if(a){var e=p.current;if(e){var n=e.getContext("2d");n&&((0,Ze.kv)(a,n),f(!0))}}}),[a]);var h=u?"_"+u:"",m="prerendered_canvas".concat(c?"_softclipped":"").concat(h).concat(d?"_done":"");return(0,b.jsx)("canvas",{"data-testid":m,ref:p,width:n*i,height:t*i,style:(0,r.Z)({width:n,height:t},o)})}we.defaultProps={imageData:void 0,highResolutionScaling:1,style:{}};var ke=we,je=t(54896),Te=t(97342),Ce=(0,O.ZL)()({hoverLabel:{border:"1px solid black",position:"absolute",background:"#fffa",pointerEvents:"none",zIndex:1e4}}),Se=(0,N.observer)((function(e){var n=e.offsetX,t=e.offsetY,r=e.configuration,i=e.feature,o=e.timeout,a=void 0===o?300:o,u=Ce().classes,c=(0,g.useState)(!1),s=(0,T.Z)(c,2),l=s[0],d=s[1];if((0,g.useEffect)((function(){var e=setTimeout((function(){return d(!0)}),a);return function(){return clearTimeout(e)}})),i&&l){var f=(0,q.readConfObject)(r,"mouseover",{feature:i});return(0,b.jsx)("div",{className:u.hoverLabel,style:{left:n,top:t},children:f})}return null})),Me=t(90264),Ee=t(41590),Pe=t(46751),Ie=t(1599),Ae=t.n(Ie),Re=t(57244),Le=t.n(Re),ze=!1,Oe=new RegExp(["a","b","br","code","div","em","h1","h2","h3","h4","h5","h6","i","img","li","p","pre","span","small","strong","table","tbody","td","tfoot","th","thead","tr","u","ul"].map((function(e){return"<".concat(e,"\\b[^>]*>")})).join("|"),"i");function Be(e){var n,t=e.html,r=(n=t,Oe.test(n)?t:Ae()(t));return ze||(ze=!0,Le().addHook("afterSanitizeAttributes",(function(e){"A"===e.tagName&&(e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"))}))),(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:Le().sanitize(r)}})}},78950:function(e,n,t){"use strict";t.d(n,{ML:function(){return m},N7:function(){return b},O8:function(){return p},fP:function(){return g},zF:function(){return y}});var r=t(32723),i=t(34795),o=t(87371),a=t(9249),u=t(45754),c=t(13820),s=t(30364),l=t(47215),d=t(71855),f=function(e){(0,u.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).code=void 0,e}return(0,o.Z)(t)}((0,s.Z)(Error));function p(e){if(e){if(!(e instanceof AbortSignal))throw new TypeError("must pass an AbortSignal");if(e.aborted)throw g()}}function h(e){return new Promise((function(n){return setTimeout(n,e)}))}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(1);case 2:p(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){if("undefined"!==typeof DOMException)return new DOMException("aborted","AbortError");var e=new f("aborted");return e.code="ERR_ABORTED",e}function b(e){return e?(0,d.R)(e,"abort"):l.y.create()}function y(e){return e instanceof Error&&("AbortError"===e.name||"ERR_ABORTED"===e.code||!!e.message.match(/\b(aborted|AbortError)\b/i))}},15446:function(e,n,t){"use strict";t.d(n,{Ck:function(){return o},MC:function(){return i},kv:function(){return d},vL:function(){return r}});var r,i,o,a=t(32723),u=t(34795),c=t(19522),s=t.n(c),l=t(31910);function d(e,n){e.serializedCommands?new l.CanvasSequence(e.serializedCommands).execute(n):n.drawImage(e,0,0)}var f="function"===typeof OffscreenCanvas,p=s();f?(r=function(e,n){return new OffscreenCanvas(e,n)},i=window.createImageBitmap||self.createImageBitmap,o=window.ImageBitmap||self.ImageBitmap):p?(r=function(){return nodeCreateCanvas.apply(void 0,arguments)},i=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(n){var t,r,i=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.length<=1||!(i.length-1)){e.next=2;break}throw new Error("only one-argument uses of createImageBitmap are supported by the node offscreencanvas ponyfill");case 2:return t=n.toDataURL(),r=new nodeImage,e.abrupt("return",new Promise((function(e,n){r.onload=function(){return e(r)},r.onerror=n,r.src=t})));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()):(r=function(e,n){var t=new l.CanvasSequence;return{width:e,height:n,getContext:function(){return t}}},i=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.getContext("2d"),e.abrupt("return",{height:n.height,width:n.width,serializedCommands:t.toJSON(),containsNoTransferables:!0});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),o=String)},31440:function(e,n,t){"use strict";t.d(n,{C:function(){return l}});var r=t(32723),i=t(33028),o=t(34795),a=(t(96902),t(31910)),u=t(15446),c=t(27664),s=t(29938);function l(e,n,t,r){return d.apply(this,arguments)}function d(){return(d=(0,o.Z)((0,r.Z)().mark((function e(n,t,o,l){var d,f,p,h,m,v,g,b,y,x,Z,w;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=o.exportSVG,f=o.highResolutionScaling,p=void 0===f?1:f,!d){e.next=43;break}if(d.rasterizeLayers){e.next=10;break}return h=new a.CanvasSequence,e.next=6,l(h);case 6:return m=e.sent,e.abrupt("return",(0,i.Z)((0,i.Z)({},m),{},{canvasRecordedData:h.toJSON()}));case 10:if(v=4,g=(0,u.vL)(Math.ceil(n*v),t*v),b=g.getContext("2d")){e.next=15;break}throw new Error("2d canvas rendering not supported on this platform");case 15:return b.scale(v,v),e.next=18,l(b);case 18:if(y=e.sent,e.t0=i.Z,e.t1=(0,i.Z)({},y),e.t2={},e.t3=s.jsx,e.t4=n,e.t5=t,!("convertToBlob"in g)){e.next=35;break}return e.t7=c.blobToDataURL,e.next=29,g.convertToBlob({type:"image/png"});case 29:return e.t8=e.sent,e.next=32,(0,e.t7)(e.t8);case 32:e.t6=e.sent,e.next=36;break;case 35:e.t6=g.toDataURL();case 36:return e.t9=e.t6,e.t10={width:e.t4,height:e.t5,xlinkHref:e.t9},e.t11=(0,e.t3)("image",e.t10),e.t12={reactElement:e.t11},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t12));case 41:e.next=59;break;case 43:if(x=(0,u.vL)(Math.ceil(n*p),t*p),Z=x.getContext("2d")){e.next=47;break}throw new Error("2d canvas rendering not supported on this platform");case 47:return Z.scale(p,p),e.next=50,l(Z);case 50:return w=e.sent,e.t13=i.Z,e.t14=(0,i.Z)({},w),e.t15={},e.next=56,(0,u.MC)(x);case 56:return e.t16=e.sent,e.t17={imageData:e.t16},e.abrupt("return",(0,e.t13)(e.t14,e.t15,e.t17));case 59:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},73:function(e,n,t){"use strict";t.d(n,{At:function(){return k},BQ:function(){return l},J0:function(){return j},Ms:function(){return S},PK:function(){return M},Um:function(){return Z},Z6:function(){return E},_L:function(){return p},cX:function(){return f},d6:function(){return y},dc:function(){return w},gC:function(){return m},gI:function(){return h},hb:function(){return T},k$:function(){return d},uF:function(){return v},yZ:function(){return x},yb:function(){return C},zL:function(){return g},zN:function(){return b}});var r=t(87371),i=t(9249),o=t(80753),a=t(45754),u=t(13820),c=t(30364),s=t(63680);function l(e){return(0,s.isStateTreeNode)(e)&&"removeView"in e&&"addView"in e&&"views"in e}function d(e){return"object"===typeof e&&null!==e&&"rpcManager"in e&&"configuration"in e}function f(e){return d(e)&&"editConfiguration"in e}function p(e){return d(e)&&"addTrackConf"in e&&!e.disableAddTracks}function h(e){return d(e)&&"widgets"in e}function m(e){return d(e)&&"addConnectionConf"in e}function v(e){return d(e)&&"sessionPlugins"in e}function g(e){return"object"===typeof e&&null!==e&&"selection"in e&&"setSelection"in e}function b(e){return"object"===typeof e&&null!==e&&"width"in e&&"setWidth"in e}function y(e){return"object"===typeof e&&null!==e&&"configuration"in e&&e.configuration.trackId}function x(e){return"object"===typeof e&&null!==e&&"configuration"in e&&e.configuration.displayId}function Z(e){return"object"===typeof e&&null!==e&&"showTrack"in e&&"hideTrack"in e}function w(e){return"object"===typeof e&&null!==e&&"isAssemblyEditing"in e&&"findAppropriateInternetAccount"in e}function k(e){return"object"===typeof e&&null!==e&&"internetAccounts"in e&&"findAppropriateInternetAccount"in e}function j(e){return"object"===typeof e&&null!==e&&"appendMenu"in e&&"appendToSubMenu"in e}function T(e){return"object"===typeof e&&null!==e&&"uri"in e}var C=function(e){(0,a.Z)(t,e);var n=(0,u.Z)(t);function t(e,r){var a;return(0,i.Z)(this,t),(a=n.call(this,e)).message=e,a.url=r,a.name="AuthNeededError",Object.setPrototypeOf((0,o.Z)(a),t.prototype),a}return(0,r.Z)(t)}((0,c.Z)(Error)),S=function(e){(0,a.Z)(t,e);var n=(0,u.Z)(t);function t(e,r){var o;return(0,i.Z)(this,t),(o=n.call(this,e)).message=e,o.internetAccountId=r,o.name="RetryError",o}return(0,r.Z)(t)}((0,c.Z)(Error));function M(e){return e instanceof Error&&("AuthNeededError"===e.name||void 0!==e.url)}function E(e){return"RetryError"===e.name||void 0!==e.internetAccountId}},67813:function(e,n,t){"use strict";t.d(n,{g:function(){return u},q:function(){return c}});var r=t(32723),i=t(34795),o=t(75717),a=t(78950);function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.timeout,r=n.signal,i=n.name;return new Promise((function(n,u){var c,s=!1,l=(0,o.when)(e),d=function(){};t&&(c=setTimeout((function(){s||(s=!0,l.cancel(),u(new Error("timed out waiting for ".concat(i||"whenPresent"))))}),t),d=function(){return c&&clearTimeout(c)}),r&&r.addEventListener("abort",(function(){s||(s=!0,l.cancel(),d(),u((0,a.fP)()))})),l.then((function(){s||(s=!0,d(),n(!0))})).catch((function(e){s||(s=!0,d(),u(e))}))}))}function c(e){return s.apply(this,arguments)}function s(){return s=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,u((function(){var e=n();return void 0!==e&&null!==e}),t);case 3:return e.abrupt("return",n());case 4:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}},25986:function(e,n,t){"use strict";var r=t(32723),i=t(68079),o=t(33028),a=t(34795),u=(t(419),t(93375)),c=t(62315),s=t(41361),l=t(96234),d=t(9249),f=t(87371),p=t(63680),h=t(57173),m=t(5868),v=t(55385),g=t(95984),b=t(65317),y=t(26347),x=t(73561),Z=t(42273),w=t(7857),k=t(28204),j=t(6769),T=t(99836),C=t(20167),S=t(5268),M=t(47901),E=function(){function e(){(0,d.Z)(this,e),this.phaseCallbacks=new Map,this.phaseOrder=[];for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];this.phaseOrder=t}return(0,f.Z)(e,[{key:"add",value:function(e,n){if(!this.phaseOrder.includes(e))throw new Error("unknown phase ".concat(e));var t=this.phaseCallbacks.get(e);t||(t=[],this.phaseCallbacks.set(e,t)),t.push(n)}},{key:"run",value:function(){var e=this;this.phaseOrder.forEach((function(n){var t;null===(t=e.phaseCallbacks.get(n))||void 0===t||t.forEach((function(e){return e()}))}))}}]),e}(),P=function(){function e(n,t){(0,d.Z)(this,e),this.typeName=n,this.baseClass=t,this.registeredTypes={}}return(0,f.Z)(e,[{key:"add",value:function(e,n){this.registeredTypes[e]=n}},{key:"has",value:function(e){return e in this.registeredTypes}},{key:"get",value:function(e){if(!this.has(e))throw new Error("".concat(this.typeName," '").concat(e,"' not found, perhaps its plugin is not loaded or its plugin has not added it."));return this.registeredTypes[e]}},{key:"all",value:function(){return Object.values(this.registeredTypes)}}]),e}(),I=function(){function e(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,d.Z)(this,e),this.plugins=[],this.jexl=(0,M.Z)(),this.pluginMetadata={},this.runtimePluginDefinitions=[],this.elementCreationSchedule=new E("renderer","adapter","text search adapter","display","track","connection","view","widget","rpc method","internet account","add track workflow"),this.rendererTypes=new P("RendererType",h.default),this.adapterTypes=new P("AdapterType",m.Z),this.textSearchAdapterTypes=new P("TextSearchAdapterType",k.Z),this.trackTypes=new P("TrackType",v.Z),this.displayTypes=new P("DisplayType",g.Z),this.connectionTypes=new P("ConnectionType",x.Z),this.viewTypes=new P("ViewType",b.Z),this.widgetTypes=new P("WidgetType",y.Z),this.rpcMethods=new P("RpcMethodType",Z.Z),this.addTrackWidgets=new P("AddTrackWorkflow",j.Z),this.internetAccountTypes=new P("InternetAccountType",w.Z),this.configured=!1,this.rootModel=void 0,this.extensionPoints=new Map,this.jbrequireCache=new Map,this.lib=C.Z,this.load=function(e){return n.jbrequireCache.has(e)||n.jbrequireCache.set(e,e(n)),n.jbrequireCache.get(e)},this.jbrequire=function(e){if("string"===typeof e){var t=n.lib[e];if(!t)throw new TypeError("No jbrequire re-export defined for package '".concat(e,"'. If this package must be shared between plugins, add it to ReExports.js. If it does not need to be shared, just import it normally."));return t}if("function"===typeof e)return n.load(e);if(e.default)return n.jbrequire(e.default);throw new TypeError("lib passed to jbrequire must be either a string or a function")},this.addPlugin({plugin:new S.Z,metadata:{isCore:!0}}),t.forEach((function(e){n.addPlugin(e)}))}return(0,f.Z)(e,[{key:"pluginConfigurationSchemas",value:function(){var e={};return this.plugins.forEach((function(n){n.configurationSchema&&(e[n.name]=n.configurationSchema)})),e}},{key:"addPlugin",value:function(e){if(this.configured)throw new Error("JBrowse already configured, cannot add plugins");var n="install"in e&&"configure"in e?[e,{}]:[e.plugin,e.metadata],t=(0,l.Z)(n,2),r=t[0],i=t[1],o=void 0===i?{}:i;if(this.plugins.includes(r))throw new Error("plugin already installed");return this.pluginMetadata[r.name]=o,"definition"in e&&this.runtimePluginDefinitions.push(e.definition),r.install(this),this.plugins.push(r),this}},{key:"getPlugin",value:function(e){return this.plugins.find((function(n){return n.name===e}))}},{key:"hasPlugin",value:function(e){return void 0!==this.getPlugin(e)}},{key:"createPluggableElements",value:function(){return this.elementCreationSchedule&&(this.elementCreationSchedule.run(),delete this.elementCreationSchedule),this}},{key:"setRootModel",value:function(e){this.rootModel=e}},{key:"configure",value:function(){var e=this;if(this.configured)throw new Error("already configured");return this.plugins.forEach((function(n){return n.configure(e)})),this.configured=!0,this}},{key:"getElementTypeRecord",value:function(e){switch(e){case"adapter":return this.adapterTypes;case"text search adapter":return this.textSearchAdapterTypes;case"connection":return this.connectionTypes;case"widget":return this.widgetTypes;case"renderer":return this.rendererTypes;case"display":return this.displayTypes;case"track":return this.trackTypes;case"view":return this.viewTypes;case"rpc method":return this.rpcMethods;case"internet account":return this.internetAccountTypes;case"add track workflow":return this.addTrackWidgets;default:throw new Error("invalid element type '".concat(e,"'"))}}},{key:"addElementType",value:function(e,n){var t,r=this;if("function"!==typeof n)throw new Error("must provide a callback function that returns the new type object");var i=this.getElementTypeRecord(e);return null===(t=this.elementCreationSchedule)||void 0===t||t.add(e,(function(){var t=n(r);if(!t.name)throw new Error("cannot add a ".concat(e," with no name"));if(i.has(t.name))throw new Error("".concat(e," ").concat(t.name," already registered, cannot register it again"));i.add(t.name,r.evaluateExtensionPoint("Core-extendPluggableElement",t))})),this}},{key:"getElementType",value:function(e,n){return this.getElementTypeRecord(e).get(n)}},{key:"getElementTypesInGroup",value:function(e){return this.getElementTypeRecord(e).all()}},{key:"getRpcElements",value:function(){return this.getElementTypesInGroup("rpc method")}},{key:"pluggableMstType",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.types.maybe(p.types.null),r=this.getElementTypeRecord(e).all().map((function(e){return e[n]})).filter((function(e){return(0,p.isType)(e)&&(0,p.isModelType)(e)}));return 0===r.length?(console.warn("No pluggable types found matching ('".concat(e,"','").concat(n,"')")),t):p.types.union.apply(p.types,(0,i.Z)(r))}},{key:"pluggableConfigSchemaType",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"configSchema",t=this.getElementTypeRecord(e).all().map((function(e){return e[n]})).filter((function(e){return(0,T.isBareConfigurationSchemaType)(e)}));return 0===t.length&&t.push((0,T.ConfigurationSchema)("Null",{})),p.types.union.apply(p.types,(0,i.Z)(t))}},{key:"getRendererType",value:function(e){return this.rendererTypes.get(e)}},{key:"getRendererTypes",value:function(){return this.rendererTypes.all()}},{key:"getAdapterType",value:function(e){return this.adapterTypes.get(e)}},{key:"getTextSearchAdapterType",value:function(e){return this.textSearchAdapterTypes.get(e)}},{key:"getTrackType",value:function(e){return this.trackTypes.get(e)}},{key:"getDisplayType",value:function(e){return this.displayTypes.get(e)}},{key:"getViewType",value:function(e){return this.viewTypes.get(e)}},{key:"getAddTrackWorkflow",value:function(e){return this.addTrackWidgets.get(e)}},{key:"getWidgetType",value:function(e){return this.widgetTypes.get(e)}},{key:"getConnectionType",value:function(e){return this.connectionTypes.get(e)}},{key:"getRpcMethodType",value:function(e){return this.rpcMethods.get(e)}},{key:"getInternetAccountType",value:function(e){return this.internetAccountTypes.get(e)}},{key:"addRendererType",value:function(e){return this.addElementType("renderer",e)}},{key:"addAdapterType",value:function(e){return this.addElementType("adapter",e)}},{key:"addTextSearchAdapterType",value:function(e){return this.addElementType("text search adapter",e)}},{key:"addTrackType",value:function(e){var n=this;return this.addElementType("track",(function(){var t=e(n);return n.getElementTypesInGroup("display").forEach((function(e){e.trackType!==t.name||t.displayTypes.includes(e)||t.addDisplayType(e)})),t}))}},{key:"addDisplayType",value:function(e){return this.addElementType("display",e)}},{key:"addViewType",value:function(e){var n=this;return this.addElementType("view",(function(){var t=e(n);return n.getElementTypesInGroup("display").forEach((function(e){e.viewType!==t.name&&e.viewType!==t.extendedName||t.displayTypes.includes(e)||t.addDisplayType(e)})),t}))}},{key:"addWidgetType",value:function(e){return this.addElementType("widget",e)}},{key:"addConnectionType",value:function(e){return this.addElementType("connection",e)}},{key:"addRpcMethod",value:function(e){return this.addElementType("rpc method",e)}},{key:"addInternetAccountType",value:function(e){return this.addElementType("internet account",e)}},{key:"addAddTrackWorkflowType",value:function(e){return this.addElementType("add track workflow",e)}},{key:"addToExtensionPoint",value:function(e,n){var t=this.extensionPoints.get(e);t||(t=[],this.extensionPoints.set(e,t)),t.push(n)}},{key:"evaluateExtensionPoint",value:function(e,n,t){var r=this.extensionPoints.get(e),i=n;if(r){var o,a=(0,s.Z)(r);try{for(a.s();!(o=a.n()).done;){var u=o.value;try{i=u(i,t)}catch(c){console.error(c)}}}catch(l){a.e(l)}finally{a.f()}}return i}},{key:"evaluateAsyncExtensionPoint",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t,i){var o,a,u,c,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.extensionPoints.get(n),a=t,!o){e.next=27;break}u=(0,s.Z)(o),e.prev=4,u.s();case 6:if((c=u.n()).done){e.next=19;break}return l=c.value,e.prev=8,e.next=11,l(a,i);case 11:a=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),console.error(e.t0);case 17:e.next=6;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(4),u.e(e.t1);case 24:return e.prev=24,u.f(),e.finish(24);case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}}),e,this,[[4,21,24,27],[8,14]])})));return function(n,t,r){return e.apply(this,arguments)}}()}]),e}(),A=t(95439),R=t(95694),L=t.n(R),z=t(27664);function O(e){return(void 0!==e.umdUrl||void 0!==e.url||void 0!==e.umdLoc)&&void 0!==e.name}function B(e){return void 0!==e.esmUrl||void 0!==e.esmLoc}function D(e){return void 0!==e.cjsUrl}function N(){return"object"===typeof self&&self.self===self&&self||"object"===typeof t.g&&t.g.global===t.g&&t.g||this}function F(e){return Boolean("WorkerGlobalScope"in e)}var q=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;(0,d.Z)(this,e),this.definitions=[],this.fetchESM=void 0,this.fetchCJS=void 0,this.fetchESM=null===t||void 0===t?void 0:t.fetchESM,this.fetchCJS=null===t||void 0===t?void 0:t.fetchCJS,this.definitions=JSON.parse(JSON.stringify(n))}return(0,f.Z)(e,[{key:"loadScript",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(t=N())){e.next=3;break}return e.abrupt("return",L()(n));case 3:if(null===t||void 0===t||!t.importScripts){e.next=7;break}return e.next=6,t.importScripts(n);case 6:return e.abrupt("return");case 7:throw new Error("cannot figure out how to load external JS scripts in this environment");case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"loadCJSPlugin",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("http:"===(i=new URL(n.cjsUrl,t)).protocol||"https:"===i.protocol){e.next=3;break}throw new Error('Cannot load plugins using protocol "'.concat(i.protocol,'"'));case 3:if(this.fetchCJS){e.next=5;break}throw new Error("No fetchCJS callback provided");case 5:return e.abrupt("return",this.fetchCJS(i.href));case 6:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"loadESMPlugin",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){var i,o,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("http:"===(o="esmUrl"in n?new URL(n.esmUrl,t):new URL(n.esmLoc.uri,n.esmLoc.baseUri)).protocol||"https:"===o.protocol){e.next=3;break}throw new Error('cannot load plugins using protocol "'.concat(o.protocol,'"'));case 3:return e.next=5,null===(i=this.fetchESM)||void 0===i?void 0:i.call(this,o.href);case 5:if(a=e.sent){e.next=8;break}throw new Error("Could not load ESM plugin: ".concat(o));case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"loadUMDPlugin",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){var i,o,a,u,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("http:"===(i="url"in n?new URL(n.url,t):"umdUrl"in n?new URL(n.umdUrl,t):new URL(n.umdLoc.uri,n.umdLoc.baseUri)).protocol||"https:"===i.protocol){e.next=3;break}throw new Error('cannot load plugins using protocol "'.concat(i.protocol,'"'));case 3:return e.next=5,this.loadScript(i.href);case 5:if(o=n.name,a="JBrowsePlugin".concat(o),u=N(),c=u[a]){e.next=11;break}throw new Error("Failed to load UMD bundle for ".concat(o,", ").concat(u.constructor.name,".").concat(a," is undefined"));case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"loadPlugin",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z.isElectron||!D(n)){e.next=6;break}return e.next=3,this.loadCJSPlugin(n,t);case 3:case 9:case 15:i=e.sent,e.next=23;break;case 6:if(!B(n)){e.next=12;break}return e.next=9,this.loadESMPlugin(n,t);case 12:if(!O(n)){e.next=18;break}return e.next=15,this.loadUMDPlugin(n,t);case 18:if(z.isElectron||!D(n)){e.next=22;break}throw new Error("CommonJS plugin found, but not in a NodeJS environment: ".concat(JSON.stringify(n)));case 22:throw new Error("Could not determine plugin type: ".concat(JSON.stringify(n)));case 23:return e.abrupt("return",i.default);case 24:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"installGlobalReExports",value:function(e){e.JBrowseExports=Object.fromEntries(Object.entries(C.Z).map((function(e){var n=(0,l.Z)(e,2);return[n[0],n[1]]})))}},{key:"load",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,t=this,i=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:"",e.abrupt("return",Promise.all(this.definitions.map(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadPlugin(i,n);case 2:return e.t0=e.sent,e.t1=i,e.abrupt("return",{plugin:e.t0,definition:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),H=t(96699),J=t(46713),W=t(44965),U=t(93799),_=t(91280),V=t(9206),G=t(29291),K=t(97620),X=t(45754),Y=t(13820),$=t(96902),Q=t(87977),ee=t(27681),ne=t(22820),te=t(69218),re=t(58167),ie=t(32979),oe=(0,$.lazy)((function(){return t.e(791).then(t.bind(t,40791))})),ae=(0,$.lazy)((function(){return t.e(869).then(t.bind(t,80869))})),ue=function(e){(0,X.Z)(r,e);var n=(0,Y.Z)(r);function r(){var e;(0,d.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).name="DataManagementPlugin",e.exports={AssemblyManager:ae,SetDefaultSession:oe},e}return(0,f.Z)(r,[{key:"install",value:function(e){e.addConnectionType((function(){return new x.Z({name:"UCSCTrackHubConnection",configSchema:ee.j,stateModel:(0,ee.u)(e),displayName:"UCSC Track Hub",description:"A track or assembly hub in the Track Hub format",url:"//genome.ucsc.edu/goldenPath/help/hgTrackHubHelp.html#Intro"})})),e.addWidgetType((function(){return new y.Z({name:"HierarchicalTrackSelectorWidget",heading:"Available tracks",configSchema:re.j,stateModel:(0,re.e)(e),ReactComponent:(0,$.lazy)((function(){return Promise.all([t.e(4916),t.e(9869),t.e(3)]).then(t.bind(t,70003))}))})})),e.addWidgetType((function(){return new y.Z({name:"AddTrackWidget",heading:"Add a track",configSchema:ne.j,stateModel:(0,ne.e)(e),ReactComponent:(0,$.lazy)((function(){return Promise.all([t.e(4222),t.e(806),t.e(9528)]).then(t.bind(t,39528))}))})})),e.addWidgetType((function(){return new y.Z({name:"AddConnectionWidget",heading:"Add a connection",configSchema:te.j,stateModel:te.e,ReactComponent:(0,$.lazy)((function(){return Promise.all([t.e(806),t.e(9589)]).then(t.bind(t,69589))}))})})),e.addWidgetType((function(){return new y.Z({name:"PluginStoreWidget",heading:"Plugin store",configSchema:ie.j,stateModel:(0,ie.e)(e),ReactComponent:(0,$.lazy)((function(){return Promise.all([t.e(9350),t.e(4222),t.e(8632)]).then(t.bind(t,28632))}))})}))}},{key:"configure",value:function(e){}}]),r}(Q.Z),ce=t(35245),se=t(58214),le=t(31951),de=t(14518),fe=t(22338),pe=t(2325),he=t(79999),me=t(36526),ve=t(26340),ge=t(65886),be=t(67109),ye=t(57482),xe=t(80425),Ze=t(80643),we=t(67903),ke=t(46323),je=t(2085),Te=t(49113),Ce=t(15578),Se=t(89782),Me=t(43568),Ee=[ye.ZP,fe.ZP,J.ZP,W.ZP,U.Z,V.ZP,G.ZP,ue,ce.Z,se.Z,le.Z,de.Z,pe.Z,he.Z,me.Z,ve.Z,ge.Z,be.Z,xe.Z,Ze.Z,we.ZP,ke.Z,je.Z,Te.Z,_.Z,Ce.Z,Se.Z,Me.Z,K.Z];function Pe(){var e=new Promise((function(e){self.addEventListener("message",(function n(t){"config"===t.data.message&&(e(t.data.config),removeEventListener("message",n))}))}));return postMessage({message:"readyForConfig"}),e}function Ie(){return(Ie=(0,a.Z)((0,r.Z)().mark((function e(){var n,t,o,a,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:return n=e.sent,(t=new q(n.plugins,{fetchESM:function(e){return import(e)}})).installGlobalReExports(self),e.next=7,t.load(n.windowHref);case 7:return o=e.sent,a=[].concat((0,i.Z)(Ee.map((function(e){return{plugin:e}}))),(0,i.Z)(o)),(u=new I(a.map((function(e){return new e.plugin})))).createPluggableElements(),u.configure(),e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.DT)(!0),function(){return Ie.apply(this,arguments)}().then((function(e){var n=Object.fromEntries(e.getRpcElements().map((function(e){return[e.name,(n=e.execute.bind(e),function(e){var t=e.channel,r=e.rpcDriverClassName;return n((0,o.Z)((0,o.Z)({},e),{},{statusCallback:function(e){self.rpcServer.emit(t,e)}}),r)})];var n})));self.rpcServer=new u.Z.Server((0,o.Z)((0,o.Z)((0,o.Z)({},n),(0,A.pm)()),{},{ping:function(){}})),postMessage({message:"ready"})})).catch((function(e){postMessage({message:"error",error:(0,H.serializeError)(e)})}))},419:function(){self.window={addEventListener:function(){},fetch:self.fetch.bind(self),location:self.location,Date:self.Date,requestIdleCallback:function(e){return e()},cancelIdleCallback:function(){},requestAnimationFrame:function(e){return e()},cancelAnimationFrame:function(){},navigator:{}},self.document={createTextNode:function(){},querySelector:function(){return{appendChild:function(){}}},documentElement:{},querySelectorAll:function(){return[]},createElement:function(){return{style:{},setAttribute:function(){},removeAttribute:function(){},appendChild:function(){}}}}},31158:function(){}},n={};function t(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}t.m=e,t.x=function(){var e=t.O(void 0,[1256,8139,6517],(function(){return t(25986)}));return e=t.O(e)},function(){var e=[];t.O=function(n,r,i,o){if(!r){var a=1/0;for(l=0;l<e.length;l++){r=e[l][0],i=e[l][1],o=e[l][2];for(var u=!0,c=0;c<r.length;c++)(!1&o||a>=o)&&Object.keys(t.O).every((function(e){return t.O[e](r[c])}))?r.splice(c--,1):(u=!1,o<a&&(a=o));if(u){e.splice(l--,1);var s=i();void 0!==s&&(n=s)}}return n}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,i,o]}}(),t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},function(){var e,n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};t.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);t.r(o);var a={};e=e||[null,n({}),n([]),n(n)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=n(u))Object.getOwnPropertyNames(u).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},t.d(o,a),o}}(),t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(n,r){return t.f[r](e,n),n}),[]))},t.u=function(e){return"static/js/"+e+"."+{3:"215b4a12",144:"409f8dfb",156:"c86837d9",206:"a886fe0a",298:"cf06cd85",351:"c44e4d05",397:"3c681e3a",477:"ef6d634b",549:"406a38e3",583:"37f3487d",590:"29a2d5a7",701:"e5f2369a",730:"78da061f",791:"96b6ec81",806:"ed5a76e4",816:"f794d8e1",822:"e2363fce",830:"3b9c873c",869:"4230555f",902:"5ffc6c2a",941:"609620c2",1013:"f75dce54",1094:"760d1a14",1222:"2001a3e1",1241:"9d13683a",1256:"b80a75b7",1280:"ca6bee0b",1288:"90f443bc",1294:"776af32e",1335:"ca3daa46",1343:"bc2ca23e",1406:"87c1e17b",1502:"3c746cc5",1522:"b9927878",1531:"6fc83930",1552:"876983a1",1658:"84ce3057",1762:"d56c5b3f",1776:"44a0e71e",1826:"2e17f0a7",1860:"6997095e",1914:"34848680",1916:"467a84bd",1923:"dc3c090f",1988:"1ec32d2a",2018:"c4171ff4",2094:"d721de28",2108:"7f854ab6",2142:"09f38597",2172:"42c92214",2210:"18bbe02f",2213:"79a1cdc9",2237:"5d29d02a",2243:"2cd33572",2287:"e65585ad",2310:"657610fb",2311:"23188eaa",2392:"b767e35e",2445:"c2bb4892",2456:"f5ffcbd8",2526:"5565243e",2598:"f932f4ff",2637:"7e736278",2657:"ba0a452e",2693:"25ec5b7b",2717:"f9f694a1",2720:"640a6385",2741:"b90f2c71",2800:"9075ab17",2931:"3ad88627",2939:"6a86e751",3016:"de11a721",3053:"440ae7a1",3207:"e2ed01cc",3241:"9e3166c4",3315:"1f3dd41a",3344:"eed7b53f",3383:"9fe04ed0",3417:"c30993f2",3429:"b0b7f796",3446:"723fedf0",3472:"a4e39d67",3499:"3225d936",3515:"68d59ea7",3635:"5dbb19ed",3668:"6c41faf6",3757:"9327c0cb",3764:"39357b94",3774:"bb59ba11",3821:"806fd802",3914:"03ff6f2e",3916:"162f38c2",3975:"357ab6fe",4021:"89340381",4033:"dff0c300",4044:"83d5c3e1",4055:"51571a06",4106:"ddf90d00",4170:"c9163cb2",4222:"f49f66fc",4274:"6fd8cfb6",4288:"16cb5701",4299:"5dd39561",4336:"77bf83fd",4362:"7cda3e6d",4375:"618b343d",4405:"f393c8de",4514:"f79960a2",4631:"ae7ae5e9",4681:"a31ec19c",4758:"ea1853d2",4782:"b028c043",4916:"8cc03c84",4928:"9e10e846",4947:"3726f9f7",5035:"36fe37ef",5048:"18a51398",5113:"7ff6f588",5213:"f542fc61",5240:"170f4edb",5335:"2b6fef8a",5393:"ebf5f662",5413:"4f40e43e",5432:"d148e9de",5477:"848140f9",5518:"f69f5d8e",5571:"c88d94fe",5597:"e8961bca",5707:"17b20c1a",5729:"370e2909",5898:"0b4eb3f2",5906:"c60269f1",5944:"1a9c2057",6073:"d4095bd1",6110:"c30cd8ec",6127:"4e3e84f9",6157:"43ecd267",6234:"310cc995",6331:"cbee24b6",6413:"30162650",6443:"f599cae0",6457:"f994977a",6517:"cf6acb13",6518:"5f0da7c3",6525:"e111f059",6528:"960ce7b1",6541:"0c5ef683",6630:"de49a88a",6716:"4e49b239",6788:"125a6edf",6809:"66acf739",6813:"7e7c7305",6817:"5de816ec",6873:"33b342cb",6909:"7ab140fb",6935:"e9643cc7",6952:"4f7eeb86",6959:"57b779be",6980:"d4d5a006",7068:"fc88f4cf",7138:"e94c2b57",7194:"678ac727",7204:"08a9854b",7212:"79fe27b9",7221:"aaaa4a8e",7246:"ab4206db",7252:"1dc19b6a",7291:"31df8485",7368:"68515622",7445:"e81f9248",7554:"e559285b",7704:"cdef237b",7726:"0462ab76",7762:"299fcdea",7776:"57cc131b",7818:"d3b7ef55",7819:"fcc11831",7883:"763d1d43",7903:"8c786ae8",7911:"568afdcf",8129:"d32a7846",8139:"1c04b65a",8158:"17d45aef",8168:"d499deeb",8229:"3b10cdba",8247:"b6243b8d",8309:"96fff0b6",8356:"3078e1c4",8495:"d5bb0200",8538:"c4c7120c",8552:"3b42e631",8570:"3ad708b9",8575:"4315d599",8619:"a966cb9d",8632:"9a17c27b",8639:"4c52ab88",8682:"2a2a4899",8693:"83a94d70",8761:"87d26375",8787:"2cd42024",8865:"9674b85b",8870:"1b3d4cd6",8948:"9e5ffceb",9018:"25929466",9116:"9fb59df6",9118:"64d51d91",9121:"80a06bfb",9132:"937399d6",9147:"8bcd043b",9184:"6365b8ad",9199:"31fe518a",9350:"bdb9a8bb",9360:"0c70877c",9403:"2c39f349",9481:"c20f9eb0",9528:"d28ec741",9565:"f6e963d0",9589:"35d0cc4e",9605:"075f1805",9636:"13c12d3e",9662:"d522b430",9735:"4f35c7e1",9740:"989d461d",9742:"d25c6a43",9869:"e48fb50c",9982:"1c7a5e64",9991:"6c530401"}[e]+".chunk.js"},t.miniCssF=function(e){},t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../../"}(),function(){var e={7372:1};t.f.i=function(n,r){e[n]||importScripts(t.p+t.u(n))};var n=self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[],r=n.push.bind(n);n.push=function(n){var i=n[0],o=n[1],a=n[2];for(var u in o)t.o(o,u)&&(t.m[u]=o[u]);for(a&&a(t);i.length;)e[i.pop()]=1;r(n)}}(),t.nc=void 0,function(){var e=t.x;t.x=function(){return Promise.all([1256,8139,6517].map(t.e,t)).then(e)}}();t.x()}();
//# sourceMappingURL=7372.e5e24fad.chunk.js.map