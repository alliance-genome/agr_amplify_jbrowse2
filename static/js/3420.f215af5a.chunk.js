"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[3420,4493],{34493:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var r=t(33028),o=t(96234),i=t(30969),a=t(90550),s=t(9077),l=t(22714),c=t(40909),d=t(24998),u=t(53239),f=t(317),h=t(80975),m=t(2296),p=t(81073),v=t(37574),g=(0,l.Z)((function(e){return{rubberBand:{height:"100%",background:e.palette.tertiary?(0,u.Fq)(e.palette.tertiary.main,.7):(0,u.Fq)(e.palette.primary.main,.7),position:"absolute",zIndex:10,textAlign:"center",overflow:"hidden"},rubberBandControl:{cursor:"crosshair",width:"100%",minHeight:8},rubberBandText:{color:e.palette.tertiary?e.palette.tertiary.contrastText:e.palette.primary.contrastText},popover:{mouseEvents:"none",cursor:"crosshair"},paper:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},guide:{pointerEvents:"none",height:"100%",width:1,position:"absolute",zIndex:10},sm:{fontSize:10}}})),x=(0,a.observer)((function(e){var n=e.model,t=e.coordX,r=g();return(0,v.jsx)(f.ZP,{open:!0,placement:"top",title:n.views.map((function(e){return e.pxToBp(t)})).map((function(e){return(0,v.jsx)(h.Z,{className:r.sm,children:(0,p.stringify)(e)},JSON.stringify(e))})),arrow:!0,children:(0,v.jsx)("div",{className:r.guide,style:{left:t,background:"red"}})})}));var b=(0,a.observer)((function(e){var n=e.model,t=e.ControlComponent,r=void 0===t?(0,v.jsx)("div",{}):t,a=(0,i.useState)(),s=(0,o.Z)(a,2),l=s[0],c=s[1],u=(0,i.useState)(),f=(0,o.Z)(u,2),b=f[0],j=f[1],y=(0,i.useState)(),C=(0,o.Z)(y,2),w=C[0],Z=C[1],A=(0,i.useState)(),k=(0,o.Z)(A,2),N=k[0],S=k[1],M=(0,i.useRef)(null),B=(0,i.useRef)(null),E=g(),L=void 0!==l&&void 0===w;function T(e){e.preventDefault(),e.stopPropagation();var n=e.clientX-e.target.getBoundingClientRect().left;c(n),j(n)}function O(e){var n=e.target;S(e.clientX-n.getBoundingClientRect().left)}function P(){S(void 0),n.views.forEach((function(e){return e.setOffsets(void 0,void 0)}))}function F(){Z(void 0),c(void 0),j(void 0)}(0,i.useEffect)((function(){function e(e){if(M.current&&L){var n=e.clientX-M.current.getBoundingClientRect().left;j(n)}}function t(e){if(void 0!==l&&M.current){var t=e.clientX,r=e.clientY,o=t-M.current.getBoundingClientRect().left;Z({offsetX:o,clientX:t,clientY:r}),n.views.forEach((function(e){var n=function(e,n){if(void 0!==l){var t=l,r=e;if(r<t){var o=[r,t];t=o[0],r=o[1]}return{leftOffset:n.pxToBp(t),rightOffset:n.pxToBp(r)}}}(o,e);if(n){var t=n.leftOffset,r=n.rightOffset;e.setOffsets(t,r)}})),S(void 0)}}return L?(window.addEventListener("mousemove",e),window.addEventListener("mouseup",t),function(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}):function(){}}),[l,L,w,n]),(0,i.useEffect)((function(){!L&&void 0!==b&&void 0!==l&&Math.abs(b-l)<=3&&F()}),[L,b,l]);var R=Boolean(w);if(void 0===l)return(0,v.jsxs)(v.Fragment,{children:[void 0!==N?(0,v.jsx)(x,{model:n,coordX:N}):null,(0,v.jsx)("div",{"data-testid":"rubberBand_controls",className:E.rubberBandControl,role:"presentation",ref:M,onMouseDown:T,onMouseOut:P,onMouseMove:O,children:r})]});var z=w?w.offsetX:b||0,I=z<l?z:l,X=Math.abs(z-l),_=n.views,H=_.map((function(e){return e.pxToBp(I)})),q=_.map((function(e){return e.pxToBp(I+X)})),V=_.map((function(e){return Math.ceil(X*e.bpPerPx)}));return(0,v.jsxs)(v.Fragment,{children:[B.current?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(m.ZP,{className:E.popover,classes:{paper:E.paper},open:!0,anchorEl:B.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,disableRestoreFocus:!0,children:H.map((function(e){return(0,v.jsx)(h.Z,{children:(0,p.stringify)(e)},JSON.stringify(e))}))}),(0,v.jsx)(m.ZP,{className:E.popover,classes:{paper:E.paper},open:!0,anchorEl:B.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,disableRestoreFocus:!0,children:q.map((function(e){return(0,v.jsx)(h.Z,{children:(0,p.stringify)(e)},JSON.stringify(e))}))})]}):null,(0,v.jsx)("div",{ref:B,className:E.rubberBand,style:{left:I,width:X},children:(0,v.jsx)(h.Z,{variant:"h6",className:E.rubberBandText,children:V.map((function(e,n){return(0,v.jsx)(h.Z,{children:"".concat(e.toLocaleString("en-US"),"bp")},"".concat(e,"_").concat(n))}))})}),(0,v.jsx)("div",{"data-testid":"rubberBand_controls",className:E.rubberBandControl,role:"presentation",ref:M,onMouseDown:T,onMouseOut:P,onMouseMove:O,children:r}),w?(0,v.jsx)(d.Menu,{anchorReference:"anchorPosition",anchorPosition:{left:w.clientX,top:w.clientY},onMenuItemClick:function(e,n){n(),F()},open:R,onClose:F,menuItems:n.rubberBandMenuItems()}):null]})})),j=t(32343),y=t(59917),C=t(77977),w=t(8623),Z=t(79582),A=(0,l.Z)((function(){return{headerBar:{gridArea:"1/1/auto/span 2",display:"flex"},spacer:{flexGrow:1},bp:{display:"flex",alignItems:"center",marginLeft:10},searchContainer:{marginLeft:5},searchBox:{display:"flex"}}})),k=(0,a.observer)((function(e){var n=e.model;return(0,v.jsx)(j.Z,{onClick:n.toggleLinkViews,title:"Toggle linked scrolls and behavior across views",children:n.linkViews?(0,v.jsx)(w.Z,{color:"secondary"}):(0,v.jsx)(C.Z,{color:"secondary"})})})),N=(0,a.observer)((function(e){var n=e.model;return(0,v.jsx)(j.Z,{onClick:n.squareView,title:"Square view (make both the same zoom level)",children:(0,v.jsx)(Z.Z,{color:"secondary"})})})),S=(0,a.observer)((function(e){var n=e.model,t=e.ExtraButtons,r=A(),o=n.views.some((function(e){return!e.hideHeader}));return(0,v.jsxs)("div",{className:r.headerBar,children:[(0,v.jsx)(k,{model:n}),(0,v.jsx)(N,{model:n}),t,o?null:n.views.map((function(e){return(0,v.jsxs)("div",{className:r.searchBox,children:[(0,v.jsx)("div",{className:r.searchContainer,children:(0,v.jsx)(y.Rj,{model:e,showHelp:!1})}),(0,v.jsx)("div",{className:r.bp,children:(0,v.jsxs)(h.Z,{variant:"body2",color:"textSecondary",className:r.bp,children:[Math.round(e.coarseTotalBp).toLocaleString("en-US")," bp"]})})]},e.id)})),(0,v.jsx)("div",{className:r.spacer})]})})),M=(0,l.Z)((function(){return{container:{display:"grid"},overlay:{zIndex:100,gridArea:"1/1"},content:{gridArea:"1/1",position:"relative"},grid:{display:"grid"},relative:{position:"relative"},rubberbandContainer:{position:"relative",overflow:"hidden"}}})),B=(0,a.observer)((function(e){var n=e.model,t=M();return(0,v.jsx)(v.Fragment,{children:n.tracks.map((function(e){var r=(0,o.Z)(e.displays,1)[0],i=r.RenderingComponent,a=(0,s.getConf)(e,"trackId");return i?(0,v.jsx)("div",{className:t.overlay,style:{height:n.middleComparativeHeight,overflow:"hidden"},children:(0,v.jsx)(i,{model:r})},a):null}))})})),E=(0,a.observer)((function(e){var n=e.model,t=e.ExtraButtons,r=M(),o=n.views,i=(0,c.getEnv)(n).pluginManager.getViewType(o[0].type).ReactComponent;return(0,v.jsxs)("div",{className:r.rubberbandContainer,children:[(0,v.jsx)(S,{ExtraButtons:t,model:n}),(0,v.jsx)(b,{model:n,ControlComponent:(0,v.jsx)("div",{style:{width:"100%",height:15}})}),(0,v.jsxs)("div",{className:r.container,children:[(0,v.jsx)(i,{model:o[0]}),(0,v.jsx)("div",{className:r.grid,children:(0,v.jsx)(B,{model:n})}),(0,v.jsx)(d.ResizeHandle,{onDrag:function(e){return n.setMiddleComparativeHeight(n.middleComparativeHeight+e)},style:{height:4,background:"#ccc"}}),(0,v.jsx)(i,{model:o[1]})]})]})})),L=(0,a.observer)((function(e){var n=e.model,t=e.ExtraButtons,r=M(),o=n.views,i=(0,c.getEnv)(n).pluginManager;return(0,v.jsxs)("div",{className:r.rubberbandContainer,children:[(0,v.jsx)(S,{model:n,ExtraButtons:t}),(0,v.jsx)(b,{model:n,ControlComponent:(0,v.jsx)("div",{style:{width:"100%",height:15}})}),(0,v.jsx)("div",{className:r.container,children:(0,v.jsxs)("div",{className:r.content,children:[(0,v.jsx)("div",{className:r.relative,children:o.map((function(e){var n=i.getViewType(e.type).ReactComponent;return(0,v.jsx)(n,{model:e},e.id)}))}),(0,v.jsx)(B,{model:n})]})})]})})),T=(0,a.observer)((function(e){return e.model.tracks.some((function(e){return e.displays.some((function(e){return(0,s.getConf)(e,"middle")}))}))?(0,v.jsx)(E,(0,r.Z)({},e)):(0,v.jsx)(L,(0,r.Z)({},e))}))},83420:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var r=t(30969),o=t(90550),i=t(32343),a=t(34493),s=t(6348),l=t(32723),c=t(68079),d=t(34795),u=t(96234),f=t(22523),h=t.n(f),m=t(35247),p=t(81073),v=t(22714),g=t(92628),x=t(51526),b=t(29623),j=t(80975),y=t(55788),C=t(93717),w=t(18189),Z=t(28599),A=t(24998),k=t(37574),N=(0,v.Z)((function(e){return{importFormContainer:{padding:e.spacing(4)},formPaper:{margin:"0 auto",padding:12,marginBottom:10}}}));function S(e){return e?e.uri||e.localPath||e.name:void 0}var M=(0,o.observer)((function(e){var n=e.model,t=N(),o=(0,p.getSession)(n),i=o.assemblyNames,a=o.assemblyManager,s=(0,r.useState)([i[0],i[0]]),f=(0,u.Z)(s,2),v=f[0],M=f[1],B=(0,r.useState)(),E=(0,u.Z)(B,2),L=E[0],T=E[1],O=(0,r.useState)(),P=(0,u.Z)(O,2),F=P[0],R=P[1],z=(0,r.useState)(),I=(0,u.Z)(z,2),X=I[0],_=I[1],H=(0,r.useState)(2),q=(0,u.Z)(H,1)[0],V=(0,r.useState)(),D=(0,u.Z)(V,2),J=D[0],U=D[1],W=(0,r.useState)(""),Y=(0,u.Z)(W,2),G=Y[0],K=Y[1],Q=S(L),$=G||(Q?h().extname(function(e){return e.endsWith(".gz")?e.slice(0,e.length-3):e}(Q)):""),ee=i.length?v.map((function(e){var n;return null===(n=a.get(e))||void 0===n?void 0:n.error})).filter((function(e){return!!e})).join(", "):"No configured assemblies";function ne(){if(".paf"===$)return{type:"PAFAdapter",pafLocation:L,assemblyNames:v};if(".out"===$)return{type:"MashMapAdapter",outLocation:L,assemblyNames:v};if(".delta"===$)return{type:"DeltaAdapter",deltaLocation:L,assemblyNames:v};if(".chain"===$)return{type:"ChainAdapter",chainLocation:L,assemblyNames:v};if(".anchors"===$)return{type:"MCScanAnchorsAdapter",mcscanAnchorsLocation:L,bed1Location:X,bed2Location:F,assemblyNames:v};if(".anchors.simple"===$)return{type:"MCScanSimpleAnchorsAdapter",mcscanSimpleAnchorsLocation:L,bed1Location:X,bed2Location:F,assemblyNames:v};throw new Error("Unknown type")}function te(){return te=(0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(0,p.isSessionWithAddTracks)(o)){e.next=3;break}return e.abrupt("return");case 3:return e.t0=n,e.next=6,Promise.all(v.map(function(){var e=(0,d.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.waitForAssembly(n);case 2:if(t=e.sent){e.next=5;break}throw new Error("Assembly ".concat(n," failed to load"));case 5:return e.abrupt("return",{type:"LinearGenomeView",bpPerPx:1,offsetPx:0,hideHeader:!0,displayedRegions:t.regions});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 6:e.t1=e.sent,e.t0.setViews.call(e.t0,e.t1),n.views.forEach((function(e){return e.setWidth(n.width)})),(0,m.transaction)((function(){if(L){var e=h().basename(S(L))||"MyTrack",t="".concat(e,"-").concat(Date.now());o.addTrackConf({trackId:t,name:e,assemblyNames:v,type:"SyntenyTrack",adapter:ne()}),n.toggleTrack(t)}})),e.next=16;break;case 12:e.prev=12,e.t2=e.catch(0),console.error(e.t2),U(e.t2);case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),te.apply(this,arguments)}var re=J||ee;return(0,k.jsxs)(g.Z,{className:t.importFormContainer,children:[re?(0,k.jsx)(A.ErrorMessage,{error:re}):null,(0,k.jsx)(x.Z,{className:t.formPaper,children:(0,k.jsx)(b.Z,{container:!0,item:!0,justifyContent:"center",spacing:4,alignItems:"center",children:(0,k.jsxs)(b.Z,{item:!0,children:[(0,k.jsx)(j.Z,{children:"Select assemblies for synteny view"}),(0,c.Z)(new Array(q)).map((function(e,n){return(0,k.jsx)(A.AssemblySelector,{selected:v[n],extra:n,onChange:function(e){var t=v.slice(0);t[n]=e,M(t)},session:o},"row_".concat(n,"_").concat(v[n]))}))]})})}),(0,k.jsxs)(x.Z,{className:t.formPaper,children:[(0,k.jsxs)(j.Z,{style:{textAlign:"center"},children:[(0,k.jsx)("b",{children:"Optional"}),": Add a .paf, .out (MashMap), .delta (Mummer), .chain, .anchors or .anchors.simple (MCScan) file to view in the synteny view. These file types can also be gzipped. The first assembly should be the query sequence (e.g. left column of the PAF) and the second assembly should be the target sequence (e.g. right column of the PAF)"]}),(0,k.jsx)(y.Z,{value:$,onChange:function(e){return K(e.target.value)},children:(0,k.jsxs)(b.Z,{container:!0,justifyContent:"center",children:[(0,k.jsx)(b.Z,{item:!0,children:(0,k.jsx)(C.Z,{value:".paf",control:(0,k.jsx)(w.Z,{}),label:".paf"})}),(0,k.jsx)(b.Z,{item:!0,children:(0,k.jsx)(C.Z,{value:".out",control:(0,k.jsx)(w.Z,{}),label:".out"})}),(0,k.jsx)(b.Z,{item:!0,children:(0,k.jsx)(C.Z,{value:".delta",control:(0,k.jsx)(w.Z,{}),label:".delta"})}),(0,k.jsx)(b.Z,{item:!0,children:(0,k.jsx)(C.Z,{value:".chain",control:(0,k.jsx)(w.Z,{}),label:".chain"})}),(0,k.jsx)(b.Z,{item:!0,children:(0,k.jsx)(C.Z,{value:".anchors",control:(0,k.jsx)(w.Z,{}),label:".anchors"})}),(0,k.jsx)(b.Z,{item:!0,children:(0,k.jsx)(C.Z,{value:".anchors.simple",control:(0,k.jsx)(w.Z,{}),label:".anchors.simple"})})]})}),(0,k.jsx)(b.Z,{container:!0,justifyContent:"center",children:(0,k.jsx)(b.Z,{item:!0,children:".anchors"===G||".anchors.simple"===G?(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{style:{margin:20},children:["Open the ",G,", and .bed files for both genome assemblies from the MCScan (Python verson) pipeline"," ",(0,k.jsx)("a",{href:"https://github.com/tanghaibao/jcvi/wiki/MCscan-(Python-version)",children:"(more info)"})]}),(0,k.jsxs)("div",{style:{display:"flex"},children:[(0,k.jsx)("div",{children:(0,k.jsx)(A.FileSelector,{name:".anchors file",description:"",location:L,setLocation:function(e){return T(e)}})}),(0,k.jsx)("div",{children:(0,k.jsx)(A.FileSelector,{name:"genome 1 .bed (left column of anchors file)",description:"",location:X,setLocation:function(e){return _(e)}})}),(0,k.jsx)("div",{children:(0,k.jsx)(A.FileSelector,{name:"genome 2 .bed (right column of anchors file)",description:"",location:F,setLocation:function(e){return R(e)}})})]})]}):(0,k.jsx)(A.FileSelector,{name:G?G+" location":"",description:"",location:L,setLocation:function(e){return T(e)}})})})]}),(0,k.jsx)(b.Z,{container:!0,justifyContent:"center",children:(0,k.jsx)(b.Z,{item:!0,children:(0,k.jsx)(Z.Z,{disabled:!!ee,onClick:function(){return te.apply(this,arguments)},variant:"contained",color:"primary",children:"Open"})})})]})})),B=M,E=(0,o.observer)((function(e){var n=e.model;return(0,k.jsx)(i.Z,{onClick:function(){n.toggleCurves()},title:"Toggle drawing straight or curved synteny lines",children:n.drawCurves?(0,k.jsx)(s.Z,{color:"secondary"}):(0,k.jsx)(s.f,{color:"secondary"})})})),L=(0,o.observer)((function(e){var n=e.model;return n.initialized?(0,k.jsx)(a.default,{model:n,ExtraButtons:(0,k.jsx)(E,{model:n})}):(0,k.jsx)(B,{model:n})}))},22523:function(e,n,t){var r=t(40475);function o(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function i(e,n){for(var t,r="",o=0,i=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)t=e.charCodeAt(s);else{if(47===t)break;t=47}if(47===t){if(i===s-1||1===a);else if(i!==s-1&&2===a){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",o=0):o=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),i=s,a=0;continue}}else if(2===r.length||1===r.length){r="",o=0,i=s,a=0;continue}n&&(r.length>0?r+="/..":r="..",o=2)}else r.length>0?r+="/"+e.slice(i+1,s):r=e.slice(i+1,s),o=s-i-1;i=s,a=0}else 46===t&&-1!==a?++a:a=-1}return r}var a={resolve:function(){for(var e,n="",t=!1,a=arguments.length-1;a>=-1&&!t;a--){var s;a>=0?s=arguments[a]:(void 0===e&&(e=r.cwd()),s=e),o(s),0!==s.length&&(n=s+"/"+n,t=47===s.charCodeAt(0))}return n=i(n,!t),t?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(o(e),0===e.length)return".";var n=47===e.charCodeAt(0),t=47===e.charCodeAt(e.length-1);return 0!==(e=i(e,!n)).length||n||(e="."),e.length>0&&t&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return o(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var t=arguments[n];o(t),t.length>0&&(void 0===e?e=t:e+="/"+t)}return void 0===e?".":a.normalize(e)},relative:function(e,n){if(o(e),o(n),e===n)return"";if((e=a.resolve(e))===(n=a.resolve(n)))return"";for(var t=1;t<e.length&&47===e.charCodeAt(t);++t);for(var r=e.length,i=r-t,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var l=n.length-s,c=i<l?i:l,d=-1,u=0;u<=c;++u){if(u===c){if(l>c){if(47===n.charCodeAt(s+u))return n.slice(s+u+1);if(0===u)return n.slice(s+u)}else i>c&&(47===e.charCodeAt(t+u)?d=u:0===u&&(d=0));break}var f=e.charCodeAt(t+u);if(f!==n.charCodeAt(s+u))break;47===f&&(d=u)}var h="";for(u=t+d+1;u<=r;++u)u!==r&&47!==e.charCodeAt(u)||(0===h.length?h+="..":h+="/..");return h.length>0?h+n.slice(s+d):(s+=d,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(o(e),0===e.length)return".";for(var n=e.charCodeAt(0),t=47===n,r=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(n=e.charCodeAt(a))){if(!i){r=a;break}}else i=!1;return-1===r?t?"/":".":t&&1===r?"//":e.slice(0,r)},basename:function(e,n){if(void 0!==n&&"string"!==typeof n)throw new TypeError('"ext" argument must be a string');o(e);var t,r=0,i=-1,a=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var s=n.length-1,l=-1;for(t=e.length-1;t>=0;--t){var c=e.charCodeAt(t);if(47===c){if(!a){r=t+1;break}}else-1===l&&(a=!1,l=t+1),s>=0&&(c===n.charCodeAt(s)?-1===--s&&(i=t):(s=-1,i=l))}return r===i?i=l:-1===i&&(i=e.length),e.slice(r,i)}for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!a){r=t+1;break}}else-1===i&&(a=!1,i=t+1);return-1===i?"":e.slice(r,i)},extname:function(e){o(e);for(var n=-1,t=0,r=-1,i=!0,a=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===r&&(i=!1,r=s+1),46===l?-1===n?n=s:1!==a&&(a=1):-1!==n&&(a=-1);else if(!i){t=s+1;break}}return-1===n||-1===r||0===a||1===a&&n===r-1&&n===t+1?"":e.slice(n,r)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,n){var t=n.dir||n.root,r=n.base||(n.name||"")+(n.ext||"");return t?t===n.root?t+r:t+e+r:r}("/",e)},parse:function(e){o(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var t,r=e.charCodeAt(0),i=47===r;i?(n.root="/",t=1):t=0;for(var a=-1,s=0,l=-1,c=!0,d=e.length-1,u=0;d>=t;--d)if(47!==(r=e.charCodeAt(d)))-1===l&&(c=!1,l=d+1),46===r?-1===a?a=d:1!==u&&(u=1):-1!==a&&(u=-1);else if(!c){s=d+1;break}return-1===a||-1===l||0===u||1===u&&a===l-1&&a===s+1?-1!==l&&(n.base=n.name=0===s&&i?e.slice(1,l):e.slice(s,l)):(0===s&&i?(n.name=e.slice(1,a),n.base=e.slice(1,l)):(n.name=e.slice(s,a),n.base=e.slice(s,l)),n.ext=e.slice(a,l)),s>0?n.dir=e.slice(0,s-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,e.exports=a}}]);
//# sourceMappingURL=3420.f215af5a.chunk.js.map