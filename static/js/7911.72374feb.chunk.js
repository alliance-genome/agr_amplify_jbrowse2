/*! For license information please see 7911.72374feb.chunk.js.LICENSE.txt */
(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[7911],{77911:(e,t,r)=>{"use strict";r.d(t,{fetchJb1:()=>g});var o=r(99834),s=r(51687),n=r.n(s),a=r(76099),i=r.n(a),c=r(99546);function u(e){return e?.label&&"string"==typeof e.label}function l(e,t){for(const r of Object.keys(t))r in e&&"object"==typeof t[r]&&"object"==typeof e[r]?l(e[r],t[r]):void 0!==e[r]&&void 0===t[r]||(e[r]=t[r]);return e}function f(e){if(!e||"object"!=typeof e||"[object Function]"===Object.prototype.toString.call(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);let t,r,o;if(Array.isArray(e))for(t=[],r=0,o=e.length;r<o;++r)r in e&&(t[r]=f(e[r]));else t=e.constructor?new e.constructor:{};return function(e,t,r){let o,s;const n={};for(o in t)s=t[o],o in e&&(e[o]===s||o in n&&n[o]===s)||(e[o]=r?r(s):s);return e}(t,e,f)}function p(e,t){if(e.tracks&&!Array.isArray(e.tracks))if(u(e.tracks))e.tracks=[e.tracks];else{const t=[];for(const r of Object.keys(e.tracks)){const o=e.tracks[r];u(o)?t.push(o):t.push({label:r,...o})}e.tracks=t}const r=e.trackMetadata;if(r?.sources){if("string"==typeof r.sources&&(r.sources=[r.sources]),o=r.sources,o?.url&&"string"==typeof o.url&&(r.sources=[r.sources]),!Array.isArray(r.sources)){const e=[];for(const t of Object.keys(r.sources)){const o=r.sources[t];"name"in o||(o.name=t),e.push(o)}r.sources=e}r.sources=r.sources.map((e=>{if("string"==typeof e){const t={url:e},r=e.match(/\.(\w+)$/);return r&&(t.type=r[1].toLowerCase()),t}return e}))}var o;if(e.sourceUrl=e.sourceUrl||t,e.sourceUrl.startsWith("/")&&(e.sourceUrl=new URL(e.sourceUrl,window.location.href).href),e.baseUrl=e.baseUrl||new URL(".",e.sourceUrl).href,e.baseUrl.length&&!e.baseUrl.endsWith("/")&&(e.baseUrl+="/"),e.sourceUrl){const t=[];e.tracks&&t.push(...e.tracks),e.stores&&t.push(...Object.values(e.stores)),e.names&&t.push(e.names),t.forEach((t=>{t.baseUrl||(t.baseUrl=e.baseUrl||"/")})),e.refSeqs&&"string"==typeof e.refSeqs&&(e.refSeqs=new URL(e.refSeqs,e.sourceUrl).href),e.nameUrl&&(e.nameUrl=new URL(e.nameUrl,e.sourceUrl).href)}return e.stores=e.stores||{},(e.tracks||[]).forEach((t=>{if(t.config){const e=t.config;delete t.config,t={...e,...t}}if(t.store)return;let r;r="FeatureTrack"===t.type?"JBrowse/View/Track/HTMLFeatures":"ImageTrack"===t.type?"JBrowse/View/Track/FixedImage":"ImageTrack.Wiggle"===t.type?"JBrowse/View/Track/FixedImage/Wiggle":"SequenceTrack"===t.type?"JBrowse/View/Track/Sequence":d("JBrowse/View/Track",t.type),t.type=r,y(e,t),t.histograms&&(t.histograms.baseUrl||(t.histograms.baseUrl=t.baseUrl),y(e,t.histograms))})),e}function d(e,t){return t?(t.includes("/")||(t=`${e}/${t}`),t=t.replace(/^\//,"")):""}function y(e,t){const{urlTemplate:r=""}=t,o=t.storeClass?d("JBrowse/Store",t.storeClass):function(e,t){return e?e.type?.includes("/FixedImage")?"JBrowse/Store/TiledImage/Fixed"+(0===e.backendVersion?"_v0":""):/\.jsonz?$/i.test(t)?"JBrowse/Store/SeqFeature/NCList"+(0===e.backendVersion?"_v0":""):/\.bam$/i.test(t)?"JBrowse/Store/SeqFeature/BAM":/\.cram$/i.test(t)?"JBrowse/Store/SeqFeature/CRAM":/\.gff3?$/i.test(t)?"JBrowse/Store/SeqFeature/GFF3":/\.bed$/i.test(t)?"JBrowse/Store/SeqFeature/BED":/\.vcf.b?gz$/i.test(t)?"JBrowse/Store/SeqFeature/VCFTabix":/\.gff3?.b?gz$/i.test(t)?"JBrowse/Store/SeqFeature/GFF3Tabix":/\.bed.b?gz$/i.test(t)?"JBrowse/Store/SeqFeature/BEDTabix":/\.(bw|bigwig)$/i.test(t)?"JBrowse/Store/SeqFeature/BigWig":/\.(bb|bigbed)$/i.test(t)?"JBrowse/Store/SeqFeature/BigBed":/\.(fa|fasta)$/i.test(t)?"JBrowse/Store/SeqFeature/IndexedFasta":/\.(fa|fasta)\.b?gz$/i.test(t)?"JBrowse/Store/SeqFeature/BgzipIndexedFasta":/\.2bit$/i.test(t)?"JBrowse/Store/SeqFeature/TwoBit":e.type?.endsWith("/Sequence")?"JBrowse/Store/Sequence/StaticChunked":"":""}(t,r);if(!o)return void console.warn(`Unable to determine an appropriate data store to use with track '${t.label}', please explicitly specify a storeClass in the configuration.`);const s={...t,type:o};s.name="JBrowse/Store/Sequence/StaticChunked"!==o&&"JBrowse/Store/Sequence/IndexedFasta"!==o&&"JBrowse/Store/SeqFeature/IndexedFasta"!==o&&"JBrowse/Store/SeqFeature/BgzipIndexedFasta"!==o&&"JBrowse/Store/SeqFeature/TwoBit"!==o&&"JBrowse/Store/Sequence/TwoBit"!==o&&!t.useAsRefSeqStore||e.stores?.refseqs?`store${(0,c.objectHash)(s)}`:"refseqs",e.stores||(e.stores={}),e.stores[s.name]=s,t.store=s.name}function h(e){return void 0!==e.uri}function w(e){return void 0!==e.localPath}async function g(e={uri:"",locationType:"UriLocation"},t={include:["{dataRoot}/trackList.json","{dataRoot}/tracks.conf"]},r={uri:"",locationType:"UriLocation"}){const o="uri"in e?"uri":"localPath",s=JSON.parse(JSON.stringify(e));let n="";if(h(e)&&(n=e.uri),w(e)&&(n=e.localPath),n.endsWith("/")&&(s[o]=n.slice(0,-1)),h(r)&&r.uri||w(r)&&r.localPath){const e="uri"in r?"uri":"localPath";let t="";h(r)&&(t=r.uri),w(r)&&(t=r.localPath),t.endsWith("/")&&(t=t.slice(0,-1));let n={};for(const r of["jbrowse.conf","jbrowse_conf.json"]){let o=null;try{o=await m({[e]:`${t}/${r}`})}catch(e){console.error(`tried to access ${t}/${r}, but failed`)}n=k(n,o)||{}}return s[o]&&(n.dataRoot=s[o]),b(n)}const a=p(t,window.location.href);return s[o]&&(a.dataRoot=s[o]),b(a)}async function b(e,t=B){const r=l(f(t),e);let o=await async function(e){return async function t(r,o){const s=r.sourceUrl||r.baseUrl;if(!s)throw new Error(`Could not determine source URL: ${JSON.stringify(r)}`);const n=k(f(o),r);if(!n)throw new Error("Problem merging configs");const a=j(function(e){return e?(Array.isArray(e)||(e=[e]),e.map((e=>("string"==typeof e&&(e={url:e}),"format"in e||(e.format=e.url.endsWith(".conf")?"conf":"JB_json"),"JB_json"!==e.format||"version"in e||(e.version=1),e)))):[]}(r.include||[]),n);delete r.include;const i=a.map((async r=>(r.cacheBuster=e.cacheBuster,t(await m({uri:new URL(r.url,s).href,locationType:"UriLocation"}),n))));return(await Promise.all(i)).forEach((e=>{r=k(r,e)||r})),r}(e=f(e),{})}(r);return o=k(o,e)||o,j(o,o),function(e){if(e.tracks||(e.tracks=[]),!e.baseUrl)throw new Error("Must provide a `baseUrl` in configuration")}(o),o}async function m(e){const t=await(0,o.openLocation)(e).readFile("utf8");return h(e)?S(t,e.uri):w(e)?S(t,e.localPath):S(t)}function S(e,t=""){return e.trim().startsWith("{")?function(e,t){if("string"==typeof e){let r;try{r=JSON.parse(e)}catch(e){throw new Error(`${e} when parsing configuration.`)}return p(r,t)}return p(e,t)}(e,t):function(e,t){let r;try{r=function(e,t){let r,o,s,a=[];const c={tracks:{}};let u;function l(){if(void 0!==s){let e;try{const t=s.match(/^json:(.+)/i);if(e=t?JSON.parse(t[1]):/^[+-]?[\d.,]+([eE][-+]?\d+)?$/.test(s)?parseFloat(s.replaceAll(",","")):s,!r)throw new Error(`Error parsing in section ${a.join(" - ")}`);const u=[...a,...r].join(".");if("+="===o){let t=n()(c,u);t?Array.isArray(t)||(t=[t]):t=[],t.push(e),e=t}"true"===e&&(e=!0),"false"===e&&(e=!1),i()(c,u,e)}catch(e){throw new Error(`syntax error${t?` in ${t}`:""}${u?" at line "+(u-1):""}`)}}}return e.split(/\n|\r\n|\r/).forEach(((e,t)=>{u=t+1;const n=e.replace(/^\s*#.+/,"");let i;(i=n.match(/^\s*\[([^\]]+)/))?(l(),r=void 0,s=void 0,a=i[1].trim().split(/\s*\.\s*/),1===a.length&&"general"===a[0].toLowerCase()&&(a=[])):(i=n.match(void 0===s?/^([^+=]+)(\+?=)(.*)/:/^(\S[^+=]+)(\+?=)(.*)/))?(l(),r=i[1].trim().split(/\s*\.\s*/),[,,o]=i,"include"===[...a,...r].join(".")&&(o="+="),s=i[3].trim()):void 0!==r&&(i=n.match(/^\s{0,4}\+\s*(.+)/))?(l(),o="+=",s=i[1].trim()):void 0!==s&&(i=n.match(/^\s+(\S.*)/))?s+=s.length?` ${i[1].trim()}`:i[1].trim():(l(),r=void 0,s=void 0)})),l(),c}(e,t)}catch(e){throw new Error(`${e} when parsing configuration.`)}return p(r,t)}(e,t)}function k(e,t){if(null===t)return null;null===e&&(e={});for(const r of Object.keys(t))if("tracks"===r&&r in e){const o=e[r]||[],s=t[r]||[];if(!Array.isArray(o)||!Array.isArray(s))throw new Error(`Track config has not been properly regularized: ${o} ${s}`);e[r]=v(o||[],s||[])}else"datasets"!==r&&r in e&&"object"==typeof t[r]&&"object"==typeof e[r]?e[r]=l(e[r],t[r]):"dataRoot"===r?(void 0===e[r]||"data"===e[r]&&void 0!==t[r])&&(e[r]=t[r]):void 0!==e[r]&&void 0===t[r]||(e[r]=t[r]);return e}function v(e,t){if(!t.length)return e;const r={};return e.forEach(((e,t)=>{e.index=t,r[e.label]=e})),t.forEach((t=>{const o=r[t.label];o?k(o,t):e.push(t)})),e}function j(e,t){if(!e)return e;if(Array.isArray(e))for(let r=0;r<e.length;r+=1)e[r]=j(e[r],t);else if("object"==typeof e){const r=e;for(const e of Object.keys(r))r[e]=j(r[e],t)}else if("string"==typeof e)return function(e,t){return e.replaceAll(/{([\s\w.]+)}/g,((e,r)=>{r=r.replaceAll(/\s+/g,"");const o=n()(t,r);if(void 0!==o)return"function"==typeof o?o(r):o;if(t.callback){const e=t.callback.call(this,r);if(void 0!==e)return e}return e}))}(e,t);return e}const B={tracks:[],containerID:"GenomeBrowser",dataRoot:"data",show_tracklist:!0,show_nav:!0,show_menu:!0,show_overview:!0,show_fullviewlink:!0,update_browser_title:!0,updateBrowserURL:!0,refSeqs:"{dataRoot}/seq/refSeqs.json",include:["jbrowse.conf","jbrowse_conf.json"],nameUrl:"{dataRoot}/names/root.json",datasets:{_DEFAULT_EXAMPLES:!0,volvox:{url:"?data=sample_data/json/volvox",name:"Volvox Example"},modencode:{url:"?data=sample_data/json/modencode",name:"MODEncode Example"},yeast:{url:"?data=sample_data/json/yeast",name:"Yeast Example"}},highlightSearchedRegions:!1,highResolutionMode:"auto"}},51687:(e,t,r)=>{const o=r(22282);function s(e,t,r){return"function"==typeof r.join?r.join(e):e[0]+t+e[1]}function n(e,t,r){return"function"!=typeof r.isValid||r.isValid(e,t)}function a(e){return o(e)||Array.isArray(e)||"function"==typeof e}e.exports=function(e,t,r){if(o(r)||(r={default:r}),!a(e))return void 0!==r.default?r.default:e;"number"==typeof t&&(t=String(t));const i=Array.isArray(t),c="string"==typeof t,u=r.separator||".",l=r.joinChar||("string"==typeof u?u:".");if(!c&&!i)return e;if(c&&t in e)return n(t,e,r)?e[t]:r.default;let f=i?t:function(e,t,r){return"function"==typeof r.split?r.split(e):e.split(t)}(t,u,r),p=f.length,d=0;do{let t=f[d];for("number"==typeof t&&(t=String(t));t&&"\\"===t.slice(-1);)t=s([t.slice(0,-1),f[++d]||""],l,r);if(t in e){if(!n(t,e,r))return r.default;e=e[t]}else{let o=!1,a=d+1;for(;a<p;)if(t=s([t,f[a++]],l,r),o=t in e){if(!n(t,e,r))return r.default;e=e[t],d=a-1;break}if(!o)return r.default}}while(++d<p&&a(e));return d===p?e:r.default}},14037:e=>{"use strict";e.exports=function(e){return"object"==typeof e?null===e:"function"!=typeof e}},22282:e=>{"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},76099:(e,t,r)=>{"use strict";const{deleteProperty:o}=Reflect,s=r(14037),n=r(83830),a=e=>"object"==typeof e&&null!==e||"function"==typeof e,i=e=>{if(!s(e))throw new TypeError("Object keys must be strings or symbols");if((e=>"__proto__"===e||"constructor"===e||"prototype"===e)(e))throw new Error(`Cannot set unsafe key: "${e}"`)},c=(e,t)=>t&&"function"==typeof t.split?t.split(e):"symbol"==typeof e?[e]:Array.isArray(e)?e:((e,t,r)=>{const o=(e=>Array.isArray(e)?e.flat().map(String).join(","):e)(t?((e,t)=>{if("string"!=typeof e||!t)return e;let r=e+";";return void 0!==t.arrays&&(r+=`arrays=${t.arrays};`),void 0!==t.separator&&(r+=`separator=${t.separator};`),void 0!==t.split&&(r+=`split=${t.split};`),void 0!==t.merge&&(r+=`merge=${t.merge};`),void 0!==t.preservePaths&&(r+=`preservePaths=${t.preservePaths};`),r})(e,t):e);i(o);const s=l.cache.get(o)||r();return l.cache.set(o,s),s})(e,t,(()=>((e,t={})=>{const r=t.separator||".",o="/"!==r&&t.preservePaths;if("string"==typeof e&&!1!==o&&/\//.test(e))return[e];const s=[];let n="";const a=e=>{let t;""!==e.trim()&&Number.isInteger(t=Number(e))?s.push(t):s.push(e)};for(let t=0;t<e.length;t++){const o=e[t];"\\"!==o?o!==r?n+=o:(a(n),n=""):n+=e[++t]}return n&&a(n),s})(e,t))),u=(e,t,r,s)=>{if(i(t),void 0===r)o(e,t);else if(s&&s.merge){const o="function"===s.merge?s.merge:Object.assign;o&&n(e[t])&&n(r)?e[t]=o(e[t],r):e[t]=r}else e[t]=r;return e},l=(e,t,r,o)=>{if(!t||!a(e))return e;const s=c(t,o);let n=e;for(let e=0;e<s.length;e++){const t=s[e],c=s[e+1];if(i(t),void 0===c){u(n,t,r,o);break}"number"!=typeof c||Array.isArray(n[t])?(a(n[t])||(n[t]={}),n=n[t]):n=n[t]=[]}return e};l.split=c,l.cache=new Map,l.clear=()=>{l.cache=new Map},e.exports=l},83830:(e,t,r)=>{"use strict";var o=r(22282);function s(e){return!0===o(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,r;return!1!==s(e)&&"function"==typeof(t=e.constructor)&&!1!==s(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")}}}]);
//# sourceMappingURL=7911.72374feb.chunk.js.map