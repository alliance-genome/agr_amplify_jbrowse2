{"version":3,"file":"static/js/2018.c4171ff4.chunk.js","mappings":"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","sources":["../../../node_modules/abortable-promise-cache/esm/AbortablePromiseCache.js","../../../node_modules/abortable-promise-cache/esm/AggregateAbortController.js","../../../node_modules/abortable-promise-cache/esm/AggregateStatusReporter.js","../../../node_modules/abortable-promise-cache/esm/abortcontroller-ponyfill.js","../../../node_modules/abortable-promise-cache/esm/index.js","../../../node_modules/quick-lru/index.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst abortcontroller_ponyfill_1 = require(\"./abortcontroller-ponyfill\");\nconst AggregateAbortController_1 = __importDefault(require(\"./AggregateAbortController\"));\nconst AggregateStatusReporter_1 = __importDefault(require(\"./AggregateStatusReporter\"));\nclass AbortablePromiseCache {\n    constructor({ fill, cache, }) {\n        if (typeof fill !== 'function') {\n            throw new TypeError('must pass a fill function');\n        }\n        if (typeof cache !== 'object') {\n            throw new TypeError('must pass a cache object');\n        }\n        if (typeof cache.get !== 'function' ||\n            typeof cache.set !== 'function' ||\n            typeof cache.delete !== 'function') {\n            throw new TypeError('cache must implement get(key), set(key, val), and and delete(key)');\n        }\n        this.cache = cache;\n        this.fillCallback = fill;\n    }\n    static isAbortException(exception) {\n        return (\n        // DOMException\n        exception.name === 'AbortError' ||\n            // standard-ish non-DOM abort exception\n            //@ts-ignore\n            exception.code === 'ERR_ABORTED' ||\n            // stringified DOMException\n            exception.message === 'AbortError: aborted' ||\n            // stringified standard-ish exception\n            exception.message === 'Error: aborted');\n    }\n    evict(key, entry) {\n        if (this.cache.get(key) === entry) {\n            this.cache.delete(key);\n        }\n    }\n    fill(key, data, signal, statusCallback) {\n        const aborter = new AggregateAbortController_1.default();\n        const statusReporter = new AggregateStatusReporter_1.default();\n        statusReporter.addCallback(statusCallback);\n        const newEntry = {\n            aborter: aborter,\n            promise: this.fillCallback(data, aborter.signal, (message) => {\n                statusReporter.callback(message);\n            }),\n            settled: false,\n            statusReporter,\n            get aborted() {\n                return this.aborter.signal.aborted;\n            },\n        };\n        newEntry.aborter.addSignal(signal);\n        // remove the fill from the cache when its abortcontroller fires, if still in there\n        newEntry.aborter.signal.addEventListener('abort', () => {\n            if (!newEntry.settled) {\n                this.evict(key, newEntry);\n            }\n        });\n        // chain off the cached promise to record when it settles\n        newEntry.promise\n            .then(() => {\n            newEntry.settled = true;\n        }, () => {\n            newEntry.settled = true;\n            // if the fill throws an error (including abort) and is still in the cache, remove it\n            this.evict(key, newEntry);\n        })\n            .catch(e => {\n            // this will only be reached if there is some kind of\n            // bad bug in this library\n            console.error(e);\n            throw e;\n        });\n        this.cache.set(key, newEntry);\n    }\n    static checkSinglePromise(promise, signal) {\n        // check just this signal for having been aborted, and abort the\n        // promise if it was, regardless of what happened with the cached\n        // response\n        function checkForSingleAbort() {\n            if (signal && signal.aborted) {\n                throw Object.assign(new Error('aborted'), { code: 'ERR_ABORTED' });\n            }\n        }\n        return promise.then(result => {\n            checkForSingleAbort();\n            return result;\n        }, error => {\n            checkForSingleAbort();\n            throw error;\n        });\n    }\n    has(key) {\n        return this.cache.has(key);\n    }\n    /**\n     * Callback for getting status of the pending async\n     *\n     * @callback statusCallback\n     * @param {any} status, current status string or message object\n     */\n    /**\n     * @param {any} key cache key to use for this request\n     * @param {any} data data passed as the first argument to the fill callback\n     * @param {AbortSignal} [signal] optional AbortSignal object that aborts the request\n     * @param {statusCallback} a callback to get the current status of a pending async operation\n     */\n    get(key, data, signal, statusCallback) {\n        if (!signal && data instanceof abortcontroller_ponyfill_1.AbortSignal) {\n            throw new TypeError('second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?');\n        }\n        const cacheEntry = this.cache.get(key);\n        if (cacheEntry) {\n            if (cacheEntry.aborted && !cacheEntry.settled) {\n                // if it's aborted but has not realized it yet, evict it and redispatch\n                this.evict(key, cacheEntry);\n                return this.get(key, data, signal, statusCallback);\n            }\n            if (cacheEntry.settled) {\n                // too late to abort, just return it\n                return cacheEntry.promise;\n            }\n            // request is in-flight, add this signal to its list of signals,\n            // or if there is no signal, the aborter will become non-abortable\n            cacheEntry.aborter.addSignal(signal);\n            cacheEntry.statusReporter.addCallback(statusCallback);\n            return AbortablePromiseCache.checkSinglePromise(cacheEntry.promise, signal);\n        }\n        // if we got here, it is not in the cache. fill.\n        this.fill(key, data, signal, statusCallback);\n        return AbortablePromiseCache.checkSinglePromise(\n        //see https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#non-null-assertion-operator-postfix-\n        //eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        this.cache.get(key).promise, signal);\n    }\n    /**\n     * delete the given entry from the cache. if it exists and its fill request has\n     * not yet settled, the fill will be signaled to abort.\n     *\n     * @param {any} key\n     */\n    delete(key) {\n        const cachedEntry = this.cache.get(key);\n        if (cachedEntry) {\n            if (!cachedEntry.settled) {\n                cachedEntry.aborter.abort();\n            }\n            this.cache.delete(key);\n        }\n    }\n    /**\n     * Clear all requests from the cache. Aborts any that have not settled.\n     * @returns {number} count of entries deleted\n     */\n    clear() {\n        // iterate without needing regenerator-runtime\n        const keyIter = this.cache.keys();\n        let deleteCount = 0;\n        for (let result = keyIter.next(); !result.done; result = keyIter.next()) {\n            this.delete(result.value);\n            deleteCount += 1;\n        }\n        return deleteCount;\n    }\n}\nexports.default = AbortablePromiseCache;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst abortcontroller_ponyfill_1 = require(\"./abortcontroller-ponyfill\");\nclass NullSignal {\n}\n/**\n * aggregates a number of abort signals, will only fire the aggregated\n * abort if all of the input signals have been aborted\n */\nclass AggregateAbortController {\n    constructor() {\n        this.signals = new Set();\n        this.abortController = new abortcontroller_ponyfill_1.AbortController();\n    }\n    /**\n     * @param {AbortSignal} [signal] optional AbortSignal to add. if falsy,\n     *  will be treated as a null-signal, and this abortcontroller will no\n     *  longer be abortable.\n     */\n    //@ts-ignore\n    addSignal(signal = new NullSignal()) {\n        if (this.signal.aborted) {\n            throw new Error('cannot add a signal, already aborted!');\n        }\n        // note that a NullSignal will never fire, so if we\n        // have one this thing will never actually abort\n        this.signals.add(signal);\n        if (signal.aborted) {\n            // handle the abort immediately if it is already aborted\n            // for some reason\n            this.handleAborted(signal);\n        }\n        else if (typeof signal.addEventListener === 'function') {\n            signal.addEventListener('abort', () => {\n                this.handleAborted(signal);\n            });\n        }\n    }\n    handleAborted(signal) {\n        this.signals.delete(signal);\n        if (this.signals.size === 0) {\n            this.abortController.abort();\n        }\n    }\n    get signal() {\n        return this.abortController.signal;\n    }\n    abort() {\n        this.abortController.abort();\n    }\n}\nexports.default = AggregateAbortController;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass AggregateStatusReporter {\n    constructor() {\n        this.callbacks = new Set();\n    }\n    addCallback(callback = () => { }) {\n        this.callbacks.add(callback);\n        callback(this.currentMessage);\n    }\n    callback(message) {\n        this.currentMessage = message;\n        this.callbacks.forEach(elt => {\n            elt(message);\n        });\n    }\n}\nexports.default = AggregateStatusReporter;\n","\"use strict\";\n/* eslint-disable */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbortSignal = exports.AbortController = void 0;\nconst cjs_ponyfill_1 = require(\"abortcontroller-polyfill/dist/cjs-ponyfill\");\nvar getGlobal = function () {\n    // the only reliable means to get the global object is\n    // `Function('return this')()`\n    // However, this causes CSP violations in Chrome apps.\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    throw new Error('unable to locate global object');\n};\n//@ts-ignore\nlet AbortController = typeof getGlobal().AbortController === 'undefined' ? cjs_ponyfill_1.AbortController : getGlobal().AbortController;\nexports.AbortController = AbortController;\n//@ts-ignore\nlet AbortSignal = typeof getGlobal().AbortController === 'undefined' ? cjs_ponyfill_1.AbortSignal : getGlobal().AbortSignal;\nexports.AbortSignal = AbortSignal;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst AbortablePromiseCache_1 = __importDefault(require(\"./AbortablePromiseCache\"));\nexports.default = AbortablePromiseCache_1.default;\n","'use strict';\n\nclass QuickLRU {\n\tconstructor(options = {}) {\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst value = this.oldCache.get(key);\n\t\t\tthis.oldCache.delete(key);\n\t\t\tthis._set(key, value);\n\t\t\treturn value;\n\t\t}\n\t}\n\n\tset(key, value) {\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, value);\n\t\t} else {\n\t\t\tthis._set(key, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\thas(key) {\n\t\treturn this.cache.has(key) || this.oldCache.has(key);\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this.oldCache.get(key);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tyield item;\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget size() {\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn this._size + oldCacheSize;\n\t}\n}\n\nmodule.exports = QuickLRU;\n"],"names":["_classCallCheck","require","_createClass","__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","abortcontroller_ponyfill_1","AggregateAbortController_1","AggregateStatusReporter_1","AbortablePromiseCache","_ref","fill","cache","TypeError","get","set","delete","fillCallback","key","entry","data","signal","statusCallback","_this","aborter","default","statusReporter","addCallback","newEntry","promise","message","callback","settled","aborted","addSignal","addEventListener","evict","then","catch","e","console","error","has","AbortSignal","cacheEntry","checkSinglePromise","cachedEntry","abort","keyIter","keys","deleteCount","result","next","done","exception","name","code","checkForSingleAbort","assign","Error","NullSignal","AggregateAbortController","signals","Set","abortController","AbortController","arguments","length","undefined","add","handleAborted","size","AggregateStatusReporter","callbacks","currentMessage","forEach","elt","cjs_ponyfill_1","getGlobal","self","window","global","AbortablePromiseCache_1","_regeneratorRuntime","_slicedToArray","_createForOfIteratorHelper","QuickLRU","_Symbol$iterator","options","maxSize","Map","oldCache","_size","_set","deleted","clear","mark","_iterator","_step","_step$value","wrap","_context","prev","s","n","t0","f","finish","stop","values","_iterator2","_step2","_step2$value","_context2","_iterator3","_step3","item","_iterator4","_step4","_item","_item2","_context3","t1","_step5","oldCacheSize","_iterator5","err","Symbol","iterator","module"],"sourceRoot":""}