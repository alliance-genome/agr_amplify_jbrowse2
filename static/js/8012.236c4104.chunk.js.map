{"version":3,"file":"static/js/8012.236c4104.chunk.js","mappings":"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","sources":["../../../plugins/dotplot-view/src/DotplotView/components/ImportForm.tsx","../../../plugins/dotplot-view/src/DotplotView/components/Header.tsx","../../../plugins/dotplot-view/src/DotplotView/components/Axes.tsx","../../../plugins/dotplot-view/src/DotplotView/components/DotplotView.tsx","../../../node_modules/@material-ui/icons/KeyboardArrowLeft.js","../../../node_modules/@material-ui/icons/KeyboardArrowRight.js","../../../node_modules/@material-ui/icons/KeyboardArrowUp.js","../../../node_modules/path-browserify/index.js"],"sourcesContent":["import React, { useState } from 'react'\nimport path from 'path'\nimport {\n  Button,\n  FormControlLabel,\n  Radio,\n  RadioGroup,\n  Paper,\n  Container,\n  Grid,\n  Typography,\n  makeStyles,\n} from '@material-ui/core'\nimport { FileSelector, ErrorMessage, AssemblySelector } from '@jbrowse/core/ui'\nimport { FileLocation } from '@jbrowse/core/util/types'\nimport { observer } from 'mobx-react'\nimport { transaction } from 'mobx'\nimport { getSession, isSessionWithAddTracks } from '@jbrowse/core/util'\nimport { DotplotViewModel } from '../model'\n\nconst useStyles = makeStyles(theme => ({\n  importFormContainer: {\n    padding: theme.spacing(4),\n    margin: '0 auto',\n  },\n  assemblySelector: {\n    width: '75%',\n    margin: '0 auto',\n  },\n}))\n\nfunction getName(\n  trackData?: { uri: string } | { localPath: string } | { name: string },\n) {\n  return trackData\n    ? // @ts-ignore\n      trackData.uri || trackData.localPath || trackData.name\n    : undefined\n}\n\nfunction stripGz(fileName: string) {\n  return fileName.endsWith('.gz')\n    ? fileName.slice(0, fileName.length - 3)\n    : fileName\n}\n\nconst DotplotImportForm = observer(({ model }: { model: DotplotViewModel }) => {\n  const classes = useStyles()\n  const session = getSession(model)\n  const { assemblyNames, assemblyManager } = session\n  const [trackData, setTrackData] = useState<FileLocation>()\n  const [bed2Location, setBed2Location] = useState<FileLocation>()\n  const [bed1Location, setBed1Location] = useState<FileLocation>()\n  const [targetAssembly, setTargetAssembly] = useState(assemblyNames[0])\n  const [queryAssembly, setQueryAssembly] = useState(assemblyNames[0])\n  const selected = [queryAssembly, targetAssembly]\n  const [error, setError] = useState<unknown>()\n  const [value, setValue] = useState('')\n  const fileName = getName(trackData)\n  const radioOption = value || (fileName ? path.extname(stripGz(fileName)) : '')\n\n  const assemblyError = assemblyNames.length\n    ? selected\n        .map(a => assemblyManager.get(a)?.error)\n        .filter(f => !!f)\n        .join(', ')\n    : 'No configured assemblies'\n\n  function getAdapter() {\n    if (radioOption === '.paf') {\n      return {\n        type: 'PAFAdapter',\n        pafLocation: trackData,\n        queryAssembly,\n        targetAssembly,\n      }\n    } else if (radioOption === '.out') {\n      return {\n        type: 'MashMapAdapter',\n        outLocation: trackData,\n        queryAssembly,\n        targetAssembly,\n      }\n    } else if (radioOption === '.delta') {\n      return {\n        type: 'DeltaAdapter',\n        deltaLocation: trackData,\n        queryAssembly,\n        targetAssembly,\n      }\n    } else if (radioOption === '.chain') {\n      return {\n        type: 'ChainAdapter',\n        chainLocation: trackData,\n        queryAssembly,\n        targetAssembly,\n      }\n    } else if (radioOption === '.anchors') {\n      return {\n        type: 'MCScanAnchorsAdapter',\n        mcscanAnchorsLocation: trackData,\n        bed1Location,\n        bed2Location,\n        assemblyNames: [queryAssembly, targetAssembly],\n      }\n    } else if (radioOption === '.anchors.simple') {\n      return {\n        type: 'MCScanSimpleAnchorsAdapter',\n        mcscanSimpleAnchorsLocation: trackData,\n        bed1Location,\n        bed2Location,\n        assemblyNames: [queryAssembly, targetAssembly],\n      }\n    } else {\n      throw new Error('Unknown type')\n    }\n  }\n\n  function onOpenClick() {\n    try {\n      if (!isSessionWithAddTracks(session)) {\n        return\n      }\n      transaction(() => {\n        if (trackData) {\n          const fileName = path.basename(getName(trackData)) || 'MyTrack'\n          const trackId = `${fileName}-${Date.now()}`\n\n          session.addTrackConf({\n            trackId: trackId,\n            name: fileName,\n            assemblyNames: [targetAssembly, queryAssembly],\n            type: 'SyntenyTrack',\n            adapter: getAdapter(),\n          })\n          model.toggleTrack(trackId)\n        }\n        model.setViews([\n          { bpPerPx: 0.1, offsetPx: 0 },\n          { bpPerPx: 0.1, offsetPx: 0 },\n        ])\n        model.setAssemblyNames(targetAssembly, queryAssembly)\n      })\n    } catch (e) {\n      console.error(e)\n      setError(e)\n    }\n  }\n\n  // this is a combination of any displayed error message we have\n  const displayError = error || assemblyError\n  return (\n    <Container className={classes.importFormContainer}>\n      {displayError ? <ErrorMessage error={displayError} /> : null}\n      <Grid\n        container\n        spacing={1}\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        className={classes.assemblySelector}\n      >\n        <Grid item>\n          <Paper style={{ padding: 12 }}>\n            <p style={{ textAlign: 'center' }}>\n              Select assemblies for dotplot view\n            </p>\n            <Grid\n              container\n              spacing={1}\n              justifyContent=\"center\"\n              alignItems=\"center\"\n            >\n              <Grid item>\n                <Typography>\n                  {value === '.anchors' || value === '.anchors.simple'\n                    ? 'Left column of anchors file'\n                    : 'Query'}\n                </Typography>\n                <AssemblySelector\n                  extra={0}\n                  selected={queryAssembly}\n                  onChange={val => setQueryAssembly(val)}\n                  session={session}\n                />\n              </Grid>\n              <Grid item>\n                <Typography>\n                  {value === '.anchors' || value === '.anchors.simple'\n                    ? 'Right column of anchors file'\n                    : 'Target'}\n                </Typography>\n                <AssemblySelector\n                  extra={1}\n                  selected={targetAssembly}\n                  onChange={val => setTargetAssembly(val)}\n                  session={session}\n                />\n              </Grid>\n            </Grid>\n          </Paper>\n\n          <Paper style={{ padding: 12 }}>\n            <Typography style={{ textAlign: 'center' }}>\n              <b>Optional</b>: Add a .paf, .out (MashMap), .delta (Mummer),\n              .chain, .anchors or .anchors.simple (MCScan) file to view in the\n              dotplot. These file types can also be gzipped. The first assembly\n              should be the query sequence (e.g. left column of the PAF) and the\n              second assembly should be the target sequence (e.g. right column\n              of the PAF)\n            </Typography>\n            <RadioGroup\n              value={radioOption}\n              onChange={event => setValue(event.target.value)}\n            >\n              <Grid container justifyContent=\"center\">\n                <Grid item>\n                  <FormControlLabel\n                    value=\".paf\"\n                    control={<Radio />}\n                    label=\".paf\"\n                  />\n                </Grid>\n                <Grid item>\n                  <FormControlLabel\n                    value=\".out\"\n                    control={<Radio />}\n                    label=\".out\"\n                  />\n                </Grid>\n                <Grid item>\n                  <FormControlLabel\n                    value=\".delta\"\n                    control={<Radio />}\n                    label=\".delta\"\n                  />\n                </Grid>\n                <Grid item>\n                  <FormControlLabel\n                    value=\".chain\"\n                    control={<Radio />}\n                    label=\".chain\"\n                  />\n                </Grid>\n                <Grid item>\n                  <FormControlLabel\n                    value=\".anchors\"\n                    control={<Radio />}\n                    label=\".anchors\"\n                  />\n                </Grid>\n                <Grid item>\n                  <FormControlLabel\n                    value=\".anchors.simple\"\n                    control={<Radio />}\n                    label=\".anchors.simple\"\n                  />\n                </Grid>\n              </Grid>\n            </RadioGroup>\n            <Grid container justifyContent=\"center\">\n              <Grid item>\n                {value === '.anchors' || value === '.anchors.simple' ? (\n                  <div>\n                    <div style={{ margin: 20 }}>\n                      Open the {value} and .bed files for both genome assemblies\n                      from the MCScan (Python verson) pipeline{' '}\n                      <a href=\"https://github.com/tanghaibao/jcvi/wiki/MCscan-(Python-version)\">\n                        (more info)\n                      </a>\n                    </div>\n                    <div style={{ display: 'flex' }}>\n                      <div>\n                        <FileSelector\n                          name=\".anchors file\"\n                          description=\"\"\n                          location={trackData}\n                          setLocation={loc => setTrackData(loc)}\n                        />\n                      </div>\n                      <div>\n                        <FileSelector\n                          name=\"genome 1 .bed (left column of anchors file)\"\n                          description=\"\"\n                          location={bed1Location}\n                          setLocation={loc => setBed1Location(loc)}\n                        />\n                      </div>\n                      <div>\n                        <FileSelector\n                          name=\"genome 2 .bed (right column of anchors file)\"\n                          description=\"\"\n                          location={bed2Location}\n                          setLocation={loc => setBed2Location(loc)}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                ) : (\n                  <FileSelector\n                    name={value ? value + ' location' : ''}\n                    description=\"\"\n                    location={trackData}\n                    setLocation={loc => setTrackData(loc)}\n                  />\n                )}\n              </Grid>\n            </Grid>\n          </Paper>\n        </Grid>\n        <Grid item>\n          <Button\n            data-testid=\"submitDotplot\"\n            onClick={onOpenClick}\n            // only disable button on assemblyError. for other types of errors\n            // in the useState can retry\n            disabled={!!assemblyError}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Open\n          </Button>\n        </Grid>\n      </Grid>\n    </Container>\n  )\n})\n\nexport default DotplotImportForm\n","import React, { useState } from 'react'\n\nimport { IconButton, Typography, makeStyles } from '@material-ui/core'\nimport { getBpDisplayStr } from '@jbrowse/core/util'\nimport { Menu } from '@jbrowse/core/ui'\n\n// icons\nimport ZoomOut from '@material-ui/icons/ZoomOut'\nimport ZoomIn from '@material-ui/icons/ZoomIn'\nimport ArrowUp from '@material-ui/icons/KeyboardArrowUp'\nimport ArrowDown from '@material-ui/icons/KeyboardArrowDown'\nimport ArrowLeft from '@material-ui/icons/KeyboardArrowLeft'\nimport ArrowRight from '@material-ui/icons/KeyboardArrowRight'\nimport CropFreeIcon from '@material-ui/icons/CropFree'\n\nimport { TrackSelector as TrackSelectorIcon } from '@jbrowse/core/ui/Icons'\n\nimport { observer } from 'mobx-react'\nimport { DotplotViewModel } from '../model'\n\nconst useStyles = makeStyles({\n  iconButton: {\n    margin: 5,\n  },\n  bp: {\n    display: 'flex',\n    alignItems: 'center',\n    marginLeft: 10,\n  },\n  spacer: {\n    flexGrow: 1,\n  },\n  headerBar: {\n    display: 'flex',\n  },\n})\n\nconst DotplotControls = observer(({ model }: { model: DotplotViewModel }) => {\n  const classes = useStyles()\n  const [menuAnchorEl, setMenuAnchorEl] = useState<null | HTMLElement>(null)\n  return (\n    <div>\n      <IconButton\n        onClick={() => {\n          model.hview.scroll(-100)\n        }}\n        className={classes.iconButton}\n        title=\"left\"\n        color=\"secondary\"\n      >\n        <ArrowLeft />\n      </IconButton>\n\n      <IconButton\n        onClick={() => {\n          model.hview.scroll(100)\n        }}\n        className={classes.iconButton}\n        title=\"left\"\n        color=\"secondary\"\n      >\n        <ArrowRight />\n      </IconButton>\n      <IconButton\n        onClick={() => {\n          model.vview.scroll(100)\n        }}\n        className={classes.iconButton}\n        title=\"left\"\n        color=\"secondary\"\n      >\n        <ArrowDown />\n      </IconButton>\n      <IconButton\n        onClick={() => {\n          model.vview.scroll(-100)\n        }}\n        className={classes.iconButton}\n        title=\"left\"\n        color=\"secondary\"\n      >\n        <ArrowUp />\n      </IconButton>\n      <IconButton\n        onClick={model.zoomOutButton}\n        className={classes.iconButton}\n        color=\"secondary\"\n      >\n        <ZoomOut />\n      </IconButton>\n\n      <IconButton\n        onClick={model.zoomInButton}\n        className={classes.iconButton}\n        title=\"zoom in\"\n        color=\"secondary\"\n      >\n        <ZoomIn />\n      </IconButton>\n\n      <IconButton\n        onClick={model.activateTrackSelector}\n        className={classes.iconButton}\n        title=\"Open track selector\"\n        data-testid=\"circular_track_select\"\n        color=\"secondary\"\n      >\n        <TrackSelectorIcon />\n      </IconButton>\n\n      <IconButton\n        onClick={event => setMenuAnchorEl(event.currentTarget)}\n        className={classes.iconButton}\n        title=\"Square view\"\n        color=\"secondary\"\n      >\n        <CropFreeIcon />\n      </IconButton>\n\n      {menuAnchorEl ? (\n        <Menu\n          anchorEl={menuAnchorEl}\n          keepMounted\n          open={Boolean(menuAnchorEl)}\n          onMenuItemClick={(_event, callback) => {\n            callback()\n            setMenuAnchorEl(null)\n          }}\n          menuItems={[\n            {\n              onClick: () => model.squareView(),\n              label: 'Square view - same base pairs per pixel',\n            },\n            {\n              onClick: () => model.squareViewProportional(),\n              label: 'Rectanglular view - same total bp',\n            },\n          ]}\n          onClose={() => {\n            setMenuAnchorEl(null)\n          }}\n        />\n      ) : null}\n    </div>\n  )\n})\n\nconst Header = observer(\n  ({\n    model,\n    selection,\n  }: {\n    model: DotplotViewModel\n    selection?: { width: number; height: number }\n  }) => {\n    const classes = useStyles()\n    const { hview, vview } = model\n    return (\n      <div className={classes.headerBar}>\n        <DotplotControls model={model} />\n        <Typography\n          className={classes.bp}\n          variant=\"body2\"\n          color=\"textSecondary\"\n        >\n          x: {hview.assemblyNames.join(',')} {getBpDisplayStr(hview.currBp)}\n          <br />\n          y: {vview.assemblyNames.join(',')} {getBpDisplayStr(vview.currBp)}\n        </Typography>\n        {selection ? (\n          <Typography\n            className={classes.bp}\n            variant=\"body2\"\n            color=\"textSecondary\"\n          >\n            {`width:${getBpDisplayStr(hview.bpPerPx * selection.width)}`} <br />\n            {`height:${getBpDisplayStr(vview.bpPerPx * selection.height)}`}\n          </Typography>\n        ) : null}\n        <div className={classes.spacer} />\n      </div>\n    )\n  },\n)\nexport default Header\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core'\nimport { observer } from 'mobx-react'\nimport { getSnapshot } from 'mobx-state-tree'\nimport { getBlockLabelKeysToHide } from './util'\nimport { viewBpToPx } from '@jbrowse/core/util'\nimport { DotplotViewModel } from '../model'\n\nconst useStyles = makeStyles(() => ({\n  vtext: {\n    gridColumn: '1/2',\n    gridRow: '1/2',\n    pointerEvents: 'none',\n    userSelect: 'none',\n  },\n  htext: {\n    gridColumn: '2/2',\n    gridRow: '2/2',\n    pointerEvents: 'none',\n    userSelect: 'none',\n  },\n  majorTickLabel: {\n    fontSize: '11px',\n  },\n  majorTick: {\n    stroke: '#555',\n  },\n  minorTick: {\n    stroke: '#999',\n  },\n}))\n\nexport const HorizontalAxis = observer(\n  ({ model }: { model: DotplotViewModel }) => {\n    const classes = useStyles()\n    const { viewWidth, borderX, borderY, hview, htextRotation, hticks } = model\n    const { offsetPx, width, dynamicBlocks } = hview\n    const dblocks = dynamicBlocks.contentBlocks\n    const hide = getBlockLabelKeysToHide(dblocks, viewWidth, offsetPx)\n    const hviewSnap = { ...getSnapshot(hview), width }\n    return (\n      <svg width={viewWidth} height={borderY} className={classes.htext}>\n        {dblocks\n          .filter(region => !hide.includes(region.key))\n          .map(region => {\n            const x = region.offsetPx\n            const y = 0\n            const xoff = x - hview.offsetPx\n            return (\n              <text\n                transform={`rotate(${htextRotation},${xoff},${y})`}\n                key={JSON.stringify(region)}\n                x={xoff}\n                y={y + 1}\n                fill=\"#000000\"\n                dominantBaseline=\"hanging\"\n                textAnchor=\"end\"\n              >\n                {[\n                  region.refName,\n                  region.start !== 0 ? Math.floor(region.start) : '',\n                ]\n                  .filter(f => !!f)\n                  .join(':')}\n              </text>\n            )\n          })}\n        {hticks.map(tick => {\n          const x =\n            (viewBpToPx({\n              refName: tick.refName,\n              coord: tick.base,\n              self: hviewSnap,\n            })?.offsetPx || 0) - offsetPx\n          return (\n            <line\n              key={`line-${JSON.stringify(tick)}`}\n              x1={x}\n              x2={x}\n              y1={0}\n              y2={tick.type === 'major' ? 6 : 4}\n              strokeWidth={1}\n              stroke={tick.type === 'major' ? '#555' : '#999'}\n              className={\n                tick.type === 'major' ? classes.majorTick : classes.minorTick\n              }\n              data-bp={tick.base}\n            />\n          )\n        })}\n        {hticks\n          .filter(tick => tick.type === 'major')\n          .map(tick => {\n            const x =\n              (viewBpToPx({\n                refName: tick.refName,\n                coord: tick.base,\n                self: hviewSnap,\n              })?.offsetPx || 0) - offsetPx\n            const y = 0\n            return (\n              <text\n                x={x - 7}\n                y={y}\n                transform={`rotate(${htextRotation},${x},${y})`}\n                key={`text-${JSON.stringify(tick)}`}\n                style={{ fontSize: '11px' }}\n                className={classes.majorTickLabel}\n                dominantBaseline=\"middle\"\n                textAnchor=\"end\"\n              >\n                {(tick.base + 1).toLocaleString('en-US')}\n              </text>\n            )\n          })}\n        {hview.assemblyNames.length === 1 ? (\n          <text\n            y={borderY - 12}\n            x={(viewWidth - borderX) / 2}\n            fill=\"black\"\n            textAnchor=\"middle\"\n          >\n            {hview.assemblyNames[0]}\n          </text>\n        ) : null}\n      </svg>\n    )\n  },\n)\nexport const VerticalAxis = observer(\n  ({ model }: { model: DotplotViewModel }) => {\n    const classes = useStyles()\n    const { borderX, viewHeight, borderY, vview, vtextRotation, vticks } = model\n    const { offsetPx, width, dynamicBlocks } = vview\n    const dblocks = dynamicBlocks.contentBlocks\n    const hide = getBlockLabelKeysToHide(dblocks, viewHeight, offsetPx)\n    const vviewSnap = { ...getSnapshot(vview), width }\n    return (\n      <svg className={classes.vtext} width={borderX} height={viewHeight}>\n        {dblocks\n          .filter(region => !hide.includes(region.key))\n          .map(region => {\n            const y = region.offsetPx\n            const x = borderX\n            return (\n              <text\n                transform={`rotate(${vtextRotation},${x},${y})`}\n                key={JSON.stringify(region)}\n                x={x}\n                y={viewHeight - y + offsetPx}\n                fill=\"#000000\"\n                textAnchor=\"end\"\n              >\n                {[\n                  region.refName,\n                  region.start !== 0 ? Math.floor(region.start) : '',\n                ]\n                  .filter(f => !!f)\n                  .join(':')}\n              </text>\n            )\n          })}\n        {vticks.map(tick => {\n          const y =\n            (viewBpToPx({\n              refName: tick.refName,\n              coord: tick.base,\n              self: vviewSnap,\n            })?.offsetPx || 0) - offsetPx\n          return (\n            <line\n              key={`line-${JSON.stringify(tick)}`}\n              y1={viewHeight - y}\n              y2={viewHeight - y}\n              x1={borderX}\n              x2={borderX - (tick.type === 'major' ? 6 : 4)}\n              strokeWidth={1}\n              stroke={tick.type === 'major' ? '#555' : '#999'}\n              className={\n                tick.type === 'major' ? classes.majorTick : classes.minorTick\n              }\n              data-bp={tick.base}\n            />\n          )\n        })}\n        {vticks\n          .filter(tick => tick.type === 'major')\n          .map(tick => {\n            const y =\n              (viewBpToPx({\n                refName: tick.refName,\n                coord: tick.base,\n                self: vviewSnap,\n              })?.offsetPx || 0) - offsetPx\n            return (\n              <text\n                y={viewHeight - y - 3}\n                x={borderX - 7}\n                key={`text-${JSON.stringify(tick)}`}\n                textAnchor=\"end\"\n                dominantBaseline=\"hanging\"\n                style={{ fontSize: '11px' }}\n                className={classes.majorTickLabel}\n              >\n                {(tick.base + 1).toLocaleString('en-US')}\n              </text>\n            )\n          })}\n        {vview.assemblyNames.length === 1 ? (\n          <text\n            y={(viewHeight - borderY) / 2}\n            x={12}\n            transform={`rotate(-90,12,${(viewHeight - borderY) / 2})`}\n            textAnchor=\"middle\"\n          >\n            {vview.assemblyNames[0]}\n          </text>\n        ) : null}\n      </svg>\n    )\n  },\n)\n","import React, { useState, useEffect, useRef } from 'react'\nimport { observer } from 'mobx-react'\nimport { transaction } from 'mobx'\nimport { makeStyles, LinearProgress } from '@material-ui/core'\nimport { Menu, ResizeHandle } from '@jbrowse/core/ui'\nimport normalizeWheel from 'normalize-wheel'\nimport { DotplotViewModel } from '../model'\nimport ImportForm from './ImportForm'\nimport Header from './Header'\nimport { locstr } from './util'\nimport { HorizontalAxis, VerticalAxis } from './Axes'\n\nconst useStyles = makeStyles(theme => ({\n  spacer: {\n    gridColumn: '1/2',\n    gridRow: '2/2',\n  },\n  root: {\n    position: 'relative',\n    marginBottom: theme.spacing(1),\n    overflow: 'hidden',\n  },\n\n  container: {\n    display: 'grid',\n    padding: 5,\n    position: 'relative',\n  },\n  overlay: {\n    pointerEvents: 'none',\n    overflow: 'hidden',\n    display: 'flex',\n    width: '100%',\n    gridRow: '1/2',\n    gridColumn: '2/2',\n    zIndex: 100, // needs to be below controls\n    '& path': {\n      cursor: 'crosshair',\n      fill: 'none',\n    },\n  },\n\n  content: {\n    position: 'relative',\n    gridColumn: '2/2',\n    gridRow: '1/2',\n  },\n\n  popover: {\n    background: '#fff',\n    maxWidth: 400,\n    wordBreak: 'break-all',\n    zIndex: 1000,\n    border: '1px solid black',\n    pointerEvents: 'none',\n    position: 'absolute',\n  },\n}))\n\ntype Coord = [number, number] | undefined\ntype Rect = { left: number; top: number }\n\nconst Grid = observer(\n  ({\n    model,\n    children,\n    stroke = '#0003',\n  }: {\n    model: DotplotViewModel\n    children: React.ReactNode\n    stroke?: string\n  }) => {\n    const { viewWidth, viewHeight, hview, vview } = model\n    const hblocks = hview.dynamicBlocks.contentBlocks\n    const vblocks = vview.dynamicBlocks.contentBlocks\n    const htop = hview.displayedRegionsTotalPx - hview.offsetPx\n    const vtop = vview.displayedRegionsTotalPx - vview.offsetPx\n    const hbottom = hblocks[0]?.offsetPx - hview.offsetPx\n    const vbottom = vblocks[0]?.offsetPx - vview.offsetPx\n\n    return (\n      <svg\n        style={{ background: 'rgba(0,0,0,0.12)' }}\n        width={viewWidth}\n        height={viewHeight}\n      >\n        <rect\n          x={hbottom}\n          y={viewHeight - vtop}\n          width={htop - hbottom}\n          height={vtop - vbottom}\n          fill=\"#fff\"\n        />\n        <g>\n          {hblocks.map(region => {\n            const x = region.offsetPx - hview.offsetPx\n            return (\n              <line\n                key={JSON.stringify(region)}\n                x1={x}\n                y1={0}\n                x2={x}\n                y2={viewHeight}\n                stroke={stroke}\n              />\n            )\n          })}\n          {vblocks.map(region => {\n            const y = viewHeight - (region.offsetPx - vview.offsetPx)\n            return (\n              <line\n                key={JSON.stringify(region)}\n                x1={0}\n                y1={y}\n                x2={viewWidth}\n                y2={y}\n                stroke={stroke}\n              />\n            )\n          })}\n          <line x1={htop} y1={0} x2={htop} y2={viewHeight} stroke={stroke} />\n          <line\n            x1={0}\n            y1={viewHeight - vtop}\n            x2={viewWidth}\n            y2={viewHeight - vtop}\n            stroke={stroke}\n          />\n        </g>\n        {children}\n      </svg>\n    )\n  },\n)\n// produces offsetX/offsetY coordinates from a clientX and an element's\n// getBoundingClientRect\nfunction getOffset(coord: Coord, rect: Rect) {\n  return coord && ([coord[0] - rect.left, coord[1] - rect.top] as Coord)\n}\n\nconst RenderedComponent = observer(({ model }: { model: DotplotViewModel }) => {\n  const classes = useStyles()\n  return (\n    <div className={classes.overlay}>\n      {model.tracks.map(track => {\n        const [display] = track.displays\n        const { RenderingComponent } = display\n\n        return RenderingComponent ? (\n          <RenderingComponent\n            key={track.configuration.trackId}\n            model={display}\n          />\n        ) : null\n      })}\n    </div>\n  )\n})\n\nconst DotplotViewInternal = observer(\n  ({ model }: { model: DotplotViewModel }) => {\n    const { hview, vview, viewHeight } = model\n    const classes = useStyles()\n    const [mousecurrClient, setMouseCurrClient] = useState<Coord>()\n    const [mousedownClient, setMouseDownClient] = useState<Coord>()\n    const [mouseOvered, setMouseOvered] = useState(false)\n    const [mouseupClient, setMouseUpClient] = useState<Coord>()\n    const ref = useRef<HTMLDivElement>(null)\n    const root = useRef<HTMLDivElement>(null)\n    const distanceX = useRef(0)\n    const distanceY = useRef(0)\n    const lref = useRef<HTMLDivElement>(null)\n    const rref = useRef<HTMLDivElement>(null)\n    const scheduled = useRef(false)\n    const blank = { left: 0, top: 0, width: 0, height: 0 }\n    const svg = ref.current?.getBoundingClientRect() || blank\n    const rrect = rref.current?.getBoundingClientRect() || blank\n    const lrect = lref.current?.getBoundingClientRect() || blank\n    const mousedown = getOffset(mousedownClient, svg)\n    const mousecurr = getOffset(mousecurrClient, svg)\n    const mouseup = getOffset(mouseupClient, svg)\n    const mouserect = mouseup || mousecurr\n    let selection\n    if (mousedown && mousecurr) {\n      selection = {\n        width: Math.abs(mousedown[0] - mousecurr[0]),\n        height: Math.abs(mousedown[1] - mousecurr[1]),\n      }\n    }\n    if (mouseup && mousedown) {\n      selection = {\n        width: Math.abs(mouseup[0] - mousedown[0]),\n        height: Math.abs(mouseup[1] - mousedown[1]),\n      }\n    }\n\n    // use non-React wheel handler to properly prevent body scrolling\n    useEffect(() => {\n      function onWheel(origEvent: WheelEvent) {\n        const event = normalizeWheel(origEvent)\n        origEvent.preventDefault()\n\n        distanceX.current += event.pixelX\n        distanceY.current -= event.pixelY\n        if (!scheduled.current) {\n          scheduled.current = true\n\n          window.requestAnimationFrame(() => {\n            transaction(() => {\n              model.hview.scroll(distanceX.current)\n              model.vview.scroll(distanceY.current)\n            })\n            scheduled.current = false\n            distanceX.current = 0\n            distanceY.current = 0\n          })\n        }\n      }\n      if (ref.current) {\n        const curr = ref.current\n        curr.addEventListener('wheel', onWheel)\n        return () => {\n          curr.removeEventListener('wheel', onWheel)\n        }\n      }\n      return () => {}\n    }, [model.hview, model.vview])\n\n    useEffect(() => {\n      function globalMouseMove(event: MouseEvent) {\n        setMouseCurrClient([event.clientX, event.clientY])\n      }\n\n      window.addEventListener('mousemove', globalMouseMove)\n      return () => {\n        window.removeEventListener('mousemove', globalMouseMove)\n      }\n    }, [])\n\n    // detect a mouseup after a mousedown was submitted, autoremoves mouseup\n    // once that single mouseup is set\n    useEffect(() => {\n      let cleanup = () => {}\n\n      function globalMouseUp(event: MouseEvent) {\n        if (\n          mousedown &&\n          mousecurr &&\n          Math.abs(mousedown[0] - mousecurr[0]) > 3 &&\n          Math.abs(mousedown[1] - mousecurr[1]) > 3\n        ) {\n          setMouseUpClient([event.clientX, event.clientY])\n        } else {\n          setMouseDownClient(undefined)\n        }\n      }\n\n      if (mousedown && !mouseup) {\n        window.addEventListener('mouseup', globalMouseUp, true)\n        cleanup = () => {\n          window.removeEventListener('mouseup', globalMouseUp, true)\n        }\n      }\n      return cleanup\n    }, [mousedown, mousecurr, mouseup])\n\n    return (\n      <div>\n        <Header model={model} selection={selection} />\n        <div\n          ref={root}\n          className={classes.root}\n          onMouseLeave={() => setMouseOvered(false)}\n          onMouseEnter={() => setMouseOvered(true)}\n        >\n          <div\n            className={classes.container}\n            style={{\n              transform: `scaleX(${model.hview.scaleFactor}) scaleY(${model.vview.scaleFactor})`,\n            }}\n          >\n            <VerticalAxis model={model} />\n            <HorizontalAxis model={model} />\n            <div ref={ref} className={classes.content}>\n              {mouseOvered && mouserect ? (\n                <div\n                  ref={lref}\n                  className={classes.popover}\n                  style={{\n                    left:\n                      mouserect[0] -\n                      (mousedown && mouserect[0] - mousedown[0] < 0\n                        ? lrect.width\n                        : 0),\n                    top:\n                      mouserect[1] -\n                      (mousedown && mouserect[1] - mousedown[1] < 0\n                        ? lrect.height\n                        : 0),\n                  }}\n                >\n                  {`x - ${locstr(mouserect[0], hview)}`}\n                  <br />\n                  {`y - ${locstr(viewHeight - mouserect[1], vview)}`}\n                  <br />\n                </div>\n              ) : null}\n              {mousedown &&\n              mouserect &&\n              Math.abs(mousedown[0] - mouserect[0]) > 3 &&\n              Math.abs(mousedown[1] - mouserect[1]) > 3 ? (\n                <div\n                  ref={rref}\n                  className={classes.popover}\n                  style={{\n                    left:\n                      mousedown[0] -\n                      (mouserect[0] - mousedown[0] < 0 ? 0 : rrect.width),\n                    top:\n                      mousedown[1] -\n                      (mouserect[1] - mousedown[1] < 0 ? 0 : rrect.height),\n                  }}\n                >\n                  {`x - ${locstr(mousedown[0], hview)}`}\n                  <br />\n                  {`y - ${locstr(viewHeight - mousedown[1], vview)}`}\n                  <br />\n                </div>\n              ) : null}\n\n              <div\n                role=\"presentation\"\n                style={{ cursor: 'crosshair' }}\n                onMouseDown={event => {\n                  if (event.button === 0) {\n                    setMouseDownClient([event.clientX, event.clientY])\n                    setMouseCurrClient([event.clientX, event.clientY])\n                  }\n                }}\n              >\n                <Grid model={model}>\n                  {mousedown && mouserect ? (\n                    <rect\n                      fill=\"rgba(255,0,0,0.3)\"\n                      x={Math.min(mouserect[0], mousedown[0])}\n                      y={Math.min(mouserect[1], mousedown[1])}\n                      width={Math.abs(mouserect[0] - mousedown[0])}\n                      height={Math.abs(mouserect[1] - mousedown[1])}\n                    />\n                  ) : null}\n                </Grid>\n              </div>\n              <div className={classes.spacer} />\n            </div>\n            <RenderedComponent model={model} />\n            <Menu\n              open={Boolean(mouseup)}\n              onMenuItemClick={(_, callback) => {\n                callback()\n                setMouseUpClient(undefined)\n                setMouseDownClient(undefined)\n              }}\n              onClose={() => {\n                setMouseUpClient(undefined)\n                setMouseDownClient(undefined)\n              }}\n              anchorReference=\"anchorPosition\"\n              anchorPosition={\n                mouseupClient\n                  ? {\n                      top: mouseupClient[1] + 30,\n                      left: mouseupClient[0] + 30,\n                    }\n                  : undefined\n              }\n              style={{ zIndex: 10000 }}\n              menuItems={[\n                {\n                  label: 'Zoom in',\n                  onClick: () => {\n                    if (mousedown && mouseup) {\n                      model.zoomIn(mousedown, mouseup)\n                    }\n                  },\n                },\n                {\n                  label: 'Open linear synteny view',\n                  onClick: () => {\n                    if (mousedown && mouseup) {\n                      model.onDotplotView(mousedown, mouseup)\n                    }\n                  },\n                },\n              ]}\n            />\n          </div>\n          <ResizeHandle\n            onDrag={n => model.setHeight(model.height + n)}\n            style={{\n              height: 4,\n              background: '#ccc',\n              boxSizing: 'border-box',\n              borderTop: '1px solid #fafafa',\n            }}\n          />\n        </div>\n      </div>\n    )\n  },\n)\nconst DotplotView = observer(({ model }: { model: DotplotViewModel }) => {\n  const { initialized, loading, error } = model\n\n  if ((!initialized && !loading) || error) {\n    return <ImportForm model={model} />\n  }\n\n  if (loading) {\n    return (\n      <div>\n        <p>Loading...</p>\n        <LinearProgress />\n      </div>\n    )\n  }\n\n  return <DotplotViewInternal model={model} />\n})\n\nexport default DotplotView\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z\"\n}), 'KeyboardArrowLeft');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"\n}), 'KeyboardArrowRight');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z\"\n}), 'KeyboardArrowUp');\n\nexports.default = _default;","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n"],"names":["useStyles","makeStyles","theme","importFormContainer","padding","spacing","margin","assemblySelector","width","getName","trackData","uri","localPath","name","undefined","observer","model","classes","session","getSession","assemblyNames","assemblyManager","useState","setTrackData","bed2Location","setBed2Location","bed1Location","setBed1Location","targetAssembly","setTargetAssembly","queryAssembly","setQueryAssembly","selected","error","setError","value","setValue","fileName","radioOption","path","endsWith","slice","length","stripGz","assemblyError","map","a","get","filter","f","join","getAdapter","type","pafLocation","outLocation","deltaLocation","chainLocation","mcscanAnchorsLocation","mcscanSimpleAnchorsLocation","Error","displayError","Container","className","ErrorMessage","Grid","container","justifyContent","alignItems","item","Paper","style","textAlign","Typography","AssemblySelector","extra","onChange","val","RadioGroup","event","target","FormControlLabel","control","Radio","label","href","display","FileSelector","description","location","setLocation","loc","Button","onClick","isSessionWithAddTracks","transaction","trackId","Date","now","addTrackConf","adapter","toggleTrack","setViews","bpPerPx","offsetPx","setAssemblyNames","e","console","disabled","variant","color","iconButton","bp","marginLeft","spacer","flexGrow","headerBar","DotplotControls","menuAnchorEl","setMenuAnchorEl","IconButton","hview","scroll","title","vview","zoomOutButton","ZoomOut","Z","zoomInButton","ZoomIn","activateTrackSelector","currentTarget","CropFree","Menu","anchorEl","keepMounted","open","Boolean","onMenuItemClick","_event","callback","menuItems","squareView","squareViewProportional","onClose","selection","getBpDisplayStr","currBp","height","vtext","gridColumn","gridRow","pointerEvents","userSelect","htext","majorTickLabel","fontSize","majorTick","stroke","minorTick","HorizontalAxis","viewWidth","borderX","borderY","htextRotation","hticks","dblocks","dynamicBlocks","contentBlocks","hide","getBlockLabelKeysToHide","hviewSnap","getSnapshot","region","includes","key","xoff","transform","x","y","fill","dominantBaseline","textAnchor","refName","start","Math","floor","JSON","stringify","tick","viewBpToPx","coord","base","self","x1","x2","y1","y2","strokeWidth","toLocaleString","VerticalAxis","viewHeight","vtextRotation","vticks","vviewSnap","root","position","marginBottom","overflow","overlay","zIndex","cursor","content","popover","background","maxWidth","wordBreak","border","children","hblocks","vblocks","htop","displayedRegionsTotalPx","vtop","hbottom","vbottom","getOffset","rect","left","top","RenderedComponent","tracks","track","displays","RenderingComponent","configuration","DotplotViewInternal","mousecurrClient","setMouseCurrClient","mousedownClient","setMouseDownClient","mouseOvered","setMouseOvered","mouseupClient","setMouseUpClient","ref","useRef","distanceX","distanceY","lref","rref","scheduled","blank","svg","current","getBoundingClientRect","rrect","lrect","mousedown","mousecurr","mouseup","mouserect","abs","useEffect","onWheel","origEvent","normalizeWheel","preventDefault","pixelX","pixelY","window","requestAnimationFrame","curr","addEventListener","removeEventListener","globalMouseMove","clientX","clientY","cleanup","globalMouseUp","onMouseLeave","onMouseEnter","scaleFactor","locstr","role","onMouseDown","button","min","_","anchorReference","anchorPosition","zoomIn","onDotplotView","ResizeHandle","onDrag","n","setHeight","boxSizing","borderTop","initialized","loading","ImportForm","LinearProgress","_interopRequireDefault","require","_interopRequireWildcard","exports","React","_default","default","createElement","d","assertPath","TypeError","normalizeStringPosix","allowAboveRoot","code","res","lastSegmentLength","lastSlash","dots","i","charCodeAt","lastSlashIndex","lastIndexOf","posix","resolve","cwd","resolvedPath","resolvedAbsolute","arguments","process","normalize","isAbsolute","trailingSeparator","joined","arg","relative","from","to","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","out","_makeLong","dirname","hasRoot","end","matchedSlash","basename","ext","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","format","pathObject","sep","dir","_format","parse","ret","delimiter","win32","module"],"sourceRoot":""}