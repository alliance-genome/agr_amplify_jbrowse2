"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[2670],{56131:function(e,t,r){r.d(t,{UL:function(){return m},WK:function(){return x},i1:function(){return v},u_:function(){return u}});var n=r(33028),i=(r(96902),r(91188)),o=r(4782),a=r(63680),s=r(27664),c=r(98103),l=r(88636),f=r(44529),d=r(29938),h=(0,i.ZL)()((function(){return{vtext:{gridColumn:"1/2",gridRow:"1/2",pointerEvents:"none",userSelect:"none"},htext:{gridColumn:"2/2",gridRow:"2/2",pointerEvents:"none",userSelect:"none"}}})),u=(0,o.observer)((function(e){var t=e.model,r=t.viewWidth,n=t.borderY,i=h().classes;return(0,d.jsx)("svg",{width:r,height:n,className:i.htext,children:(0,d.jsx)(x,{model:t})})})),x=(0,o.observer)((function(e){var t=e.model,r=t.viewWidth,i=t.borderX,o=t.borderY,h=t.hview,u=t.htextRotation,x=t.hticks,m=h.offsetPx,v=h.width,p=h.dynamicBlocks,g=h.bpPerPx,y=p.contentBlocks,w=(0,f.F$)(y,r,m),j=(0,l.Z)(),k=(0,n.Z)((0,n.Z)({},(0,a.getSnapshot)(h)),{},{width:v,staticBlocks:h.staticBlocks});return(0,d.jsxs)(d.Fragment,{children:[y.filter((function(e){return!w.has(e.key)})).map((function(e){var t=e.offsetPx,r=Math.floor(t-h.offsetPx);return(0,d.jsx)("text",{transform:"rotate(".concat(u,",").concat(r,",").concat(0,")"),x:r,y:1,fill:j.palette.text.primary,fontSize:11,dominantBaseline:"hanging",textAnchor:"end",children:e.refName},JSON.stringify(e))})),x.map((function(e){var t,r=((null===(t=(0,c.R)({refName:e.refName,coord:e.base,self:k}))||void 0===t?void 0:t.offsetPx)||0)-m;return(0,d.jsx)("line",{x1:r,x2:r,y1:0,y2:"major"===e.type?6:4,strokeWidth:1,stroke:j.palette.divider},"line-".concat(JSON.stringify(e)))})),x.filter((function(e){return"major"===e.type})).map((function(e){var t,r=((null===(t=(0,c.R)({refName:e.refName,coord:e.base,self:k}))||void 0===t?void 0:t.offsetPx)||0)-m;return r>10?(0,d.jsx)("text",{x:r-7,y:0,transform:"rotate(".concat(u,",").concat(r,",").concat(0,")"),fill:j.palette.text.primary,fontSize:11,dominantBaseline:"middle",textAnchor:"end",children:(0,s.getTickDisplayStr)(e.base+1,g)},"text-".concat(JSON.stringify(e))):null})),(0,d.jsx)("text",{y:o-12,x:(r-i)/2,fill:j.palette.text.primary,textAnchor:"middle",fontSize:11,dominantBaseline:"hanging",children:h.assemblyNames.join(",")})]})})),m=(0,o.observer)((function(e){var t=e.model,r=t.borderX,n=t.viewHeight,i=h().classes;return(0,d.jsx)("svg",{className:i.vtext,width:r,height:n,children:(0,d.jsx)(v,{model:t})})})),v=(0,o.observer)((function(e){var t=e.model,r=t.viewHeight,i=t.borderX,o=t.borderY,h=t.vview,u=t.vtextRotation,x=t.vticks,m=h.offsetPx,v=h.width,p=h.dynamicBlocks,g=h.bpPerPx,y=p.contentBlocks,w=(0,f.F$)(y,r,m),j=(0,l.Z)(),k=(0,n.Z)((0,n.Z)({},(0,a.getSnapshot)(h)),{},{width:v,staticBlocks:h.staticBlocks});return(0,d.jsxs)(d.Fragment,{children:[y.filter((function(e){return!w.has(e.key)})).map((function(e){var t=e.offsetPx,n=i,o=Math.floor(r-t+m);return(0,d.jsx)("text",{transform:"rotate(".concat(u,",").concat(n,",").concat(t,")"),x:n,y:o,fill:j.palette.text.primary,fontSize:11,textAnchor:"end",children:e.refName},JSON.stringify(e))})),x.map((function(e){var t,n=((null===(t=(0,c.R)({refName:e.refName,coord:e.base,self:k}))||void 0===t?void 0:t.offsetPx)||0)-m;return(0,d.jsx)("line",{y1:r-n,y2:r-n,x1:i,x2:i-("major"===e.type?6:4),strokeWidth:1,stroke:j.palette.divider},"line-".concat(JSON.stringify(e)))})),x.filter((function(e){return"major"===e.type})).map((function(e){var t,n=((null===(t=(0,c.R)({refName:e.refName,coord:e.base,self:k}))||void 0===t?void 0:t.offsetPx)||0)-m;return n>10?(0,d.jsx)("text",{y:r-n-3,x:i-7,textAnchor:"end",fill:j.palette.text.primary,dominantBaseline:"hanging",fontSize:11,children:(0,s.getTickDisplayStr)(e.base+1,g)},"text-".concat(JSON.stringify(e))):null})),(0,d.jsx)("text",{y:(r-o)/2,x:12,fill:j.palette.text.primary,transform:"rotate(-90,12,".concat((r-o)/2,")"),textAnchor:"middle",fontSize:11,children:h.assemblyNames.join(",")})]})}))},78866:function(e,t,r){r.d(t,{B:function(){return a},Z:function(){return s}});r(96902);var n=r(4782),i=r(88636),o=r(29938),a=(0,n.observer)((function(e){var t=e.model,r=e.children,n=t.viewWidth,a=t.viewHeight,s=t.hview,c=t.vview,l=s.dynamicBlocks.contentBlocks,f=c.dynamicBlocks.contentBlocks;if(!l.length||!f.length)return null;var d=s.displayedRegionsTotalPx-s.offsetPx,h=c.displayedRegionsTotalPx-c.offsetPx,u=l[0].offsetPx-s.offsetPx,x=f[0].offsetPx-c.offsetPx,m=(0,i.Z)(),v=m.palette.divider,p=Math.max(u,0),g=Math.max(a-h,0),y=Math.min(d-u,n),w=Math.min(a-x-g,a),j=1/0,k=1/0;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("rect",{x:p,y:g,width:y,height:w,fill:m.palette.background.default}),(0,o.jsxs)("g",{children:[l.map((function(e){var t=e.offsetPx-s.offsetPx,r=Math.floor(t)!==Math.floor(j);return r&&(j=t),r?(0,o.jsx)("line",{x1:t,y1:0,x2:t,y2:a,stroke:v},JSON.stringify(e)):null})),f.map((function(e){var t=a-(e.offsetPx-c.offsetPx),r=Math.floor(t)!==Math.floor(k);return r&&(k=t),r?(0,o.jsx)("line",{x1:0,y1:t,x2:n,y2:t,stroke:v},JSON.stringify(e)):null})),(0,o.jsx)("line",{x1:d,y1:0,x2:d,y2:a,stroke:v}),(0,o.jsx)("line",{x1:0,y1:a-h,x2:n,y2:a-h,stroke:v})]}),r]})}));function s(e){var t=e.model,r=e.children,n=t.viewWidth,i=t.viewHeight;return(0,o.jsx)("svg",{width:n,height:i,style:{background:"rgba(0,0,0,0.12)"},children:(0,o.jsx)(a,{model:t,children:r})})}},32670:function(e,t,r){r.r(t),r.d(t,{renderToSvg:function(){return g}});var n=r(32723),i=r(33028),o=r(34795),a=(r(96902),r(30908)),s=r(75717),c=r(27664),l=r(93751),f=r(17867),d=r(78866),h=r(56131),u=r(55707),x=r.n(u),m=r(88636),v=r(29938);function p(e){var t=e.width,r=e.height,n=(0,m.Z)();return(0,v.jsx)("rect",{x:0,y:0,width:t,height:r,fill:x()(n.palette.background.default).hex()})}function g(e,t){return y.apply(this,arguments)}function y(){return y=(0,o.Z)((0,n.Z)().mark((function e(t,r){var u,x,m,g,y,w,j,k,b,P,S,N,B,Z,M,R;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.when)((function(){return t.initialized}));case 2:return x=r.themeName,m=void 0===x?"default":x,g=r.Wrapper,y=void 0===g?function(e){var t=e.children;return(0,v.jsx)(v.Fragment,{children:t})}:g,w=(0,c.getSession)(t),j=null===(u=w.allThemes)||void 0===u?void 0:u.call(w)[m],k=t.width,b=t.borderX,P=t.viewWidth,S=t.viewHeight,N=t.tracks,B=t.height,Z=50,e.next=9,Promise.all(N.map(function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t){var o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.displays[0],e.next=3,(0,s.when)((function(){return void 0===o.ready||o.ready}));case 3:return e.t0=t,e.next=6,o.renderSvg((0,i.Z)((0,i.Z)({},r),{},{theme:j}));case 6:return e.t1=e.sent,e.abrupt("return",{track:e.t0,result:e.t1});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:return M=e.sent,R=k+2*Z,e.abrupt("return",(0,a.renderToStaticMarkup)((0,v.jsx)(l.Z,{theme:(0,f.createJBrowseTheme)(j),children:(0,v.jsx)(y,{children:(0,v.jsxs)("svg",{width:k,height:B,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:[0,0,R,B].toString(),children:[(0,v.jsx)(p,{width:R,height:B}),(0,v.jsx)(h.i1,{model:t}),(0,v.jsxs)("g",{transform:"translate(".concat(b," 0)"),children:[(0,v.jsx)(d.B,{model:t}),(0,v.jsx)("defs",{children:(0,v.jsx)("clipPath",{id:"clip-ruler",children:(0,v.jsx)("rect",{x:0,y:0,width:P,height:S})})}),(0,v.jsx)("g",{clipPath:"url(#clip-ruler)",children:M.map((function(e,t){var r=e.result;return(0,v.jsx)("g",{children:r},t)}))})]}),(0,v.jsx)("g",{transform:"translate(".concat(b," ").concat(S,")"),children:(0,v.jsx)(h.WK,{model:t})})]})})})));case 12:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}}}]);
//# sourceMappingURL=2670.64f16f34.chunk.js.map