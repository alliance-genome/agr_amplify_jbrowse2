"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[6528,5335],{85335:function(e,o,r){r.r(o),r.d(o,{ColorPicker:function(){return W},ColorPopover:function(){return V},PopoverPicker:function(){return U},default:function(){return G}});var n=r(96234),t=r(96902),a=r(55707),c=r.n(a),l=r(78566),i=r(33266),s=r(15996),u=r(66519),f=r(91188),d=r(66185),h=r(27664);function v(){return(v=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,o){if(null==e)return{};var r,n,t={},a=Object.keys(e);for(n=0;n<a.length;n++)o.indexOf(r=a[n])>=0||(t[r]=e[r]);return t}function g(e){var o=(0,t.useRef)(e),r=(0,t.useRef)((function(e){o.current&&o.current(e)}));return o.current=e,r.current}var m=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e>r?r:e<o?o:e},b=function(e){return"touches"in e},x=function(e){return e&&e.ownerDocument.defaultView||self},C=function(e,o,r){var n=e.getBoundingClientRect(),t=b(o)?function(e,o){for(var r=0;r<e.length;r++)if(e[r].identifier===o)return e[r];return e[0]}(o.touches,r):o;return{left:m((t.pageX-(n.left+x(e).pageXOffset))/n.width),top:m((t.pageY-(n.top+x(e).pageYOffset))/n.height)}},_=function(e){!b(e)&&e.preventDefault()},Z=t.memo((function(e){var o=e.onMove,r=e.onKey,a=p(e,["onMove","onKey"]),c=(0,t.useRef)(null),l=g(o),i=g(r),s=(0,t.useRef)(null),u=(0,t.useRef)(!1),f=(0,t.useMemo)((function(){var e=function(e){_(e),(b(e)?e.touches.length>0:e.buttons>0)&&c.current?l(C(c.current,e,s.current)):r(!1)},o=function(){return r(!1)};function r(r){var n=u.current,t=x(c.current),a=r?t.addEventListener:t.removeEventListener;a(n?"touchmove":"mousemove",e),a(n?"touchend":"mouseup",o)}return[function(e){var o=e.nativeEvent,n=c.current;if(n&&(_(o),!function(e,o){return o&&!b(e)}(o,u.current)&&n)){if(b(o)){u.current=!0;var t=o.changedTouches||[];t.length&&(s.current=t[0].identifier)}n.focus(),l(C(n,o,s.current)),r(!0)}},function(e){var o=e.which||e.keyCode;o<37||o>40||(e.preventDefault(),i({left:39===o?.05:37===o?-.05:0,top:40===o?.05:38===o?-.05:0}))},r]}),[i,l]),d=(0,n.Z)(f,3),h=d[0],m=d[1],Z=d[2];return(0,t.useEffect)((function(){return Z}),[Z]),t.createElement("div",v({},a,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:c,onKeyDown:m,tabIndex:0,role:"slider"}))})),k=function(e){return e.filter(Boolean).join(" ")},j=function(e){var o=e.className,r=e.color,n=e.left,a=e.top,c=void 0===a?.5:a,l=k(["react-colorful__pointer",o]);return t.createElement("div",{className:l,style:{top:100*c+"%",left:100*n+"%"}},t.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:r}}))},w=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.pow(10,o);return Math.round(r*e)/r},y=(Math.PI,function(e){var o=e.h,r=e.s,n=e.v,t=e.a,a=(200-r)*n/100;return{h:w(o),s:w(a>0&&a<200?r*n/100/(a<=100?a:200-a)*100:0),l:w(a/2),a:w(t,2)}}),N=function(e){var o=y(e),r=o.h,n=o.s,t=o.l;return"hsl(".concat(r,", ").concat(n,"%, ").concat(t,"%)")},E=function(e){var o=y(e),r=o.h,n=o.s,t=o.l,a=o.a;return"hsla(".concat(r,", ").concat(n,"%, ").concat(t,"%, ").concat(a,")")},S=function(e){var o=e.h,r=e.s,n=e.v,t=e.a;o=o/360*6,r/=100,n/=100;var a=Math.floor(o),c=n*(1-r),l=n*(1-(o-a)*r),i=n*(1-(1-o+a)*r),s=a%6;return{r:w(255*[n,l,c,c,i,n][s]),g:w(255*[i,n,n,l,c,c][s]),b:w(255*[c,c,i,n,n,l][s]),a:w(t,2)}},M=function(e){var o=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return o?P({r:Number(o[1])/(o[2]?100/255:1),g:Number(o[3])/(o[4]?100/255:1),b:Number(o[5])/(o[6]?100/255:1),a:void 0===o[7]?1:Number(o[7])/(o[8]?100:1)}):{h:0,s:0,v:0,a:1}},P=function(e){var o=e.r,r=e.g,n=e.b,t=e.a,a=Math.max(o,r,n),c=a-Math.min(o,r,n),l=c?a===o?(r-n)/c:a===r?2+(n-o)/c:4+(o-r)/c:0;return{h:w(60*(l<0?l+6:l)),s:w(a?c/a*100:0),v:w(a/255*100),a:t}},z=t.memo((function(e){var o=e.className,r=e.hue,n=e.onChange,a=k(["react-colorful__hue",o]);return t.createElement("div",{className:a},t.createElement(Z,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:m(r+360*e.left,0,360)})},"aria-label":"Hue","aria-valuetext":w(r)},t.createElement(j,{className:"react-colorful__hue-pointer",left:r/360,color:N({h:r,s:100,v:100,a:1})})))})),R=t.memo((function(e){var o=e.hsva,r=e.onChange,n={backgroundColor:N({h:o.h,s:100,v:100,a:1})};return t.createElement("div",{className:"react-colorful__saturation",style:n},t.createElement(Z,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:m(o.s+100*e.left,0,100),v:m(o.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation ".concat(w(o.s),"%, Brightness ").concat(w(o.v),"%")},t.createElement(j,{className:"react-colorful__saturation-pointer",top:1-o.v/100,left:o.s/100,color:N(o)})))})),O=function(e,o){if(e===o)return!0;for(var r in e)if(e[r]!==o[r])return!1;return!0},H=function(e,o){return e.replace(/\s/g,"")===o.replace(/\s/g,"")};function D(e,o,r){var a=g(r),c=(0,t.useState)((function(){return e.toHsva(o)})),l=(0,n.Z)(c,2),i=l[0],s=l[1],u=(0,t.useRef)({color:o,hsva:i});(0,t.useEffect)((function(){if(!e.equal(o,u.current.color)){var r=e.toHsva(o);u.current={hsva:r,color:o},s(r)}}),[o,e]),(0,t.useEffect)((function(){var o;O(i,u.current.hsva)||e.equal(o=e.fromHsva(i),u.current.color)||(u.current={hsva:i,color:o},a(o))}),[i,e,a]);var f=(0,t.useCallback)((function(e){s((function(o){return Object.assign({},o,e)}))}),[]);return[i,f]}var I,K="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,L=new Map,B=function(e){K((function(){var o=e.current?e.current.ownerDocument:document;if(void 0!==o&&!L.has(o)){var n=o.createElement("style");n.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',L.set(o,n);var t=I||r.nc;t&&n.setAttribute("nonce",t),o.head.appendChild(n)}}),[])},F=function(e){var o=e.className,r=e.hsva,n=e.onChange,a={backgroundImage:"linear-gradient(90deg, ".concat(E(Object.assign({},r,{a:0})),", ").concat(E(Object.assign({},r,{a:1})),")")},c=k(["react-colorful__alpha",o]);return t.createElement("div",{className:c},t.createElement("div",{className:"react-colorful__alpha-gradient",style:a}),t.createElement(Z,{onMove:function(e){n({a:e.left})},onKey:function(e){n({a:m(r.a+e.left)})},"aria-label":"Alpha","aria-valuetext":"".concat(w(100*r.a),"%")},t.createElement(j,{className:"react-colorful__alpha-pointer",left:r.a,color:E(r)})))},T=function(e){var o=e.className,r=e.colorModel,a=e.color,c=void 0===a?r.defaultColor:a,l=e.onChange,i=p(e,["className","colorModel","color","onChange"]),s=(0,t.useRef)(null);B(s);var u=D(r,c,l),f=(0,n.Z)(u,2),d=f[0],h=f[1],g=k(["react-colorful",o]);return t.createElement("div",v({},i,{ref:s,className:g}),t.createElement(R,{hsva:d,onChange:h}),t.createElement(z,{hue:d.h,onChange:h}),t.createElement(F,{hsva:d,onChange:h,className:"react-colorful__last-control"}))},q={defaultColor:"rgba(0, 0, 0, 1)",toHsva:M,fromHsva:function(e){var o=S(e),r=o.r,n=o.g,t=o.b,a=o.a;return"rgba(".concat(r,", ").concat(n,", ").concat(t,", ").concat(a,")")},equal:H},A=function(e){return t.createElement(T,v({},e,{colorModel:q}))},X=r(29938),Y=(0,f.ZL)()({picker:{position:"relative"},swatches:{display:"flex",padding:12,flexWrap:"wrap"},swatch:{width:24,height:24,margin:4,border:"none",padding:0,cursor:"pointer",outline:"none"}}),U=function(e){var o=e.color,r=e.onChange,a=(0,t.useState)(null),c=(0,n.Z)(a,2),l=c[0],i=c[1],s=Y().classes;return(0,X.jsxs)("div",{className:s.picker,children:[(0,X.jsx)("div",{className:s.swatch,style:{backgroundColor:o},onClick:function(e){return i(e.currentTarget)}}),(0,X.jsx)(V,{anchorEl:l,onClose:function(){return i(null)},color:o,onChange:r})]})};function V(e){var o=e.anchorEl,r=e.onChange,n=e.onClose,t=e.color;return(0,X.jsx)(l.ZP,{open:!!o,anchorEl:o,onClose:n,children:(0,X.jsx)(W,{color:t,onChange:r})})}function W(e){var o=e.onChange,r=e.color,a=Y().classes,l=(0,h.useLocalStorage)("colorPickerPalette","set1"),f=(0,n.Z)(l,2),v=f[0],p=f[1],g=d[v],m=Object.keys(d),b=(0,t.useState)(r),x=(0,n.Z)(b,2),C=x[0],_=x[1],Z=c()(r).rgb().toString(),k=(0,h.useDebounce)(Z,1e3),j=function(e){_(e);try{o(c()(e).rgb().toString())}catch(r){}};return(0,X.jsxs)("div",{style:{display:"flex",padding:10},children:[(0,X.jsx)("div",{style:{width:200,margin:5},children:(0,X.jsx)(A,{color:k,onChange:j})}),(0,X.jsxs)("div",{style:{width:200,margin:5},children:[(0,X.jsx)(i.Z,{value:v,onChange:function(e){var o=e.target.value;p(o)},children:m.map((function(e){return(0,X.jsx)(s.Z,{value:e,children:e},e)}))}),(0,X.jsx)("div",{className:a.swatches,children:g.map((function(e,o){return(0,X.jsx)("button",{className:a.swatch,style:{background:e},onClick:function(){return j(e)}},"".concat(e,"-").concat(o))}))}),(0,X.jsx)(u.Z,{helperText:"Manually set color (hex, rgb, or css color name)",value:C,onChange:function(e){return j(e.target.value)}})]})]})}var G=U},76528:function(e,o,r){r.r(o);var n=r(96234),t=r(96902),a=r(4782),c=r(52809),l=r(35388),i=r(80367),s=r(12221),u=r(99688),f=r(44536),d=r(17867),h=r(85335),v=r(29938);o.default=(0,a.observer)((function(e){var o=e.model,r=e.handleClose,a=(0,t.useState)(!1),p=(0,n.Z)(a,2),g=p[0],m=p[1];return(0,v.jsxs)(d.Dialog,{open:!0,onClose:r,title:"Set color",children:[(0,v.jsxs)(c.Z,{children:[(0,v.jsx)(l.Z,{children:"Select either an overall color, or the positive/negative colors. Note that density renderers only work properly with positive/negative colors"}),(0,v.jsx)(i.Z,{checked:!g,onClick:function(){return m(!1)},control:(0,v.jsx)(s.Z,{}),label:"Overall color"}),(0,v.jsx)(i.Z,{checked:g,onClick:function(){return m(!0)},control:(0,v.jsx)(s.Z,{}),label:"Positive/negative color"}),g?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l.Z,{children:"Positive color"}),(0,v.jsx)(h.ColorPicker,{color:o.posColor||"black",onChange:function(e){o.setPosColor(e),o.setColor(void 0)}}),(0,v.jsx)(l.Z,{children:"Negative color"}),(0,v.jsx)(h.ColorPicker,{color:o.negColor||"black",onChange:function(e){o.setNegColor(e),o.setColor(void 0)}})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l.Z,{children:"Overall color"}),(0,v.jsx)(h.ColorPicker,{color:o.color||"black",onChange:function(e){return o.setColor(e)}})]})]}),(0,v.jsxs)(u.Z,{children:[(0,v.jsx)(f.Z,{onClick:function(){o.setPosColor(void 0),o.setNegColor(void 0),o.setColor(void 0)},color:"secondary",variant:"contained",children:"Restore default"}),(0,v.jsx)(f.Z,{variant:"contained",color:"primary",type:"submit",onClick:function(){return r()},children:"Submit"})]})]})}))},12221:function(e,o,r){r.d(o,{Z:function(){return S}});var n=r(56666),t=r(31461),a=r(7896),c=r(96902),l=r(37032),i=r(73674),s=r(16644),u=r(95790),f=r(53068),d=r(30992),h=r(29938),v=(0,d.Z)((0,h.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),p=(0,d.Z)((0,h.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),g=r(2252),m=(0,g.ZP)("span")({position:"relative",display:"flex"}),b=(0,g.ZP)(v)({transform:"scale(1)"}),x=(0,g.ZP)(p)((function(e){var o=e.theme,r=e.ownerState;return(0,a.Z)({left:0,position:"absolute",transform:"scale(0)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeIn,duration:o.transitions.duration.shortest})},r.checked&&{transform:"scale(1)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeOut,duration:o.transitions.duration.shortest})})}));var C=function(e){var o=e.checked,r=void 0!==o&&o,n=e.classes,t=void 0===n?{}:n,c=e.fontSize,l=(0,a.Z)({},e,{checked:r});return(0,h.jsxs)(m,{className:t.root,ownerState:l,children:[(0,h.jsx)(b,{fontSize:c,className:t.background,ownerState:l}),(0,h.jsx)(x,{fontSize:c,className:t.dot,ownerState:l})]})},_=r(70378),Z=r(69491),k=r(63838),j=r(17318),w=["checked","checkedIcon","color","icon","name","onChange","size","className"],y=(0,g.ZP)(u.Z,{shouldForwardProp:function(e){return(0,g.FO)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,o){var r=e.ownerState;return[o.root,o["color".concat((0,_.Z)(r.color))]]}})((function(e){var o=e.theme,r=e.ownerState;return(0,a.Z)({color:(o.vars||o).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:o.vars?"rgba(".concat("default"===r.color?o.vars.palette.action.activeChannel:o.vars.palette[r.color].mainChannel," / ").concat(o.vars.palette.action.hoverOpacity,")"):(0,s.Fq)("default"===r.color?o.palette.action.active:o.palette[r.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(0,n.Z)({},"&.".concat(j.Z.checked),{color:(o.vars||o).palette[r.color].main}),(0,n.Z)({},"&.".concat(j.Z.disabled),{color:(o.vars||o).palette.action.disabled}))}));var N=(0,h.jsx)(C,{checked:!0}),E=(0,h.jsx)(C,{}),S=c.forwardRef((function(e,o){var r,n,s=(0,f.Z)({props:e,name:"MuiRadio"}),u=s.checked,d=s.checkedIcon,v=void 0===d?N:d,p=s.color,g=void 0===p?"primary":p,m=s.icon,b=void 0===m?E:m,x=s.name,C=s.onChange,S=s.size,M=void 0===S?"medium":S,P=s.className,z=(0,t.Z)(s,w),R=(0,a.Z)({},s,{color:g,size:M}),O=function(e){var o=e.classes,r=e.color,n={root:["root","color".concat((0,_.Z)(r))]};return(0,a.Z)({},o,(0,i.Z)(n,j.l,o))}(R),H=(0,k.Z)(),D=u,I=(0,Z.Z)(C,H&&H.onChange),K=x;return H&&("undefined"===typeof D&&(D=function(e,o){return"object"===typeof o&&null!==o?e===o:String(e)===String(o)}(H.value,s.value)),"undefined"===typeof K&&(K=H.name)),(0,h.jsx)(y,(0,a.Z)({type:"radio",icon:c.cloneElement(b,{fontSize:null!=(r=E.props.fontSize)?r:M}),checkedIcon:c.cloneElement(v,{fontSize:null!=(n=N.props.fontSize)?n:M}),ownerState:R,classes:O,name:K,checked:D,onChange:I,ref:o,className:(0,l.Z)(O.root,P)},z))}))},17318:function(e,o,r){r.d(o,{l:function(){return a}});var n=r(74732),t=r(61235);function a(e){return(0,t.Z)("MuiRadio",e)}var c=(0,n.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]);o.Z=c},39809:function(e,o,r){var n=r(96902).createContext(void 0);o.Z=n},63838:function(e,o,r){r.d(o,{Z:function(){return a}});var n=r(96902),t=r(39809);function a(){return n.useContext(t.Z)}}}]);
//# sourceMappingURL=6528.4e1e2acb.chunk.js.map