"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[2986,2291],{52291:function(e,o,r){r.r(o),r.d(o,{ColorPicker:function(){return U},ColorPopover:function(){return Y},PopoverPicker:function(){return X},default:function(){return W}});var t=r(96234),n=r(41867),a=r(622),c=r(64980),l=r(36669),i=r(59231),s=r(49133),u=r(47192),f=r(39092),d=r(90872);function h(){return(h=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function v(e,o){if(null==e)return{};var r,t,n={},a=Object.keys(e);for(t=0;t<a.length;t++)o.indexOf(r=a[t])>=0||(n[r]=e[r]);return n}function p(e){var o=(0,n.useRef)(e),r=(0,n.useRef)((function(e){o.current&&o.current(e)}));return o.current=e,r.current}var g=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e>r?r:e<o?o:e},m=function(e){return"touches"in e},b=function(e){return e&&e.ownerDocument.defaultView||self},x=function(e,o,r){var t=e.getBoundingClientRect(),n=m(o)?function(e,o){for(var r=0;r<e.length;r++)if(e[r].identifier===o)return e[r];return e[0]}(o.touches,r):o;return{left:g((n.pageX-(t.left+b(e).pageXOffset))/t.width),top:g((n.pageY-(t.top+b(e).pageYOffset))/t.height)}},C=function(e){!m(e)&&e.preventDefault()},_=n.memo((function(e){var o=e.onMove,r=e.onKey,a=v(e,["onMove","onKey"]),c=(0,n.useRef)(null),l=p(o),i=p(r),s=(0,n.useRef)(null),u=(0,n.useRef)(!1),f=(0,n.useMemo)((function(){var e=function(e){C(e),(m(e)?e.touches.length>0:e.buttons>0)&&c.current?l(x(c.current,e,s.current)):r(!1)},o=function(){return r(!1)};function r(r){var t=u.current,n=b(c.current),a=r?n.addEventListener:n.removeEventListener;a(t?"touchmove":"mousemove",e),a(t?"touchend":"mouseup",o)}return[function(e){var o=e.nativeEvent,t=c.current;if(t&&(C(o),!function(e,o){return o&&!m(e)}(o,u.current)&&t)){if(m(o)){u.current=!0;var n=o.changedTouches||[];n.length&&(s.current=n[0].identifier)}t.focus(),l(x(t,o,s.current)),r(!0)}},function(e){var o=e.which||e.keyCode;o<37||o>40||(e.preventDefault(),i({left:39===o?.05:37===o?-.05:0,top:40===o?.05:38===o?-.05:0}))},r]}),[i,l]),d=(0,t.Z)(f,3),g=d[0],_=d[1],Z=d[2];return(0,n.useEffect)((function(){return Z}),[Z]),n.createElement("div",h({},a,{onTouchStart:g,onMouseDown:g,className:"react-colorful__interactive",ref:c,onKeyDown:_,tabIndex:0,role:"slider"}))})),Z=function(e){return e.filter(Boolean).join(" ")},k=function(e){var o=e.className,r=e.color,t=e.left,a=e.top,c=void 0===a?.5:a,l=Z(["react-colorful__pointer",o]);return n.createElement("div",{className:l,style:{top:100*c+"%",left:100*t+"%"}},n.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:r}}))},j=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.pow(10,o);return Math.round(r*e)/r},w=(Math.PI,function(e){var o=e.h,r=e.s,t=e.v,n=e.a,a=(200-r)*t/100;return{h:j(o),s:j(a>0&&a<200?r*t/100/(a<=100?a:200-a)*100:0),l:j(a/2),a:j(n,2)}}),y=function(e){var o=w(e),r=o.h,t=o.s,n=o.l;return"hsl(".concat(r,", ").concat(t,"%, ").concat(n,"%)")},N=function(e){var o=w(e),r=o.h,t=o.s,n=o.l,a=o.a;return"hsla(".concat(r,", ").concat(t,"%, ").concat(n,"%, ").concat(a,")")},E=function(e){var o=e.h,r=e.s,t=e.v,n=e.a;o=o/360*6,r/=100,t/=100;var a=Math.floor(o),c=t*(1-r),l=t*(1-(o-a)*r),i=t*(1-(1-o+a)*r),s=a%6;return{r:j(255*[t,l,c,c,i,t][s]),g:j(255*[i,t,t,l,c,c][s]),b:j(255*[c,c,i,t,t,l][s]),a:j(n,2)}},S=function(e){var o=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return o?M({r:Number(o[1])/(o[2]?100/255:1),g:Number(o[3])/(o[4]?100/255:1),b:Number(o[5])/(o[6]?100/255:1),a:void 0===o[7]?1:Number(o[7])/(o[8]?100:1)}):{h:0,s:0,v:0,a:1}},M=function(e){var o=e.r,r=e.g,t=e.b,n=e.a,a=Math.max(o,r,t),c=a-Math.min(o,r,t),l=c?a===o?(r-t)/c:a===r?2+(t-o)/c:4+(o-r)/c:0;return{h:j(60*(l<0?l+6:l)),s:j(a?c/a*100:0),v:j(a/255*100),a:n}},z=n.memo((function(e){var o=e.className,r=e.hue,t=e.onChange,a=Z(["react-colorful__hue",o]);return n.createElement("div",{className:a},n.createElement(_,{onMove:function(e){t({h:360*e.left})},onKey:function(e){t({h:g(r+360*e.left,0,360)})},"aria-label":"Hue","aria-valuetext":j(r)},n.createElement(k,{className:"react-colorful__hue-pointer",left:r/360,color:y({h:r,s:100,v:100,a:1})})))})),P=n.memo((function(e){var o=e.hsva,r=e.onChange,t={backgroundColor:y({h:o.h,s:100,v:100,a:1})};return n.createElement("div",{className:"react-colorful__saturation",style:t},n.createElement(_,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:g(o.s+100*e.left,0,100),v:g(o.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation ".concat(j(o.s),"%, Brightness ").concat(j(o.v),"%")},n.createElement(k,{className:"react-colorful__saturation-pointer",top:1-o.v/100,left:o.s/100,color:y(o)})))})),R=function(e,o){if(e===o)return!0;for(var r in e)if(e[r]!==o[r])return!1;return!0},O=function(e,o){return e.replace(/\s/g,"")===o.replace(/\s/g,"")};function H(e,o,r){var a=p(r),c=(0,n.useState)((function(){return e.toHsva(o)})),l=(0,t.Z)(c,2),i=l[0],s=l[1],u=(0,n.useRef)({color:o,hsva:i});(0,n.useEffect)((function(){if(!e.equal(o,u.current.color)){var r=e.toHsva(o);u.current={hsva:r,color:o},s(r)}}),[o,e]),(0,n.useEffect)((function(){var o;R(i,u.current.hsva)||e.equal(o=e.fromHsva(i),u.current.color)||(u.current={hsva:i,color:o},a(o))}),[i,e,a]);var f=(0,n.useCallback)((function(e){s((function(o){return Object.assign({},o,e)}))}),[]);return[i,f]}var D,I="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,K=new Map,L=function(e){I((function(){var o=e.current?e.current.ownerDocument:document;if(void 0!==o&&!K.has(o)){var t=o.createElement("style");t.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',K.set(o,t);var n=D||r.nc;n&&t.setAttribute("nonce",n),o.head.appendChild(t)}}),[])},B=function(e){var o=e.className,r=e.hsva,t=e.onChange,a={backgroundImage:"linear-gradient(90deg, ".concat(N(Object.assign({},r,{a:0})),", ").concat(N(Object.assign({},r,{a:1})),")")},c=Z(["react-colorful__alpha",o]);return n.createElement("div",{className:c},n.createElement("div",{className:"react-colorful__alpha-gradient",style:a}),n.createElement(_,{onMove:function(e){t({a:e.left})},onKey:function(e){t({a:g(r.a+e.left)})},"aria-label":"Alpha","aria-valuetext":"".concat(j(100*r.a),"%")},n.createElement(k,{className:"react-colorful__alpha-pointer",left:r.a,color:N(r)})))},F=function(e){var o=e.className,r=e.colorModel,a=e.color,c=void 0===a?r.defaultColor:a,l=e.onChange,i=v(e,["className","colorModel","color","onChange"]),s=(0,n.useRef)(null);L(s);var u=H(r,c,l),f=(0,t.Z)(u,2),d=f[0],p=f[1],g=Z(["react-colorful",o]);return n.createElement("div",h({},i,{ref:s,className:g}),n.createElement(P,{hsva:d,onChange:p}),n.createElement(z,{hue:d.h,onChange:p}),n.createElement(B,{hsva:d,onChange:p,className:"react-colorful__last-control"}))},T={defaultColor:"rgba(0, 0, 0, 1)",toHsva:S,fromHsva:function(e){var o=E(e),r=o.r,t=o.g,n=o.b,a=o.a;return"rgba(".concat(r,", ").concat(t,", ").concat(n,", ").concat(a,")")},equal:O},q=function(e){return n.createElement(F,h({},e,{colorModel:T}))},V=r(80838),A=(0,u.ZL)()({picker:{position:"relative"},swatches:{display:"flex",padding:12,flexWrap:"wrap"},swatch:{width:24,height:24,margin:4,border:"none",padding:0,cursor:"pointer",outline:"none"}}),X=function(e){var o=e.color,r=e.onChange,a=(0,n.useState)(null),c=(0,t.Z)(a,2),l=c[0],i=c[1],s=A().classes;return(0,V.jsxs)("div",{className:s.picker,children:[(0,V.jsx)("div",{className:s.swatch,style:{backgroundColor:o},onClick:function(e){return i(e.currentTarget)}}),(0,V.jsx)(Y,{anchorEl:l,onClose:function(){return i(null)},color:o,onChange:r})]})};function Y(e){var o=e.anchorEl,r=e.onChange,t=e.onClose,n=e.color;return(0,V.jsx)(c.ZP,{open:!!o,anchorEl:o,onClose:t,children:(0,V.jsx)(U,{color:n,onChange:r})})}function U(e){var o=e.onChange,r=e.color,c=A().classes,u=(0,d.useLocalStorage)("colorPickerPalette","set1"),h=(0,t.Z)(u,2),v=h[0],p=h[1],g=f[v],m=Object.keys(f),b=(0,n.useState)(r),x=(0,t.Z)(b,2),C=x[0],_=x[1],Z=(0,a.V)(r).toRgbString(),k=(0,d.useDebounce)(Z,1e3),j=function(e){_(e);try{o((0,a.V)(e).toRgbString())}catch(r){}};return(0,V.jsxs)("div",{style:{display:"flex",padding:10},children:[(0,V.jsx)("div",{style:{width:200,margin:5},children:(0,V.jsx)(q,{color:k,onChange:j})}),(0,V.jsxs)("div",{style:{width:200,margin:5},children:[(0,V.jsx)(l.Z,{value:v,onChange:function(e){var o=e.target.value;p(o)},children:m.map((function(e){return(0,V.jsx)(i.Z,{value:e,children:e},e)}))}),(0,V.jsx)("div",{className:c.swatches,children:g.map((function(e,o){return(0,V.jsx)("button",{className:c.swatch,style:{background:e},onClick:function(){return j(e)}},"".concat(e,"-").concat(o))}))}),(0,V.jsx)(s.Z,{helperText:"Manually set color (hex, rgb, or css color name)",value:C,onChange:function(e){return j(e.target.value)}})]})]})}var W=X},32986:function(e,o,r){r.r(o);var t=r(96234),n=r(41867),a=r(3762),c=r(47409),l=r(51590),i=r(96614),s=r(23738),u=r(27768),f=r(23801),d=r(35421),h=r(52291),v=r(80838),p=(0,a.observer)((function(e){var o=e.model,r=e.handleClose,a=(0,n.useState)(!1),p=(0,t.Z)(a,2),g=p[0],m=p[1];return(0,v.jsxs)(d.Dialog,{open:!0,onClose:r,title:"Set color",children:[(0,v.jsxs)(c.Z,{children:[(0,v.jsx)(l.Z,{children:"Select either an overall color, or the positive/negative colors. Note that density renderers only work properly with positive/negative colors"}),(0,v.jsx)(i.Z,{checked:!g,onClick:function(){return m(!1)},control:(0,v.jsx)(s.Z,{}),label:"Overall color"}),(0,v.jsx)(i.Z,{checked:g,onClick:function(){return m(!0)},control:(0,v.jsx)(s.Z,{}),label:"Positive/negative color"}),g?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l.Z,{children:"Positive color"}),(0,v.jsx)(h.ColorPicker,{color:o.posColor||"black",onChange:function(e){o.setPosColor(e),o.setColor(void 0)}}),(0,v.jsx)(l.Z,{children:"Negative color"}),(0,v.jsx)(h.ColorPicker,{color:o.negColor||"black",onChange:function(e){o.setNegColor(e),o.setColor(void 0)}})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l.Z,{children:"Overall color"}),(0,v.jsx)(h.ColorPicker,{color:o.color||"black",onChange:function(e){return o.setColor(e)}})]})]}),(0,v.jsxs)(u.Z,{children:[(0,v.jsx)(f.Z,{onClick:function(){o.setPosColor(void 0),o.setNegColor(void 0),o.setColor(void 0)},color:"secondary",variant:"contained",children:"Restore default"}),(0,v.jsx)(f.Z,{variant:"contained",color:"primary",type:"submit",onClick:function(){return r()},children:"Submit"})]})]})}));o.default=p},23738:function(e,o,r){r.d(o,{Z:function(){return S}});var t=r(56666),n=r(31461),a=r(7896),c=r(41867),l=r(66184),i=r(92705),s=r(71939),u=r(9886),f=r(90293),d=r(17886),h=r(80838),v=(0,d.Z)((0,h.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),p=(0,d.Z)((0,h.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),g=r(75693),m=(0,g.ZP)("span")({position:"relative",display:"flex"}),b=(0,g.ZP)(v)({transform:"scale(1)"}),x=(0,g.ZP)(p)((function(e){var o=e.theme,r=e.ownerState;return(0,a.Z)({left:0,position:"absolute",transform:"scale(0)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeIn,duration:o.transitions.duration.shortest})},r.checked&&{transform:"scale(1)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeOut,duration:o.transitions.duration.shortest})})}));var C=function(e){var o=e.checked,r=void 0!==o&&o,t=e.classes,n=void 0===t?{}:t,c=e.fontSize,l=(0,a.Z)({},e,{checked:r});return(0,h.jsxs)(m,{className:n.root,ownerState:l,children:[(0,h.jsx)(b,{fontSize:c,className:n.background,ownerState:l}),(0,h.jsx)(x,{fontSize:c,className:n.dot,ownerState:l})]})},_=r(9931),Z=r(46275),k=r(20326),j=r(33812),w=["checked","checkedIcon","color","icon","name","onChange","size","className"],y=(0,g.ZP)(u.Z,{shouldForwardProp:function(e){return(0,g.FO)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,o){var r=e.ownerState;return[o.root,"medium"!==r.size&&o["size".concat((0,_.Z)(r.size))],o["color".concat((0,_.Z)(r.color))]]}})((function(e){var o=e.theme,r=e.ownerState;return(0,a.Z)({color:(o.vars||o).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:o.vars?"rgba(".concat("default"===r.color?o.vars.palette.action.activeChannel:o.vars.palette[r.color].mainChannel," / ").concat(o.vars.palette.action.hoverOpacity,")"):(0,s.Fq)("default"===r.color?o.palette.action.active:o.palette[r.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(0,t.Z)({},"&.".concat(j.Z.checked),{color:(o.vars||o).palette[r.color].main}),(0,t.Z)({},"&.".concat(j.Z.disabled),{color:(o.vars||o).palette.action.disabled}))}));var N=(0,h.jsx)(C,{checked:!0}),E=(0,h.jsx)(C,{}),S=c.forwardRef((function(e,o){var r,t,s=(0,f.Z)({props:e,name:"MuiRadio"}),u=s.checked,d=s.checkedIcon,v=void 0===d?N:d,p=s.color,g=void 0===p?"primary":p,m=s.icon,b=void 0===m?E:m,x=s.name,C=s.onChange,S=s.size,M=void 0===S?"medium":S,z=s.className,P=(0,n.Z)(s,w),R=(0,a.Z)({},s,{color:g,size:M}),O=function(e){var o=e.classes,r=e.color,t=e.size,n={root:["root","color".concat((0,_.Z)(r)),"medium"!==t&&"size".concat((0,_.Z)(t))]};return(0,a.Z)({},o,(0,i.Z)(n,j.l,o))}(R),H=(0,k.Z)(),D=u,I=(0,Z.Z)(C,H&&H.onChange),K=x;return H&&("undefined"===typeof D&&(D=function(e,o){return"object"===typeof o&&null!==o?e===o:String(e)===String(o)}(H.value,s.value)),"undefined"===typeof K&&(K=H.name)),(0,h.jsx)(y,(0,a.Z)({type:"radio",icon:c.cloneElement(b,{fontSize:null!=(r=E.props.fontSize)?r:M}),checkedIcon:c.cloneElement(v,{fontSize:null!=(t=N.props.fontSize)?t:M}),ownerState:R,classes:O,name:K,checked:D,onChange:I,ref:o,className:(0,l.Z)(O.root,z)},P))}))},33812:function(e,o,r){r.d(o,{l:function(){return a}});var t=r(70101),n=r(88498);function a(e){return(0,n.Z)("MuiRadio",e)}var c=(0,t.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]);o.Z=c},27088:function(e,o,r){var t=r(41867).createContext(void 0);o.Z=t},20326:function(e,o,r){r.d(o,{Z:function(){return a}});var t=r(41867),n=r(27088);function a(){return t.useContext(n.Z)}}}]);
//# sourceMappingURL=2986.bc31ae35.chunk.js.map