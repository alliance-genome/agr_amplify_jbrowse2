(this["webpackJsonp@jbrowse/web"]=this["webpackJsonp@jbrowse/web"]||[]).push([[44],{1748:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a(79),l=a(83),c=a(1686),o=a(1651),i=a(51),u=a(84),s=a(85),m=a(637),d=a(1),b=a.n(d),p=a(118),v=a(204),f=a(1649),g=a(1628),E=a(1650),h=a(1636),j=a(1638),O=a(1689),y=a(1646),C=a(1652),k=a(1679),x=a(1682),S=a(1681),T=a(811),N=a(1656),w=a(1752),M=a(1637),L=a(1634),A=a(258),F=a.n(A),I=a(237),P=a.n(I),W=a(820),V=a.n(W),B=a(431),H=a(1640),J=a(587),R=a.n(J),z=a(638),K=a.n(z),U=Object(i.a)((function(e){return{callbackEditor:{marginTop:"16px",borderBottom:"1px solid ".concat(e.palette.divider),fontFamily:'Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace',fontSize:"12px"}}}));var D=Object(u.observer)((function(e){var t=e.slot,a=U(),r=Object(d.useState)(t.value),c=Object(n.a)(r,2),o=c[0],i=c[1],u=Object(d.useState)(),m=Object(n.a)(u,2),p=m[0],v=m[1],f=Object(l.useDebounce)(o,400);return Object(d.useEffect)((function(){try{var e,a=f.startsWith("jexl:")?f:"jexl:".concat(f);Object(B.a)(a,null===(e=Object(s.getEnv)(t).pluginManager)||void 0===e?void 0:e.jexl),t.set(a),v(null)}catch(n){v(n)}}),[f,t]),b.a.createElement(b.a.Fragment,null,b.a.createElement(T.a,null,b.a.createElement(E.a,{shrink:!0,htmlFor:"callback-editor"},t.name),b.a.createElement(K.a,{className:a.callbackEditor,value:o.startsWith("jexl:")?o.split("jexl:")[1]:o,onValueChange:function(e){i(e)},highlight:function(e){return e},padding:10,style:{background:p?"#fdd":void 0}}),b.a.createElement(C.a,null,t.description)),b.a.createElement(H.a,{title:b.a.createElement("div",null,"Callbacks are written in Jexl format. Click to learn more.",b.a.createElement("br",null)," Names of available context items: ",t.contextVariable),arrow:!0},b.a.createElement(y.a,{color:"primary",onClick:function(){var e=window.open("https://github.com/TomFrost/Jexl","_blank","noopener,noreferrer");e&&(e.opener=null)}},b.a.createElement(R.a,null))))})),G=Object(d.lazy)((function(){return Promise.all([a.e(4),a.e(59)]).then(a.bind(null,1741))}));var X=function(e){var t=e.value,a=e.label,r=e.TextFieldProps,l=e.onChange,c=Object(d.useState)(!1),o=Object(n.a)(c,2),i=o[0],u=o[1];return b.a.createElement(b.a.Fragment,null,b.a.createElement(f.a,Object.assign({value:t,label:a,InputProps:{style:{color:t,borderRightWidth:"25px",borderRightStyle:"solid",borderRightColor:t}},onClick:function(){return u(!i)},onChange:function(e){l(e.target.value)}},r)),i?b.a.createElement(b.a.Suspense,{fallback:b.a.createElement("div",null)},b.a.createElement(G,{color:t,onChange:function(e){l(function(e){if(e instanceof Object){var t=e,a=t.r,n=t.g,r=t.b,l=t.a;return void 0===l?"rgb(".concat(a,",").concat(n,",").concat(r,")"):"rgba(".concat(a,",").concat(n,",").concat(r,",").concat(l,")")}return e}(e.rgb))}})):null)};X.defaultProps={label:"",value:"#000",TextFieldProps:{}};var Z=Object(u.observer)((function(e){var t=e.slot;return b.a.createElement(X,{label:t.name,value:t.value,onChange:function(e){t.set(e)},TextFieldProps:{helperText:t.description,fullWidth:!0}})})),_=a(593),q=Object(u.observer)((function(e){var t=e.slot;return b.a.createElement(f.a,{label:t.name,helperText:t.description,fullWidth:!0,value:t.value,onChange:function(e){return t.set(e.target.value)}})})),Q=Object(u.observer)((function(e){var t=e.slot;return b.a.createElement(f.a,{label:t.name,helperText:t.description,fullWidth:!0,multiline:!0,value:t.value,onChange:function(e){return t.set(e.target.value)}})})),Y=function(){return b.a.createElement(g.a,null,b.a.createElement("path",{d:"M20.41,3C21.8,5.71 22.35,8.84 22,12C21.8,15.16 20.7,18.29 18.83,21L17.3,20C18.91,17.57 19.85,14.8 20,12C20.34,9.2 19.89,6.43 18.7,4L20.41,3M5.17,3L6.7,4C5.09,6.43 4.15,9.2 4,12C3.66,14.8 4.12,17.57 5.3,20L3.61,21C2.21,18.29 1.65,15.17 2,12C2.2,8.84 3.3,5.71 5.17,3M12.08,10.68L14.4,7.45H16.93L13.15,12.45L15.35,17.37H13.09L11.71,14L9.28,17.33H6.76L10.66,12.21L8.53,7.45H10.8L12.08,10.68Z"}))},$=Object(u.observer)((function(e){var t=e.slot,a=Object(d.useState)(""),r=Object(n.a)(a,2),l=r[0],c=r[1];return b.a.createElement(b.a.Fragment,null,t.name?b.a.createElement(E.a,null,t.name):null,b.a.createElement(h.a,{disablePadding:!0},t.value.map((function(e,a){return b.a.createElement(j.a,{key:a,disableGutters:!0},b.a.createElement(f.a,{value:e,onChange:function(e){return t.setAtIndex(a,e.target.value)},InputProps:{endAdornment:b.a.createElement(O.a,{position:"end"},b.a.createElement(y.a,{color:"secondary",onClick:function(){return t.removeAtIndex(a)}},b.a.createElement(F.a,null)))}}))})),b.a.createElement(j.a,{disableGutters:!0},b.a.createElement(f.a,{value:l,placeholder:"add new",onChange:function(e){return c(e.target.value)},InputProps:{endAdornment:b.a.createElement(O.a,{position:"end"},b.a.createElement(y.a,{onClick:function(){t.add(l),c("")},disabled:""===l,color:"secondary","data-testid":"stringArrayAdd-".concat(t.name)},b.a.createElement(P.a,null)))}}))),b.a.createElement(C.a,null,t.description))})),ee=Object(i.a)((function(e){return{card:{marginTop:e.spacing(1)}}})),te=Object(u.observer)((function(e){var t=e.slot,a=ee(),r=Object(d.useState)(""),l=Object(n.a)(r,2),c=l[0],o=l[1];return b.a.createElement(b.a.Fragment,null,b.a.createElement(E.a,null,t.name),Array.from(t.value,(function(e){var r=Object(n.a)(e,2),l=r[0],c=r[1];return b.a.createElement(k.a,{raised:!0,key:l,className:a.card},b.a.createElement(x.a,{title:l,action:b.a.createElement(y.a,{color:"secondary",onClick:function(){return t.remove(l)}},b.a.createElement(F.a,null))}),b.a.createElement(S.a,null,b.a.createElement($,{slot:{value:c,description:"Values associated with entry ".concat(l),setAtIndex:function(e,a){t.setAtKeyIndex(l,e,a)},removeAtIndex:function(e){t.removeAtKeyIndex(l,e)},add:function(e){t.addToKey(l,e)}}})))})),b.a.createElement(k.a,{raised:!0,className:a.card},b.a.createElement(x.a,{disableTypography:!0,title:b.a.createElement(f.a,{fullWidth:!0,value:c,placeholder:"add new",onChange:function(e){return o(e.target.value)},InputProps:{endAdornment:b.a.createElement(O.a,{position:"end"},b.a.createElement(y.a,{disabled:""===c,onClick:function(){t.add(c,[]),o("")},color:"secondary"},b.a.createElement(P.a,null)))}})})),b.a.createElement(C.a,null,t.description))})),ae=Object(u.observer)((function(e){var t=e.slot,a=ee(),r=Object(d.useState)(""),l=Object(n.a)(r,2),c=l[0],o=l[1];return b.a.createElement(b.a.Fragment,null,b.a.createElement(E.a,null,t.name),Array.from(t.value,(function(e){var r=Object(n.a)(e,2),l=r[0],c=r[1];return b.a.createElement(k.a,{raised:!0,key:l,className:a.card},b.a.createElement(x.a,{title:l,action:b.a.createElement(y.a,{color:"secondary",onClick:function(){return t.remove(l)}},b.a.createElement(F.a,null))}),b.a.createElement(S.a,null,b.a.createElement(ne,{slot:{value:c,set:function(e){return t.add(l,e)}}})))})),b.a.createElement(k.a,{raised:!0,className:a.card},b.a.createElement(x.a,{disableTypography:!0,title:b.a.createElement(f.a,{fullWidth:!0,value:c,placeholder:"add new",onChange:function(e){return o(e.target.value)},InputProps:{endAdornment:b.a.createElement(O.a,{position:"end"},b.a.createElement(y.a,{disabled:""===c,onClick:function(){t.add(c,0),o("")},color:"secondary"},b.a.createElement(P.a,null)))}})})),b.a.createElement(C.a,null,t.description))})),ne=Object(u.observer)((function(e){var t=e.slot,a=Object(d.useState)(t.value),r=Object(n.a)(a,2),l=r[0],c=r[1];return Object(d.useEffect)((function(){var e=parseFloat(l,10);Number.isNaN(e)?t.reset():t.set(e)}),[t,l]),b.a.createElement(f.a,{label:t.name,helperText:t.description,value:l,type:"number",onChange:function(e){return c(e.target.value)}})})),re=Object(u.observer)((function(e){var t=e.slot,a=Object(d.useState)(t.value),r=Object(n.a)(a,2),l=r[0],c=r[1];return Object(d.useEffect)((function(){var e=parseInt(l,10);Number.isNaN(e)||t.set(e)}),[t,l]),b.a.createElement(f.a,{label:t.name,helperText:t.description,value:l,type:"number",onChange:function(e){return c(e.target.value)}})})),le=Object(u.observer)((function(e){var t=e.slot;return b.a.createElement(T.a,null,b.a.createElement(N.a,{label:t.name,control:b.a.createElement(w.a,{checked:t.value,onChange:function(e){return t.set(e.target.checked)}})}),b.a.createElement(C.a,null,t.description))})),ce=Object(u.observer)((function(e){var t=e.slot,a=e.slotSchema,n=Object(s.getPropertyMembers)(Object(v.getSubType)(a)),r=Object(v.getUnionSubTypes)(Object(v.getUnionSubTypes)(Object(v.getSubType)(Object(v.getPropertyType)(n,"value")))[1]).map((function(e){return e.value}));return b.a.createElement(f.a,{value:t.value,label:t.name,select:!0,helperText:t.description,fullWidth:!0,onChange:function(e){return t.set(e.target.value)}},r.map((function(e){return b.a.createElement(M.a,{key:e,value:e},e)})))})),oe=Object(u.observer)((function(e){var t,a=e.slot;return b.a.createElement(p.FileSelector,{location:a.value,setLocation:function(e){return a.set(e)},name:a.name,description:a.description,rootModel:null===(t=Object(s.getEnv)(a).pluginManager)||void 0===t?void 0:t.rootModel})})),ie={string:q,text:Q,fileLocation:oe,stringArray:$,stringArrayMap:te,numberMap:ae,number:ne,integer:re,color:Z,stringEnum:ce,boolean:le,frozen:_.a,configRelationships:_.a},ue=Object(i.a)((function(e){return{paper:{display:"flex",marginBottom:e.spacing(2),position:"relative",overflow:"visible"},paperContent:{flex:"auto",padding:e.spacing(1),overflow:"auto"},slotModeSwitch:{width:24,background:e.palette.secondary.light,display:"flex",justifyContent:"center",alignItems:"center"}}})),se=Object(u.observer)((function(e){var t=e.slot,a=e.slotSchema,n=ue(),r=t.type,l=t.isCallback?D:ie[r];return l||(console.warn("no slot editor defined for ".concat(r,", editing as string")),l=q),r in ie||console.warn("SlotEditor needs to implement ".concat(r)),b.a.createElement(L.a,{className:n.paper},b.a.createElement("div",{className:n.paperContent},b.a.createElement(l,{slot:t,slotSchema:a})),b.a.createElement("div",{className:n.slotModeSwitch},t.contextVariable.length?b.a.createElement(y.a,{className:n.slotModeIcon,onClick:function(){return t.isCallback?t.convertToValue():t.convertToCallback()},title:"convert to ".concat(t.isCallback?"regular value":"callback"),color:"secondary"},t.isCallback?b.a.createElement(Y,null):b.a.createElement(V.a,null)):null))})),me=Object(u.observer)((function(e){var t=e.typeNameChoices,a=e.slot,n=e.slotName,r=e.onChange,l=ue();return b.a.createElement(L.a,{className:l.paper},b.a.createElement("div",{className:l.paperContent},b.a.createElement(f.a,{value:a.type,label:"Type",select:!0,helperText:"Type of ".concat(n," to use"),fullWidth:!0,onChange:r},t.map((function(e){return b.a.createElement(M.a,{key:e,value:e},e)})))))})),de=Object(i.a)((function(e){return{subSchemaContainer:{marginLeft:e.spacing(1),borderLeft:"1px solid ".concat(e.palette.secondary.main),paddingLeft:e.spacing(1),marginBottom:e.spacing(1)},root:{padding:e.spacing(1,3,1,1),background:e.palette.background.default,overflowX:"hidden"}}})),be=Object(u.observer)((function(e){var t,a=de(),n=e.slotName,l=e.slotSchema,i=e.schema,u=e.slot,s=void 0===u?i[n]:u;if(Object(r.isConfigurationSchemaType)(l)){if(s.length)return b.a.createElement(b.a.Fragment,null,s.map((function(t,a){var r="".concat(Object(m.singular)(n)," ").concat(a+1);return b.a.createElement(be,Object.assign({},e,{key:r,slot:t,slotName:r}))})));var d=Object(r.getTypeNamesFromExplicitlyTypedUnion)(l);return d.length&&(t=b.a.createElement(me,{typeNameChoices:d,slotName:n,slot:s,onChange:function(e){e.target.value!==s.type&&i.setSubschema(n,{type:e.target.value})}})),b.a.createElement(b.a.Fragment,null,b.a.createElement(o.a,null,n),b.a.createElement("div",{className:a.subSchemaContainer},t,b.a.createElement(c.a,null,b.a.createElement(pe,{schema:s}))))}return Object(r.isConfigurationSlotType)(l)?b.a.createElement(se,{key:n,slot:s,slotSchema:l}):null})),pe=Object(u.observer)((function(e){var t=e.schema;return Object(l.iterMap)(Object.entries(Object(s.getMembers)(t).properties),(function(e){var a=Object(n.a)(e,2),r=a[0],l=a[1];return b.a.createElement(be,{key:r,slotName:r,slotSchema:l,schema:t})}))})),ve=Object(u.observer)((function(e){var t=e.model,a=de(),n=t.target&&Object(r.readConfObject)(t.target,"trackId");return b.a.createElement("div",{className:a.root,key:n,"data-testid":"configEditor"},t.target?b.a.createElement(pe,{schema:t.target}):"no target set")}));t.default=ve}}]);
//# sourceMappingURL=44.0361fc68.chunk.js.map