"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[1007],{67765:function(t,e,n){n.d(e,{UL:function(){return v},WK:function(){return m},i1:function(){return p},u_:function(){return x}});var r=n(96234),i=n(33028),o=(n(41867),n(47192)),a=n(3762),s=n(31625),c=n(90872),l=n(56726),f=n(17280),u=n(63008),d=n(80838),h=(0,o.ZL)()((function(){return{vtext:{gridColumn:"1/2",gridRow:"1/2",pointerEvents:"none",userSelect:"none"},htext:{gridColumn:"2/2",gridRow:"2/2",pointerEvents:"none",userSelect:"none"}}})),x=(0,a.observer)((function(t){var e=t.model,n=e.viewWidth,r=e.borderY,i=h().classes;return(0,d.jsx)("svg",{width:n,height:r,className:i.htext,children:(0,d.jsx)(m,{model:e})})})),m=(0,a.observer)((function(t){var e=t.model,n=e.viewWidth,o=e.borderX,a=e.borderY,h=e.hview,x=e.htextRotation,m=e.hticks,v=h.offsetPx,p=h.width,g=h.dynamicBlocks,y=h.bpPerPx,w=g.contentBlocks,j=(0,u.F$)(w,n,v),k=(0,f.Z)(),b=(0,i.Z)((0,i.Z)({},(0,s.getSnapshot)(h)),{},{width:p,staticBlocks:h.staticBlocks}),P=m.map((function(t){var e;return[t,null===(e=(0,l.R)({refName:t.refName,coord:t.base,self:b}))||void 0===e?void 0:e.offsetPx]})).filter((function(t){return void 0!==t[1]})).map((function(t){return[t[0],t[1]-v]}));return(0,d.jsxs)(d.Fragment,{children:[w.filter((function(t){return!j.has(t.key)})).map((function(t){var e=t.offsetPx,n=Math.floor(e-h.offsetPx);return(0,d.jsx)("text",{transform:"rotate(".concat(x,",").concat(n,",").concat(0,")"),x:n,y:1,fill:k.palette.text.primary,fontSize:11,dominantBaseline:"hanging",textAnchor:"end",children:t.refName},JSON.stringify(t))})),P.map((function(t){var e=(0,r.Z)(t,2),n=e[0],i=e[1];return(0,d.jsx)("line",{x1:i,x2:i,y1:0,y2:"major"===n.type?6:4,strokeWidth:1,stroke:k.palette.grey[400]},"line-".concat(JSON.stringify(n)))})),P.filter((function(t){return"major"===t[0].type})).map((function(t){var e=(0,r.Z)(t,2),n=e[0],i=e[1];return i>10?(0,d.jsx)("text",{x:i-7,y:0,transform:"rotate(".concat(x,",").concat(i,",").concat(0,")"),fill:k.palette.text.primary,fontSize:11,dominantBaseline:"middle",textAnchor:"end",children:(0,c.getTickDisplayStr)(n.base+1,y)},"text-".concat(JSON.stringify(n))):null})),(0,d.jsx)("text",{y:a-12,x:(n-o)/2,fill:k.palette.text.primary,textAnchor:"middle",fontSize:11,dominantBaseline:"hanging",children:h.assemblyNames.join(",")})]})})),v=(0,a.observer)((function(t){var e=t.model,n=e.borderX,r=e.viewHeight,i=h().classes;return(0,d.jsx)("svg",{className:i.vtext,width:n,height:r,children:(0,d.jsx)(p,{model:e})})})),p=(0,a.observer)((function(t){var e=t.model,n=e.viewHeight,o=e.borderX,a=e.borderY,h=e.vview,x=e.vtextRotation,m=e.vticks,v=h.offsetPx,p=h.width,g=h.dynamicBlocks,y=h.bpPerPx,w=g.contentBlocks,j=(0,u.F$)(w,n,v),k=(0,f.Z)(),b=(0,i.Z)((0,i.Z)({},(0,s.getSnapshot)(h)),{},{width:p,staticBlocks:h.staticBlocks}),P=m.map((function(t){var e;return[t,null===(e=(0,l.R)({refName:t.refName,coord:t.base,self:b}))||void 0===e?void 0:e.offsetPx]})).filter((function(t){return void 0!==t[1]})).map((function(t){return[t[0],t[1]-v]}));return(0,d.jsxs)(d.Fragment,{children:[w.filter((function(t){return!j.has(t.key)})).map((function(t){var e=t.offsetPx,r=o,i=Math.floor(n-e+v);return(0,d.jsx)("text",{transform:"rotate(".concat(x,",").concat(r,",").concat(e,")"),x:r,y:i,fill:k.palette.text.primary,fontSize:11,textAnchor:"end",children:t.refName},JSON.stringify(t))})),P.map((function(t){var e=(0,r.Z)(t,2),i=e[0],a=e[1];return(0,d.jsx)("line",{y1:n-a,y2:n-a,x1:o,x2:o-("major"===i.type?6:4),strokeWidth:1,stroke:k.palette.grey[400]},"line-".concat(JSON.stringify(i)))})),P.filter((function(t){return"major"===t[0].type})).map((function(t){var e=(0,r.Z)(t,2),i=e[0],a=e[1];return a>10?(0,d.jsx)("text",{y:n-a-3,x:o-7,textAnchor:"end",fill:k.palette.text.primary,dominantBaseline:"hanging",fontSize:11,children:(0,c.getTickDisplayStr)(i.base+1,y)},"text-".concat(JSON.stringify(i))):null})),(0,d.jsx)("text",{y:(n-a)/2,x:12,fill:k.palette.text.primary,transform:"rotate(-90,12,".concat((n-a)/2,")"),textAnchor:"middle",fontSize:11,children:h.assemblyNames.join(",")})]})}))},90903:function(t,e,n){n.d(e,{B:function(){return a},Z:function(){return s}});n(41867);var r=n(3762),i=n(17280),o=n(80838),a=(0,r.observer)((function(t){var e=t.model,n=t.children,r=e.viewWidth,a=e.viewHeight,s=e.hview,c=e.vview,l=s.dynamicBlocks.contentBlocks,f=c.dynamicBlocks.contentBlocks;if(!l.length||!f.length)return null;var u=s.displayedRegionsTotalPx-s.offsetPx,d=c.displayedRegionsTotalPx-c.offsetPx,h=l[0].offsetPx-s.offsetPx,x=f[0].offsetPx-c.offsetPx,m=(0,i.Z)(),v=m.palette.divider,p=Math.max(h,0),g=Math.max(a-d,0),y=Math.min(u-h,r),w=Math.min(a-x-g,a),j=1/0,k=1/0;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("rect",{x:p,y:g,width:y,height:w,fill:m.palette.background.default}),(0,o.jsxs)("g",{children:[l.map((function(t){var e=t.offsetPx-s.offsetPx,n=Math.floor(e)!==Math.floor(j);return n&&(j=e),n?(0,o.jsx)("line",{x1:e,y1:0,x2:e,y2:a,stroke:v},JSON.stringify(t)):null})),f.map((function(t){var e=a-(t.offsetPx-c.offsetPx),n=Math.floor(e)!==Math.floor(k);return n&&(k=e),n?(0,o.jsx)("line",{x1:0,y1:e,x2:r,y2:e,stroke:v},JSON.stringify(t)):null})),(0,o.jsx)("line",{x1:u,y1:0,x2:u,y2:a,stroke:v}),(0,o.jsx)("line",{x1:0,y1:a-d,x2:r,y2:a-d,stroke:v})]}),n]})}));function s(t){var e=t.model,n=t.children,r=e.viewWidth,i=e.viewHeight;return(0,o.jsx)("svg",{width:r,height:i,style:{background:"rgba(0,0,0,0.12)"},children:(0,o.jsx)(a,{model:e,children:n})})}},41007:function(t,e,n){n.r(e),n.d(e,{renderToSvg:function(){return v}});var r=n(32723),i=n(33028),o=n(34795),a=(n(41867),n(49665)),s=n(85815),c=n(90872),l=n(81096),f=n(35421),u=n(90903),d=n(67765),h=n(17280),x=n(80838);function m(t){var e=t.width,n=t.height,r=(0,h.Z)();return(0,x.jsx)("rect",{x:0,y:0,width:e,height:n,fill:(0,c.stripAlpha)(r.palette.background.default)})}function v(t,e){return p.apply(this,arguments)}function p(){return p=(0,o.Z)((0,r.Z)().mark((function t(e,n){var h,v,p,g,y,w,j,k,b,P,S,Z,B,N,M,W;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.when)((function(){return e.initialized}));case 2:return v=n.themeName,p=void 0===v?"default":v,g=n.Wrapper,y=void 0===g?function(t){var e=t.children;return(0,x.jsx)(x.Fragment,{children:e})}:g,w=(0,c.getSession)(e),j=null===(h=w.allThemes)||void 0===h?void 0:h.call(w)[p],k=e.width,b=e.borderX,P=e.viewWidth,S=e.viewHeight,Z=e.tracks,B=e.height,N=50,t.next=9,Promise.all(Z.map(function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){var o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.displays[0],t.next=3,(0,s.when)((function(){return void 0===o.ready||o.ready}));case 3:return t.t0=e,t.next=6,o.renderSvg((0,i.Z)((0,i.Z)({},n),{},{theme:j}));case 6:return t.t1=t.sent,t.abrupt("return",{track:t.t0,result:t.t1});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 9:return M=t.sent,W=k+2*N,t.abrupt("return",(0,a.uS)((0,x.jsx)(l.Z,{theme:(0,f.createJBrowseTheme)(j),children:(0,x.jsx)(y,{children:(0,x.jsxs)("svg",{width:k,height:B,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:[0,0,W,B].toString(),children:[(0,x.jsx)(m,{width:W,height:B}),(0,x.jsx)(d.i1,{model:e}),(0,x.jsxs)("g",{transform:"translate(".concat(b," 0)"),children:[(0,x.jsx)(u.B,{model:e}),(0,x.jsx)("defs",{children:(0,x.jsx)("clipPath",{id:"clip-ruler",children:(0,x.jsx)("rect",{x:0,y:0,width:P,height:S})})}),(0,x.jsx)("g",{clipPath:"url(#clip-ruler)",children:M.map((function(t,e){var n=t.result;return(0,x.jsx)("g",{children:n},e)}))})]}),(0,x.jsx)("g",{transform:"translate(".concat(b," ").concat(S,")"),children:(0,x.jsx)(d.WK,{model:e})})]})})})));case 12:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}}}]);
//# sourceMappingURL=1007.6f323825.chunk.js.map