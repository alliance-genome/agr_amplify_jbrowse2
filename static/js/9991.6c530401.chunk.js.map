{"version":3,"file":"static/js/9991.6c530401.chunk.js","mappings":"sSAkBO,SAASA,EAASC,GACvB,OAAOA,EAAKC,OAAS,GAAE,UAAMD,EAAKE,MAAM,EAAG,IAAG,OAAQF,CACxD,CAEA,IAAMG,GAAYC,EAAAA,EAAAA,KAAAA,EAAa,SAAAC,GAAK,MAAK,CACvCC,oBAAqB,CACnBC,MAAO,IACPC,OAAQH,EAAMI,QAAQ,IAEzB,IAiED,WAAeC,EAAAA,EAAAA,WA/Df,SAAgC,GAQ5B,IAPFC,EAAO,EAAPA,QACAC,EAAW,EAAXA,YACAC,EAAe,EAAfA,gBAMQC,EAAYX,IAAZW,QACAC,EAAqDJ,EAArDI,YAAY,EAAyCJ,EAAxCK,oBAAqBC,OAAS,MAAG,GAAE,EACxD,OACE,UAAC,EAAAC,OAAM,CACLC,MAAI,EACJC,QAASR,EACTS,SAAS,KACTC,MAAM,0BAAyB,WAE/B,UAAC,IAAa,YACZ,SAAC,IAAU,2DACX,iBAAKC,UAAWT,EAAQR,oBAAoB,UACzCS,EAAYS,KAAI,SAAAC,GACf,IAAMC,GAAOC,EAAAA,EAAAA,gBAAeF,EAAM,QAC5BG,GAAgBD,EAAAA,EAAAA,gBAAeF,EAAM,iBACrCI,EAAQZ,EAAUa,MAAK,SAAAC,GAAI,OAAIL,IAASK,EAAKL,IAAI,IACvD,OACE,SAAC,IAAgB,CAEfM,SACE,SAAC,IAAQ,CACPC,UAAWJ,EACXK,SAAU,WAGA,IAAD,EAFHL,EACFhB,EAAgBY,GAEM,QAAtB,EAAAd,EAAQwB,sBAAc,OAAtB,OAAAxB,EAAyBc,EAE7B,EACAW,MAAM,YAGVC,MAAK,UAAKX,EAAI,aAAK3B,EAAS6B,EAAcU,KAAK,MAAK,MAd/Cb,EAAKc,aAiBhB,IACExB,EAAYd,OAEV,MADF,SAAC,IAAU,0CAIjB,SAAC,IAAa,WACZ,SAAC,IAAM,CACLuC,QAAS,kBAAM5B,GAAa,EAC5B6B,QAAQ,YACRL,MAAM,UAAS,uBAOzB,G","sources":["../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/ToggleConnectionsDialog.tsx"],"sourcesContent":["import React from 'react'\nimport {\n  Button,\n  Checkbox,\n  DialogContent,\n  DialogActions,\n  FormControlLabel,\n  Typography,\n} from '@mui/material'\nimport { Dialog } from '@jbrowse/core/ui'\nimport { makeStyles } from 'tss-react/mui'\nimport { observer } from 'mobx-react'\nimport {\n  AnyConfigurationModel,\n  readConfObject,\n} from '@jbrowse/core/configuration'\nimport { AbstractSessionModel } from '@jbrowse/core/util'\n\nexport function ellipses(slug: string) {\n  return slug.length > 20 ? `${slug.slice(0, 20)}...` : slug\n}\n\nconst useStyles = makeStyles()(theme => ({\n  connectionContainer: {\n    width: 500,\n    margin: theme.spacing(4),\n  },\n}))\n\nfunction ToggleConnectionDialog({\n  session,\n  handleClose,\n  breakConnection,\n}: {\n  handleClose: () => void\n  session: AbstractSessionModel\n  breakConnection: (arg: AnyConfigurationModel) => void\n}) {\n  const { classes } = useStyles()\n  const { connections, connectionInstances: instances = [] } = session\n  return (\n    <Dialog\n      open\n      onClose={handleClose}\n      maxWidth=\"lg\"\n      title=\"Turn on/off connections\"\n    >\n      <DialogContent>\n        <Typography>Use the checkbox to turn on/off connections</Typography>\n        <div className={classes.connectionContainer}>\n          {connections.map(conf => {\n            const name = readConfObject(conf, 'name')\n            const assemblyNames = readConfObject(conf, 'assemblyNames')\n            const found = instances.find(conn => name === conn.name)\n            return (\n              <FormControlLabel\n                key={conf.connectionId}\n                control={\n                  <Checkbox\n                    checked={!!found}\n                    onChange={() => {\n                      if (found) {\n                        breakConnection(conf)\n                      } else {\n                        session.makeConnection?.(conf)\n                      }\n                    }}\n                    color=\"primary\"\n                  />\n                }\n                label={`${name} (${ellipses(assemblyNames.join(','))})`}\n              />\n            )\n          })}\n          {!connections.length ? (\n            <Typography>No connections found</Typography>\n          ) : null}\n        </div>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={() => handleClose()}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default observer(ToggleConnectionDialog)\n"],"names":["ellipses","slug","length","slice","useStyles","makeStyles","theme","connectionContainer","width","margin","spacing","observer","session","handleClose","breakConnection","classes","connections","connectionInstances","instances","Dialog","open","onClose","maxWidth","title","className","map","conf","name","readConfObject","assemblyNames","found","find","conn","control","checked","onChange","makeConnection","color","label","join","connectionId","onClick","variant"],"sourceRoot":""}