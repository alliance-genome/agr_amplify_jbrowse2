(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[8118],{70334:function(t,e,n){"use strict";var r=n(98870).default,i=n(53100).default,a=n(68230).default,o=n(10669).default,s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=function(t){a(n,t);var e=o(n);function n(t){var r;if(i(this,n),"genome"!==(r=e.call(this,t)).nameKey)throw new Error('Genomes file must begin with a line like "genome <genome_name>"');var a=["genome","trackDb"];return r.forEach((function(t,e){var n=[];if(a.forEach((function(e){t.get(e)||n.push(e)})),n.length>0)throw new Error("Genomes file entry ".concat(e," is missing required entr").concat(1===n.length?"y":"ies",": ").concat(n.join(", ")))})),r}return r(n)}(s(n(6806)).default);e.default=u},63583:function(t,e,n){"use strict";var r=n(98870).default,i=n(53100).default,a=n(68230).default,o=n(10669).default,s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=function(t){a(n,t);var e=o(n);function n(t){var r;if(i(this,n),"hub"!==(r=e.call(this,t)).nameKey)throw new Error('Hub file must begin with a line like "hub <hub_name>"');var a=["hub","shortLabel","longLabel","genomesFile","email","descriptionUrl"],o=[];if(r.forEach((function(t,e){a.includes(e)||o.push(e)})),o.length>0)throw new Error("Hub file has invalid entr".concat(1===o.length?"y":"ies",": ").concat(o.join(", ")));var s=[];if(a.forEach((function(t){"descriptionUrl"===t||r.get(t)||s.push(t)})),s.length>0)throw new Error("Hub file is missing required entr".concat(1===s.length?"y":"ies",": ").concat(s.join(", ")));return r}return r(n)}(s(n(39986)).default);e.default=u},8118:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GenomesFile=e.HubFile=e.TrackDbFile=e.RaStanza=e.RaFile=void 0;var i=r(n(6806));e.RaFile=i.default;var a=r(n(39986));e.RaStanza=a.default;var o=r(n(77367));e.TrackDbFile=o.default;var s=r(n(63583));e.HubFile=s.default;var u=r(n(70334));e.GenomesFile=u.default},6806:function(t,e,n){"use strict";var r=n(53100).default,i=n(98870).default,a=n(70611).default,o=n(1147).default,s=n(68230).default,u=n(10669).default,c=n(78365).default,l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var h=l(n(39986)),d=function(t){s(n,t);var e=u(n);function n(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{checkIndent:!0};r(this,n),i=e.call(this);var o,s=a.checkIndent;return i._checkIndent=s,o="string"===typeof t?t.trimEnd().split(/(?:[\t ]*\r?\n){2,}/):t||[],i._stanzaAndCommentOrder=[],o.forEach((function(t){i.add(t)})),i}return i(n,[{key:"add",value:function(t){if(""===t)throw new Error("Invalid stanza, was empty");if(t.trim().startsWith("#")){var e=t.trimEnd().split(/\r?\n/).map((function(t){return t.trim()}));if(e.every((function(t){return t.startsWith("#")})))return this._stanzaAndCommentOrder.push(e.join("\n")),this}var r=new h.default(t,{checkIndent:this._checkIndent});if(this.nameKey){if(r.nameKey!==this.nameKey)throw new Error("The first line in each stanza must have the same key. "+"Saw both ".concat(this.nameKey," and ").concat(r.nameKey))}else this.nameKey=r.nameKey;if(!r.name)throw new Error("No stanza name: ".concat(r.name));if(this.has(r.name))throw new Error("Got duplicate stanza name: ".concat(r.name));return this._stanzaAndCommentOrder.push(r.name),a(o(n.prototype),"set",this).call(this,r.name,r)}},{key:"update",value:function(t,e){if(!(e instanceof h.default))throw new Error("Value of ".concat(t," is not an RaStanza"));a(o(n.prototype),"set",this).call(this,t,e)}},{key:"delete",value:function(t){return this._stanzaAndCommentOrder.includes(t)&&(this._stanzaAndCommentOrder=this._stanzaAndCommentOrder.filter((function(e){return e!==t}))),a(o(n.prototype),"delete",this).call(this,t)}},{key:"clear",value:function(){this._stanzaAndCommentOrder.length=0,this.nameKey=void 0,a(o(n.prototype),"clear",this).call(this)}},{key:"toString",value:function(){var t=this;if(0===this.size)return"";var e=[];return this._stanzaAndCommentOrder.forEach((function(n){if(n.startsWith("#"))e.push("".concat(n,"\n"));else{var r=t.get(n);r&&e.push(r.toString())}})),e.join("\n")}}]),n}(c(Map));e.default=d},39986:function(t,e,n){"use strict";var r=n(43681).default,i=n(53100).default,a=n(98870).default,o=n(70611).default,s=n(1147).default,u=n(68230).default,c=n(10669).default,l=n(78365).default;Object.defineProperty(e,"__esModule",{value:!0});var h=function(t){u(n,t);var e=c(n);function n(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{checkIndent:!0};i(this,n),r=e.call(this);var o,s=a.checkIndent;return r._checkIndent=s,o="string"===typeof t?t.trimEnd().split(/\r?\n/):t||[],r._keyAndCommentOrder=[],o.forEach((function(t){r.add(t)})),r}return a(n,[{key:"add",value:function(t){if(""===t)throw new Error("Invalid stanza, contained blank lines");if(t.trim().startsWith("#"))return this._keyAndCommentOrder.push(t.trim()),this;if(t.trimEnd().endsWith("\\")){var e=t.trimEnd().slice(0,-1);return this._continuedLine?this._continuedLine+=e.trimStart():this._continuedLine=e,this}var i=t;if(this._continuedLine&&(i=this._continuedLine+i.trimStart(),this._continuedLine=void 0),this.indent||this._checkIndent){var a=i.match(/^([ \t]+)/);if(void 0===this.indent)if(a){var u=r(a,2);this.indent=u[1]}else this.indent="";else if(""===this.indent&&null!==a||this.indent&&a&&this.indent!==a[1])throw new Error("Inconsistent indentation of stanza")}else this.indent="";var c=i.trim(),l=c.indexOf(" ");if(-1===l){if(!this.nameKey)throw new Error("First line in a stanza must have both a key and a value");return this.has(c)?this:(this._keyAndCommentOrder.push(c),o(s(n.prototype),"set",this).call(this,c,""))}var h=c.slice(0,l),d=c.slice(l+1);if(this.has(h)&&d!==this.get(h))throw new Error("Got duplicate key with a different value in stanza: "+'"'.concat(h,'" key has both ').concat(this.get(h)," and ").concat(d));return this._keyAndCommentOrder.push(h),this.nameKey||(this.nameKey=h,this.name=c.slice(l+1)),o(s(n.prototype),"set",this).call(this,h,d)}},{key:"set",value:function(t,e){if("string"!==typeof e)throw new Error("Value of ".concat(t," must be a string, got ").concat(typeof e));return o(s(n.prototype),"set",this).call(this,t,e)}},{key:"delete",value:function(t){if(t===this.nameKey)throw new Error("Cannot delete the first line in a stanza (you can still overwrite it with set()).");return this._keyAndCommentOrder.includes(t)&&(this._keyAndCommentOrder=this._keyAndCommentOrder.filter((function(e){return e!==t}))),o(s(n.prototype),"delete",this).call(this,t)}},{key:"clear",value:function(){this._keyAndCommentOrder.length=0,this._continuedLine=void 0,this.indent=void 0,this.name=void 0,this.nameKey=void 0,o(s(n.prototype),"clear",this).call(this)}},{key:"toString",value:function(){var t=this;if(0===this.size)return"";var e=[];return this._keyAndCommentOrder.forEach((function(n){n.startsWith("#")?e.push("".concat(t.indent).concat(n)):e.push("".concat(t.indent).concat(n," ").concat(t.get(n)).trimEnd())})),"".concat(e.join("\n"),"\n")}}]),n}(l(Map));e.default=h},77367:function(t,e,n){"use strict";var r=n(43681).default,i=n(53100).default,a=n(98870).default,o=n(68230).default,s=n(10669).default,u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=function(t){o(n,t);var e=s(n);function n(t){var a;if(i(this,n),"track"!==(a=e.call(this,t,{checkIndent:!1})).nameKey)throw new Error('trackDb has "'.concat(a.nameKey,'" instead of "track" as the first line in each track'));return a.forEach((function(t,e){var n,i=Array.from(t.keys()),o=[];if(["track","shortLabel"].forEach((function(t){i.includes(t)||o.push(t)})),o.length>0)throw new Error("Track ".concat(e," is missing required key(s): ").concat(o.join(", ")));var s=["superTrack","compositeTrack","container","view"];if(!i.some((function(t){return s.includes(t)}))){if(!i.includes("bigDataUrl"))throw new Error("Track ".concat(e,' is missing required key "bigDataUrl"'));if(!i.includes("type")){var u=a.settings(e);if(!Array.from(u.keys()).includes("type"))throw new Error("Neither track ".concat(e,' nor any of its parent tracks have the required key "type"'))}}var c="",l=e;do{if(l=null===(n=a.get(l))||void 0===n?void 0:n.get("parent")){var h=l.split(" ");l=r(h,1)[0],c+="    "}}while(l);var d=a.get(e);d&&(d.indent=c,a.set(e,d))})),a}return a(n,[{key:"settings",value:function(t){var e,n=this;if(!this.has(t))throw new Error("Track ".concat(t," does not exist"));var r=[t],i=t;do{(i=null===(e=this.get(i))||void 0===e?void 0:e.get("parent"))&&r.push(i)}while(i);var a=new Map;return r.reverse(),r.forEach((function(t){var e;null===(e=n.get(t))||void 0===e||e.forEach((function(t,e){a.set(e,t)}))})),a}}]),n}(u(n(6806)).default);e.default=c},70611:function(t,e,n){var r=n(50209);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(t.exports=i=Reflect.get.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=i=function(t,e,n){var i=r(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},t.exports.__esModule=!0,t.exports.default=t.exports),i.apply(this,arguments)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},50209:function(t,e,n){var r=n(1147);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports}}]);
//# sourceMappingURL=8118.a873d542.chunk.js.map