{"version":3,"file":"static/js/870.61e2d5bf.chunk.js","mappings":"qSAkBO,SAASA,EAASC,GACvB,OAAOA,EAAKC,OAAS,GAAE,GAAAC,OAAMF,EAAKG,MAAM,EAAG,IAAG,OAAQH,CACxD,CAEA,IAAMI,GAAYC,EAAAA,EAAAA,KAAAA,EAAa,SAAAC,GAAK,MAAK,CACvCC,oBAAqB,CACnBC,MAAO,IACPC,OAAQH,EAAMI,QAAQ,IAEzB,IAEKC,GAAgBC,EAAAA,EAAAA,WAAS,SAAsBC,GAQjD,IAPFC,EAAID,EAAJC,KACAC,EAAOF,EAAPE,QACAC,EAAeH,EAAfG,gBAMAC,EAAgDF,EAAxCG,oBAAqBC,OAAS,IAAAF,EAAG,GAAEA,EACrCG,GAAOC,EAAAA,EAAAA,gBAAeP,EAAM,QAC5BQ,GAAgBD,EAAAA,EAAAA,gBAAeP,EAAM,iBACrCS,EAAQJ,EAAUK,MAAK,SAAAC,GAAI,OAAIL,IAASK,EAAKL,IAAI,IACvD,OACEM,EAAAA,EAAAA,KAACC,EAAAA,EAAgB,CAEfC,SACEF,EAAAA,EAAAA,KAACG,EAAAA,EAAQ,CACPC,UAAWP,EACXQ,SAAU,WAGA,IAADC,EAFHT,EACFP,EAAgBF,GAEM,QAAtBkB,EAAAjB,EAAQkB,sBAAc,IAAAD,GAAtBA,EAAAE,KAAAnB,EAAyBD,EAE7B,EACAqB,MAAM,YAGVC,MAAO,CACLhB,EACAE,EAAcrB,OAAM,IAAAC,OAAOH,EAASuB,EAAce,KAAK,MAAK,KAAM,IAEjEC,QAAO,SAAAC,GAAC,QAAMA,CAAC,IACfF,KAAK,MAnBHvB,EAAK0B,aAsBhB,IAEMC,GAAiB7B,EAAAA,EAAAA,WAAS,SAAwB8B,GAMpD,IALF3B,EAAO2B,EAAP3B,QACAC,EAAe0B,EAAf1B,gBAKQ2B,EAAYvC,IAAZuC,QACR,OACEjB,EAAAA,EAAAA,KAAA,OAAKkB,UAAWD,EAAQpC,oBAAoBsC,SACxC9B,EAAQ+B,YAAY7C,OAGpBc,EAAQ+B,YAAYC,KAAI,SAACjC,EAAMkC,GAAG,OAChCtB,EAAAA,EAAAA,KAAA,OAAAmB,UACEnB,EAAAA,EAAAA,KAACf,EAAa,CACZG,KAAMA,EACNC,QAASA,EACTC,gBAAiBA,KAJXF,EAAKM,KAAO,IAAM4B,EAMtB,KATRtB,EAAAA,EAAAA,KAACuB,EAAAA,EAAU,CAAAJ,SAAC,0BAcpB,IAEA,WAAejC,EAAAA,EAAAA,WAAS,SAA+BsC,GAQnD,IAPFnC,EAAOmC,EAAPnC,QACAoC,EAAWD,EAAXC,YACAnC,EAAekC,EAAflC,gBAMA,OACEoC,EAAAA,EAAAA,MAACC,EAAAA,OAAM,CACLC,MAAI,EACJC,QAASJ,EACTK,SAAS,KACTC,MAAM,0BAAyBZ,SAAA,EAE/BO,EAAAA,EAAAA,MAACM,EAAAA,EAAa,CAAAb,SAAA,EACZnB,EAAAA,EAAAA,KAACuB,EAAAA,EAAU,CAAAJ,SAAC,iDACZnB,EAAAA,EAAAA,KAACe,EAAc,CAAC1B,QAASA,EAASC,gBAAiBA,QAErDU,EAAAA,EAAAA,KAACiC,EAAAA,EAAa,CAAAd,UACZnB,EAAAA,EAAAA,KAACkC,EAAAA,EAAM,CACLC,QAAS,kBAAMV,GAAa,EAC5BW,QAAQ,YACR3B,MAAM,UAASU,SAChB,cAMT,G","sources":["../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/dialogs/ToggleConnectionsDialog.tsx"],"sourcesContent":["import React from 'react'\nimport {\n  Button,\n  Checkbox,\n  DialogContent,\n  DialogActions,\n  FormControlLabel,\n  Typography,\n} from '@mui/material'\nimport { Dialog } from '@jbrowse/core/ui'\nimport { makeStyles } from 'tss-react/mui'\nimport { observer } from 'mobx-react'\nimport {\n  AnyConfigurationModel,\n  readConfObject,\n} from '@jbrowse/core/configuration'\nimport { AbstractSessionModel } from '@jbrowse/core/util'\n\nexport function ellipses(slug: string) {\n  return slug.length > 20 ? `${slug.slice(0, 20)}...` : slug\n}\n\nconst useStyles = makeStyles()(theme => ({\n  connectionContainer: {\n    width: 500,\n    margin: theme.spacing(4),\n  },\n}))\n\nconst ConnectionRow = observer(function ConnectionRow({\n  conf,\n  session,\n  breakConnection,\n}: {\n  conf: AnyConfigurationModel\n  session: AbstractSessionModel\n  breakConnection: (arg: AnyConfigurationModel) => void\n}) {\n  const { connectionInstances: instances = [] } = session\n  const name = readConfObject(conf, 'name')\n  const assemblyNames = readConfObject(conf, 'assemblyNames')\n  const found = instances.find(conn => name === conn.name)\n  return (\n    <FormControlLabel\n      key={conf.connectionId}\n      control={\n        <Checkbox\n          checked={!!found}\n          onChange={() => {\n            if (found) {\n              breakConnection(conf)\n            } else {\n              session.makeConnection?.(conf)\n            }\n          }}\n          color=\"primary\"\n        />\n      }\n      label={[\n        name,\n        assemblyNames.length ? `(${ellipses(assemblyNames.join(','))})` : '',\n      ]\n        .filter(f => !!f)\n        .join(' ')}\n    />\n  )\n})\n\nconst ConnectionList = observer(function ConnectionsList({\n  session,\n  breakConnection,\n}: {\n  session: AbstractSessionModel\n  breakConnection: (arg: AnyConfigurationModel) => void\n}) {\n  const { classes } = useStyles()\n  return (\n    <div className={classes.connectionContainer}>\n      {!session.connections.length ? (\n        <Typography>No connections found</Typography>\n      ) : (\n        session.connections.map((conf, idx) => (\n          <div key={conf.name + '_' + idx}>\n            <ConnectionRow\n              conf={conf}\n              session={session}\n              breakConnection={breakConnection}\n            />\n          </div>\n        ))\n      )}\n    </div>\n  )\n})\n\nexport default observer(function ToggleConnectionDialog({\n  session,\n  handleClose,\n  breakConnection,\n}: {\n  handleClose: () => void\n  session: AbstractSessionModel\n  breakConnection: (arg: AnyConfigurationModel) => void\n}) {\n  return (\n    <Dialog\n      open\n      onClose={handleClose}\n      maxWidth=\"lg\"\n      title=\"Turn on/off connections\"\n    >\n      <DialogContent>\n        <Typography>Use the checkbox to turn on/off connections</Typography>\n        <ConnectionList session={session} breakConnection={breakConnection} />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={() => handleClose()}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n})\n"],"names":["ellipses","slug","length","concat","slice","useStyles","makeStyles","theme","connectionContainer","width","margin","spacing","ConnectionRow","observer","_ref","conf","session","breakConnection","_session$connectionIn","connectionInstances","instances","name","readConfObject","assemblyNames","found","find","conn","_jsx","FormControlLabel","control","Checkbox","checked","onChange","_session$makeConnecti","makeConnection","call","color","label","join","filter","f","connectionId","ConnectionList","_ref2","classes","className","children","connections","map","idx","Typography","_ref3","handleClose","_jsxs","Dialog","open","onClose","maxWidth","title","DialogContent","DialogActions","Button","onClick","variant"],"sourceRoot":""}