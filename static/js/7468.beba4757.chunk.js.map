{"version":3,"file":"static/js/7468.beba4757.chunk.js","mappings":"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","sources":["../../../plugins/variants/src/VariantFeatureWidget/VariantSampleGrid.tsx","../../../plugins/variants/src/VariantFeatureWidget/AnnotGrid.tsx","../../../plugins/variants/src/VariantFeatureWidget/VariantCsqPanel.tsx","../../../plugins/variants/src/VariantFeatureWidget/VariantAnnPanel.tsx","../../../plugins/variants/src/VariantFeatureWidget/BreakendOptionDialog.tsx","../../../plugins/variants/src/VariantFeatureWidget/BreakendPanel.tsx","../../../plugins/variants/src/VariantFeatureWidget/VariantFeatureWidget.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useState } from 'react'\n\nimport {\n  FormControlLabel,\n  Checkbox,\n  TextField,\n  Typography,\n} from '@mui/material'\n\nimport { DataGrid } from '@mui/x-data-grid'\nimport { BaseCard } from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail'\nimport { SimpleFeatureSerialized } from '@jbrowse/core/util/simpleFeature'\n\ninterface Entry {\n  sample: string\n  id: string\n  [key: string]: string\n}\n\nexport default function VariantSamples(props: {\n  feature: SimpleFeatureSerialized\n  descriptions: any\n}) {\n  const { feature, descriptions } = props\n  const [filter, setFilter] = useState<Record<string, string>>({})\n  const [showFilters, setShowFilters] = useState(false)\n  const { samples = {} } = feature as Record<\n    string,\n    Record<string, Record<string, unknown>>\n  >\n  const preFilteredRows = Object.entries(samples)\n  if (!preFilteredRows.length) {\n    return null\n  }\n\n  const infoFields = ['sample', ...Object.keys(preFilteredRows[0][1])].map(\n    field => ({\n      field,\n      description: descriptions.FORMAT?.[field]?.Description,\n    }),\n  )\n\n  let error\n  let rows = [] as Entry[]\n  const filters = Object.keys(filter)\n\n  // catch some error thrown from regex\n  // note: maps all values into a string, if this is not done rows are not\n  // sortable by the data-grid\n  try {\n    rows = preFilteredRows\n      .map(\n        row =>\n          ({\n            ...Object.fromEntries(\n              Object.entries(row[1]).map(entry => [entry[0], String(entry[1])]),\n            ),\n            sample: row[0],\n            id: row[0],\n          } as Entry),\n      )\n      .filter(row =>\n        filters.length\n          ? filters.every(key => {\n              const val = row[key]\n              const currFilter = filter[key]\n              return currFilter ? val.match(new RegExp(currFilter, 'i')) : true\n            })\n          : true,\n      )\n  } catch (e) {\n    error = e\n  }\n  // disableSelectionOnClick helps avoid\n  // https://github.com/mui-org/material-ui-x/issues/1197\n  return (\n    <BaseCard {...props} title=\"Samples\">\n      {error ? <Typography color=\"error\">{`${error}`}</Typography> : null}\n\n      <FormControlLabel\n        control={\n          <Checkbox\n            checked={showFilters}\n            onChange={() => setShowFilters(f => !f)}\n          />\n        }\n        label=\"Show sample filters\"\n      />\n      {showFilters ? (\n        <>\n          <Typography>\n            These filters can use a plain text search or regex style query, e.g.\n            in the genotype field, entering 1 will query for all genotypes that\n            include the first alternate allele e.g. 0|1 or 1|1, entering\n            [1-9]\\d* will find any non-zero allele e.g. 0|2 or 2/33\n          </Typography>\n          {infoFields.map(({ field }) => (\n            <TextField\n              key={`filter-${field}`}\n              placeholder={`Filter ${field}`}\n              value={filter[field] || ''}\n              onChange={event =>\n                setFilter({ ...filter, [field]: event.target.value })\n              }\n            />\n          ))}\n        </>\n      ) : null}\n      <div style={{ height: 600, width: '100%', overflow: 'auto' }}>\n        <DataGrid\n          rows={rows}\n          columns={infoFields}\n          disableSelectionOnClick\n          rowHeight={25}\n          disableColumnMenu\n        />\n      </div>\n    </BaseCard>\n  )\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react'\nimport { DataGrid } from '@mui/x-data-grid'\n\nexport default function VariantAnnotPanel({\n  rows,\n  columns,\n}: {\n  rows: any\n  columns: any[]\n}) {\n  const rowHeight = 25\n  const hideFooter = rows.length < 100\n  const headerHeight = 80\n  return rows.length ? (\n    <div\n      style={{\n        height:\n          Math.min(rows.length, 100) * rowHeight +\n          headerHeight +\n          (hideFooter ? 0 : 50),\n        width: '100%',\n      }}\n    >\n      <DataGrid rowHeight={rowHeight} rows={rows} columns={columns} />\n    </div>\n  ) : null\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react'\nimport { BaseCard } from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail'\nimport AnnotGrid from './AnnotGrid'\n\nexport default function VariantCsqPanel({\n  feature,\n  descriptions,\n}: {\n  feature: any\n  descriptions: any\n}) {\n  const csqFields = (descriptions?.INFO?.CSQ?.Description?.match(\n    /.*Format: (.*)/,\n  )?.[1].split('|') || []) as string[]\n\n  const csq = (feature.INFO.CSQ || []) as string[]\n  const rows =\n    csq.map((elt, id) => ({\n      id,\n      ...Object.fromEntries(elt.split('|').map((e, i) => [csqFields[i], e])),\n    })) || []\n  const columns = csqFields.map(c => ({\n    field: c,\n  }))\n  return csq.length ? (\n    <BaseCard title=\"CSQ table\">\n      <AnnotGrid rows={rows} columns={columns} />\n    </BaseCard>\n  ) : null\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react'\nimport { BaseCard } from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail'\nimport AnnotGrid from './AnnotGrid'\n\nexport default function VariantAnnPanel({\n  feature,\n  descriptions,\n}: {\n  feature: any\n  descriptions: any\n}) {\n  const annFields = (descriptions?.INFO?.ANN?.Description?.match(\n    /.*Functional annotations:'(.*)'$/,\n  )?.[1].split('|') || []) as string[]\n  const ann = (feature.INFO.ANN || []) as string[]\n\n  const rows =\n    ann.map((elt, id) => ({\n      id,\n      ...Object.fromEntries(elt.split('|').map((e, i) => [annFields[i], e])),\n    })) || []\n  const columns = annFields.map(c => ({\n    field: c,\n  }))\n  return ann.length ? (\n    <BaseCard title=\"ANN table\">\n      <AnnotGrid rows={rows} columns={columns} />\n    </BaseCard>\n  ) : null\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useState } from 'react'\nimport { observer } from 'mobx-react'\nimport {\n  Button,\n  Checkbox,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Divider,\n  FormControlLabel,\n  IconButton,\n} from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\nimport CloseIcon from '@mui/icons-material/Close'\nimport { getSnapshot } from 'mobx-state-tree'\nimport { getSession, Feature } from '@jbrowse/core/util'\n\nconst useStyles = makeStyles()(theme => ({\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n  block: {\n    display: 'block',\n  },\n}))\n\nfunction BreakendOptionDialog({\n  model,\n  handleClose,\n  feature,\n  viewType,\n}: {\n  model: any\n  handleClose: () => void\n  feature: Feature\n  viewType: any\n}) {\n  const { classes } = useStyles()\n  const [copyTracks, setCopyTracks] = useState(true)\n  const [mirrorTracks, setMirrorTracks] = useState(true)\n\n  return (\n    <Dialog open onClose={handleClose}>\n      <DialogTitle>\n        Breakpoint split view options\n        {handleClose ? (\n          <IconButton\n            className={classes.closeButton}\n            onClick={() => handleClose()}\n          >\n            <CloseIcon />\n          </IconButton>\n        ) : null}\n      </DialogTitle>\n      <Divider />\n\n      <DialogContent>\n        <FormControlLabel\n          className={classes.block}\n          control={\n            <Checkbox\n              checked={copyTracks}\n              onChange={() => setCopyTracks(val => !val)}\n            />\n          }\n          label=\"Copy tracks into the new view\"\n        />\n\n        <FormControlLabel\n          className={classes.block}\n          control={\n            <Checkbox\n              checked={mirrorTracks}\n              onChange={() => setMirrorTracks(val => !val)}\n            />\n          }\n          label=\"Mirror tracks vertically in vertically stacked view\"\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={() => {\n            const { view } = model\n            const session = getSession(model)\n            try {\n              const viewSnapshot = viewType.snapshotFromBreakendFeature(\n                feature,\n                view,\n              )\n              viewSnapshot.views[0].offsetPx -= view.width / 2 + 100\n              viewSnapshot.views[1].offsetPx -= view.width / 2 + 100\n              viewSnapshot.featureData = feature\n              const viewTracks: any = getSnapshot(view.tracks)\n              viewSnapshot.views[0].tracks = viewTracks\n              viewSnapshot.views[1].tracks = mirrorTracks\n                ? viewTracks.slice().reverse()\n                : viewTracks\n\n              session.addView('BreakpointSplitView', viewSnapshot)\n            } catch (e) {\n              console.error(e)\n              session.notify(`${e}`)\n            }\n            handleClose()\n          }}\n          variant=\"contained\"\n          color=\"primary\"\n          autoFocus\n        >\n          OK\n        </Button>\n        <Button\n          onClick={() => handleClose()}\n          color=\"secondary\"\n          variant=\"contained\"\n        >\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\nexport default observer(BreakendOptionDialog)\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useState } from 'react'\nimport { Link, Typography } from '@mui/material'\nimport SimpleFeature, {\n  SimpleFeatureSerialized,\n} from '@jbrowse/core/util/simpleFeature'\nimport { getEnv, getSession } from '@jbrowse/core/util'\nimport { BaseCard } from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail'\nimport BreakendOptionDialog from './BreakendOptionDialog'\n\nexport default function BreakendPanel(props: {\n  locStrings: string[]\n  model: any\n  feature: SimpleFeatureSerialized\n}) {\n  const { model, locStrings, feature } = props\n  const session = getSession(model)\n  const { pluginManager } = getEnv(session)\n  const [breakpointDialog, setBreakpointDialog] = useState(false)\n  let viewType\n\n  try {\n    viewType = pluginManager.getViewType('BreakpointSplitView')\n  } catch (e) {\n    // ignore\n  }\n\n  const simpleFeature = new SimpleFeature(feature)\n  return (\n    <BaseCard {...props} title=\"Breakends\">\n      <Typography>Link to linear view of breakend endpoints</Typography>\n      <ul>\n        {locStrings.map(locString => (\n          <li key={`${JSON.stringify(locString)}`}>\n            <Link\n              href=\"#\"\n              onClick={event => {\n                event.preventDefault()\n                const { view } = model\n                try {\n                  if (view) {\n                    view.navToLocString?.(locString)\n                  } else {\n                    throw new Error(\n                      'No view associated with this feature detail panel anymore',\n                    )\n                  }\n                } catch (e) {\n                  console.error(e)\n                  session.notify(`${e}`)\n                }\n              }}\n            >\n              {`LGV - ${locString}`}\n            </Link>\n          </li>\n        ))}\n      </ul>\n      {viewType ? (\n        <div>\n          <Typography>\n            Launch split views with breakend source and target\n          </Typography>\n          <ul>\n            {locStrings.map(locString => (\n              <li key={`${JSON.stringify(locString)}`}>\n                <Link\n                  href=\"#\"\n                  onClick={event => {\n                    event.preventDefault()\n                    setBreakpointDialog(true)\n                  }}\n                >\n                  {`${feature.refName}:${feature.start} // ${locString} (split view)`}\n                </Link>\n              </li>\n            ))}\n          </ul>\n          {breakpointDialog ? (\n            <BreakendOptionDialog\n              model={model}\n              feature={simpleFeature}\n              viewType={viewType}\n              handleClose={() => {\n                setBreakpointDialog(false)\n              }}\n            />\n          ) : null}\n        </div>\n      ) : null}\n    </BaseCard>\n  )\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react'\nimport { observer } from 'mobx-react'\nimport { Divider, Paper } from '@mui/material'\nimport { FeatureDetails } from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail'\nimport { parseBreakend } from '@gmod/vcf'\n\n// locals\nimport VariantSampleGrid from './VariantSampleGrid'\nimport VariantCsqPanel from './VariantCsqPanel'\nimport VariantAnnPanel from './VariantAnnPanel'\nimport BreakendPanel from './BreakendPanel'\n\nfunction VariantFeatureDetails(props: any) {\n  const { model } = props\n  const { featureData, descriptions } = model\n  const feat = JSON.parse(JSON.stringify(featureData))\n  const { samples, ...rest } = feat\n  const basicDescriptions = {\n    CHROM: 'chromosome: An identifier from the reference genome',\n    POS: 'position: The reference position, with the 1st base having position 1',\n    ID: 'identifier: Semi-colon separated list of unique identifiers where available',\n    REF: 'reference base(s): Each base must be one of A,C,G,T,N (case insensitive).',\n    ALT: 'alternate base(s): Comma-separated list of alternate non-reference alleles',\n    QUAL: 'quality: Phred-scaled quality score for the assertion made in ALT',\n    FILTER:\n      'filter status: PASS if this position has passed all filters, otherwise a semicolon-separated list of codes for filters that fail',\n  }\n\n  return (\n    <Paper data-testid=\"variant-side-drawer\">\n      <FeatureDetails\n        feature={rest}\n        descriptions={{ ...basicDescriptions, ...descriptions }}\n        {...props}\n      />\n      <Divider />\n      <VariantCsqPanel feature={rest} descriptions={descriptions} />\n      <Divider />\n      <VariantAnnPanel feature={rest} descriptions={descriptions} />\n      <Divider />\n      {feat.type === 'breakend' ? (\n        <BreakendPanel\n          feature={feat}\n          locStrings={feat.ALT.map(\n            (alt: string) => parseBreakend(alt)?.MatePosition || '',\n          )}\n          model={model}\n        />\n      ) : null}\n      {feat.type === 'translocation' ? (\n        <BreakendPanel\n          feature={feat}\n          model={model}\n          locStrings={[`${feat.INFO.CHR2[0]}:${feat.INFO.END}`]}\n        />\n      ) : null}\n      <VariantSampleGrid\n        feature={feat}\n        {...props}\n        descriptions={descriptions}\n      />\n    </Paper>\n  )\n}\n\nexport default observer(VariantFeatureDetails)\n"],"names":["VariantSamples","props","feature","descriptions","useState","filter","setFilter","showFilters","setShowFilters","samples","preFilteredRows","Object","entries","length","error","infoFields","keys","map","field","description","FORMAT","Description","rows","filters","row","fromEntries","entry","String","sample","id","every","key","val","currFilter","match","RegExp","e","BaseCard","title","Typography","color","FormControlLabel","control","Checkbox","checked","onChange","f","label","TextField","placeholder","value","event","target","style","height","width","overflow","DataGrid","columns","disableSelectionOnClick","rowHeight","disableColumnMenu","VariantAnnotPanel","hideFooter","Math","min","VariantCsqPanel","csqFields","INFO","CSQ","split","csq","elt","i","c","VariantAnnPanel","annFields","ANN","ann","useStyles","makeStyles","theme","closeButton","position","right","spacing","top","palette","grey","block","display","observer","model","handleClose","viewType","classes","copyTracks","setCopyTracks","mirrorTracks","setMirrorTracks","Dialog","open","onClose","DialogTitle","IconButton","className","onClick","Close","Divider","DialogContent","DialogActions","Button","view","session","getSession","viewSnapshot","snapshotFromBreakendFeature","views","offsetPx","featureData","viewTracks","getSnapshot","tracks","slice","reverse","addView","console","notify","variant","autoFocus","BreakendPanel","locStrings","pluginManager","getEnv","breakpointDialog","setBreakpointDialog","getViewType","simpleFeature","SimpleFeature","locString","Link","href","preventDefault","Error","navToLocString","JSON","stringify","refName","start","feat","parse","rest","Paper","FeatureDetails","CHROM","POS","ID","REF","ALT","QUAL","FILTER","type","alt","parseBreakend","MatePosition","CHR2","END"],"sourceRoot":""}