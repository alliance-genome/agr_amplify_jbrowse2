{"version":3,"file":"static/js/482.8e593760.chunk.js","mappings":"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","sources":["../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/HierarchicalFab.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/util.ts","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/TrackCategory.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/TrackLabel.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/TrackListNode.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/HierarchicalTree.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/HamburgerMenu.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/tree/HierarchicalHeader.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/HierarchicalTrackSelector.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/ShoppingCart.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { Fab, Menu, MenuItem } from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\nimport {\n  getSession,\n  isSessionModelWithWidgets,\n  isSessionModelWithConnections,\n  isSessionWithAddTracks,\n} from '@jbrowse/core/util'\nimport { observer } from 'mobx-react'\n\n// icons\nimport AddIcon from '@mui/icons-material/Add'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../model'\n\nconst useStyles = makeStyles()(theme => ({\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(6),\n    right: theme.spacing(6),\n  },\n}))\n\nconst HierarchicalFab = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { classes } = useStyles()\n  const session = getSession(model)\n  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement | null>(null)\n\n  function handleFabClose() {\n    setAnchorEl(null)\n  }\n  const hasConnections = isSessionModelWithConnections(session)\n  const hasAddTrack = isSessionWithAddTracks(session)\n  return (\n    <>\n      {hasAddTrack || hasConnections ? (\n        <>\n          <Fab\n            color=\"secondary\"\n            className={classes.fab}\n            onClick={event => setAnchorEl(event.currentTarget)}\n          >\n            <AddIcon />\n          </Fab>\n          <Menu\n            anchorEl={anchorEl}\n            open={Boolean(anchorEl)}\n            onClose={() => setAnchorEl(null)}\n          >\n            {hasConnections ? (\n              <MenuItem\n                onClick={() => {\n                  handleFabClose()\n                  if (isSessionModelWithWidgets(session)) {\n                    session.showWidget(\n                      session.addWidget(\n                        'AddConnectionWidget',\n                        'addConnectionWidget',\n                      ),\n                    )\n                  }\n                }}\n              >\n                Add connection\n              </MenuItem>\n            ) : null}\n            {hasAddTrack ? (\n              <MenuItem\n                onClick={() => {\n                  handleFabClose()\n                  if (isSessionModelWithWidgets(session)) {\n                    session.showWidget(\n                      session.addWidget('AddTrackWidget', 'addTrackWidget', {\n                        view: model.view.id,\n                      }),\n                    )\n                  }\n                }}\n              >\n                Add track\n              </MenuItem>\n            ) : null}\n          </Menu>\n        </>\n      ) : null}\n    </>\n  )\n})\n\nexport default HierarchicalFab\n","import { AnyConfigurationModel } from '@jbrowse/core/configuration'\nimport { HierarchicalTrackSelectorModel } from '../model'\nimport { TreeNode } from '../generateHierarchy'\n\nexport interface NodeData {\n  nestingLevel: number\n  checked: boolean\n  conf: AnyConfigurationModel\n  drawerPosition: unknown\n  id: string\n  isLeaf: boolean\n  name: string\n  onChange: Function\n  toggleCollapse: (arg: string) => void\n  tree: TreeNode\n  selected: boolean\n  model: HierarchicalTrackSelectorModel\n}\n\nexport function getAllChildren(subtree?: TreeNode): AnyConfigurationModel[] {\n  // @ts-expect-error\n  return (\n    subtree?.children.map(t =>\n      t.children.length ? getAllChildren(t) : t.conf!,\n    ) || []\n  ).flat(Infinity)\n}\n\nexport function treeToMap(tree: TreeNode, map = new Map<string, TreeNode>()) {\n  if (tree.id && tree.children.length) {\n    map.set(tree.id, tree)\n  }\n  for (const node of tree.children) {\n    treeToMap(node, map)\n  }\n  return map\n}\n\nexport function isUnsupported(name = '') {\n  return name.endsWith('(Unsupported)') || name.endsWith('(Unknown)')\n}\n","import React, { useState } from 'react'\nimport { IconButton, Typography } from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\nimport JBrowseMenu from '@jbrowse/core/ui/Menu'\n\n// icons\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown'\nimport ArrowRightIcon from '@mui/icons-material/ArrowRight'\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz'\n\n// locals\nimport { getAllChildren, treeToMap, NodeData } from '../util'\n\nconst useStyles = makeStyles()(theme => ({\n  contrastColor: {\n    color: theme.palette.tertiary.contrastText,\n  },\n\n  // margin:auto 0 to center text vertically\n  accordionText: {\n    margin: 'auto 0',\n    // width 100 so you can click anywhere on the category bar\n    width: '100%',\n  },\n}))\n\nexport default function Category({\n  isOpen,\n  setOpen,\n  data,\n}: {\n  isOpen: boolean\n  setOpen: (arg: boolean) => void\n  data: NodeData\n}) {\n  const { classes } = useStyles()\n  const [menuEl, setMenuEl] = useState<HTMLElement | null>(null)\n  const { name, model, id, tree, toggleCollapse } = data\n\n  return (\n    <div\n      className={classes.accordionText}\n      onClick={() => {\n        if (!menuEl) {\n          toggleCollapse(id)\n          setOpen(!isOpen)\n        }\n      }}\n    >\n      <Typography>\n        {isOpen ? <ArrowDropDownIcon /> : <ArrowRightIcon />}\n        {name}\n        <IconButton\n          onClick={event => {\n            setMenuEl(event.currentTarget)\n            event.stopPropagation()\n          }}\n          className={classes.contrastColor}\n        >\n          <MoreHorizIcon />\n        </IconButton>\n      </Typography>\n      {menuEl ? (\n        <JBrowseMenu\n          anchorEl={menuEl}\n          menuItems={[\n            {\n              label: 'Add to selection',\n              onClick: () => {\n                const r = treeToMap(tree).get(id)\n                model.addToSelection(getAllChildren(r))\n              },\n            },\n            {\n              label: 'Remove from selection',\n              onClick: () => {\n                const r = treeToMap(tree).get(id)\n                model.removeFromSelection(getAllChildren(r))\n              },\n            },\n            {\n              label: 'Show all tracks',\n              onClick: () => {\n                for (const entry of treeToMap(tree).get(id)?.children || []) {\n                  if (!entry.children.length) {\n                    model.view.showTrack(entry.id)\n                  }\n                }\n              },\n            },\n            {\n              label: 'Hide all tracks',\n              onClick: () => {\n                for (const entry of treeToMap(tree).get(id)?.children || []) {\n                  if (!entry.children.length) {\n                    model.view.hideTrack(entry.id)\n                  }\n                }\n              },\n            },\n          ]}\n          onMenuItemClick={(_event, callback) => {\n            callback()\n            setMenuEl(null)\n          }}\n          open={Boolean(menuEl)}\n          onClose={() => setMenuEl(null)}\n        />\n      ) : null}\n    </div>\n  )\n}\n","import React from 'react'\nimport { Checkbox, FormControlLabel, Tooltip } from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\nimport { getSession } from '@jbrowse/core/util'\nimport SanitizedHTML from '@jbrowse/core/ui/SanitizedHTML'\nimport {\n  AnyConfigurationModel,\n  readConfObject,\n} from '@jbrowse/core/configuration'\n\n// icons\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz'\n\n// locals\nimport { isUnsupported, NodeData } from '../util'\nimport CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton'\nimport { HierarchicalTrackSelectorModel } from '../../model'\n\nconst useStyles = makeStyles()(theme => ({\n  compactCheckbox: {\n    padding: 0,\n  },\n\n  checkboxLabel: {\n    marginRight: 0,\n    '&:hover': {\n      backgroundColor: theme.palette.action.selected,\n    },\n  },\n}))\n\nexport interface InfoArgs {\n  target: HTMLElement\n  id: string\n  conf: AnyConfigurationModel\n}\n\nexport default function TrackLabel({ data }: { data: NodeData }) {\n  const { classes } = useStyles()\n  const { checked, conf, model, drawerPosition, id, name, onChange, selected } =\n    data\n  const description = (conf && readConfObject(conf, ['description'])) || ''\n  return (\n    <>\n      <Tooltip\n        title={description + (selected ? ' (in selection)' : '')}\n        placement={drawerPosition === 'left' ? 'right' : 'left'}\n      >\n        <FormControlLabel\n          className={classes.checkboxLabel}\n          control={\n            <Checkbox\n              className={classes.compactCheckbox}\n              checked={checked}\n              onChange={() => onChange(id)}\n              disabled={isUnsupported(name)}\n              inputProps={{\n                // @ts-expect-error\n                'data-testid': `htsTrackEntry-${id}`,\n              }}\n            />\n          }\n          label={\n            <div\n              data-testid={`htsTrackLabel-${id}`}\n              style={{ background: selected ? '#cccc' : undefined }}\n            >\n              <SanitizedHTML html={name} />\n            </div>\n          }\n        />\n      </Tooltip>\n      <TrackMenuButton model={model} selected={selected} id={id} conf={conf} />\n    </>\n  )\n}\n\nfunction TrackMenuButton({\n  id,\n  model,\n  selected,\n  conf,\n}: {\n  id: string\n  selected: boolean\n  conf: AnyConfigurationModel\n  model: HierarchicalTrackSelectorModel\n}) {\n  return (\n    <CascadingMenuButton\n      style={{ padding: 0 }}\n      data-testid={`htsTrackEntryMenu-${id}`}\n      menuItems={[\n        ...(getSession(model).getTrackActionMenuItems?.(conf) || []),\n        {\n          label: 'Add to selection',\n          onClick: () => model.addToSelection([conf]),\n        },\n        ...(selected\n          ? [\n              {\n                label: 'Remove from selection',\n                onClick: () => model.removeFromSelection([conf]),\n              },\n            ]\n          : []),\n      ]}\n    >\n      <MoreHorizIcon />\n    </CascadingMenuButton>\n  )\n}\n","import React from 'react'\nimport { makeStyles } from 'tss-react/mui'\n\n// locals\nimport Category from './TrackCategory'\nimport TrackLabel from './TrackLabel'\nimport { NodeData } from '../util'\n\nconst useStyles = makeStyles()(theme => ({\n  // this accordionBase element's small padding is used to give a margin to\n  // accordionColor it a \"margin\" because the virtualized elements can't really\n  // use margin in a conventional way (it doesn't affect layout)\n  accordionBase: {\n    display: 'flex',\n  },\n\n  accordionCard: {\n    padding: 3,\n    cursor: 'pointer',\n    display: 'flex',\n  },\n\n  nestingLevelMarker: {\n    position: 'absolute',\n    borderLeft: '1.5px solid #555',\n  },\n  // accordionColor set's display:flex so that the child accordionText use\n  // vertically centered text\n  accordionColor: {\n    background: theme.palette.tertiary.main,\n    color: theme.palette.tertiary.contrastText,\n    width: '100%',\n    display: 'flex',\n    paddingLeft: 5,\n  },\n}))\n\n// An individual node in the track selector. Note: manually sets cursor:\n// pointer improves usability for what can be clicked\nexport default function Node({\n  data,\n  isOpen,\n  style,\n  setOpen,\n}: {\n  data: NodeData\n  isOpen: boolean\n  style?: { height: number }\n  setOpen: (arg: boolean) => void\n}) {\n  const { isLeaf, nestingLevel } = data\n\n  const { classes } = useStyles()\n  const width = 10\n  const marginLeft = nestingLevel * width + (isLeaf ? width : 0)\n\n  return (\n    <div style={style} className={!isLeaf ? classes.accordionBase : undefined}>\n      {new Array(nestingLevel).fill(0).map((_, idx) => (\n        <div\n          key={`mark-${idx}`}\n          style={{ left: idx * width + 4, height: style?.height }}\n          className={classes.nestingLevelMarker}\n        />\n      ))}\n      <div\n        className={!isLeaf ? classes.accordionCard : undefined}\n        style={{\n          marginLeft,\n          whiteSpace: 'nowrap',\n          width: '100%',\n        }}\n      >\n        <div className={!isLeaf ? classes.accordionColor : undefined}>\n          {!isLeaf ? (\n            <Category isOpen={isOpen} data={data} setOpen={setOpen} />\n          ) : (\n            <TrackLabel data={data} />\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useCallback, useMemo, useRef, useEffect } from 'react'\nimport { observer } from 'mobx-react'\nimport { VariableSizeTree } from 'react-vtree'\nimport { getSession } from '@jbrowse/core/util'\n// locals\nimport { TreeNode } from '../../generateHierarchy'\nimport { HierarchicalTrackSelectorModel } from '../../model'\nimport Node from './TrackListNode'\n\nfunction getNodeData(\n  node: TreeNode,\n  nestingLevel: number,\n  extra: Record<string, unknown>,\n  selection: Record<string, unknown>,\n) {\n  const isLeaf = !!node.conf\n  const selected = !!selection[node.id]\n  return {\n    data: {\n      defaultHeight: isLeaf ? 22 : 40,\n      isLeaf,\n      isOpenByDefault: true,\n      nestingLevel,\n      selected,\n      ...node,\n      ...extra,\n    },\n    nestingLevel,\n    node,\n  }\n}\n\ntype NodeData = ReturnType<typeof getNodeData>\n\n// this is the main tree component for the hierarchical track selector in note:\n// in jbrowse-web the toolbar is position=\"sticky\" which means the autosizer\n// includes the height of the toolbar, so we subtract the given offsets\nconst HierarchicalTree = observer(function HierarchicalTree({\n  height,\n  tree,\n  model,\n}: {\n  height: number\n  tree: TreeNode\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { filterText, selection, view } = model\n  const treeRef = useRef<NodeData>(null)\n  const session = getSession(model)\n  const { drawerPosition } = session\n  const obj = useMemo(\n    () => Object.fromEntries(selection.map(s => [s.trackId, s])),\n    [selection],\n  )\n\n  const extra = useMemo(\n    () => ({\n      onChange: (trackId: string) => view.toggleTrack(trackId),\n      toggleCollapse: (pathName: string) => model.toggleCategory(pathName),\n      tree,\n      model,\n      drawerPosition,\n    }),\n    [view, model, drawerPosition, tree],\n  )\n  const treeWalker = useCallback(\n    function* treeWalker() {\n      for (const child of tree.children) {\n        yield getNodeData(child, 0, extra, obj)\n      }\n\n      while (true) {\n        // @ts-expect-error\n        const parentMeta = yield\n\n        for (const curr of parentMeta.node.children) {\n          yield getNodeData(curr, parentMeta.nestingLevel + 1, extra, obj)\n        }\n      }\n    },\n    [tree, extra, obj],\n  )\n\n  useEffect(() => {\n    // @ts-expect-error\n    treeRef.current.recomputeTree({\n      refreshNodes: true,\n      useDefaultHeight: true,\n    })\n  }, [tree, filterText])\n  return (\n    <>\n      {/* @ts-expect-error */}\n      <VariableSizeTree ref={treeRef} treeWalker={treeWalker} height={height}>\n        {/* @ts-expect-error */}\n        {Node}\n      </VariableSizeTree>\n    </>\n  )\n})\n\nexport default HierarchicalTree\n","import React, { Suspense, lazy, useState } from 'react'\nimport { observer } from 'mobx-react'\nimport {\n  getSession,\n  isSessionModelWithConnectionEditing,\n  isSessionModelWithConnections,\n  isSessionModelWithWidgets,\n  isSessionWithAddTracks,\n} from '@jbrowse/core/util'\nimport {\n  AnyConfigurationModel,\n  readConfObject,\n} from '@jbrowse/core/configuration'\nimport CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton'\n\n// icons\nimport MenuIcon from '@mui/icons-material/Menu'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../../model'\n\n// lazy components\nconst CloseConnectionDlg = lazy(\n  () => import('../dialogs/CloseConnectionDialog'),\n)\nconst DeleteConnectionDlg = lazy(\n  () => import('../dialogs/DeleteConnectionDialog'),\n)\nconst ManageConnectionsDlg = lazy(\n  () => import('../dialogs/ManageConnectionsDialog'),\n)\nconst ToggleConnectionsDlg = lazy(\n  () => import('../dialogs/ToggleConnectionsDialog'),\n)\n\ninterface ModalArgs {\n  connectionConf: AnyConfigurationModel\n  safelyBreakConnection: () => void\n  dereferenceTypeCount: Record<string, number>\n  name: string\n}\n\ninterface DialogDetails {\n  name: string\n  connectionConf: AnyConfigurationModel\n}\n\nconst HamburgerMenu = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const session = getSession(model)\n  const [modalInfo, setModalInfo] = useState<ModalArgs>()\n  const [deleteDlgDetails, setDeleteDlgDetails] = useState<DialogDetails>()\n  const [connectionToggleOpen, setConnectionToggleOpen] = useState(false)\n  const [connectionManagerOpen, setConnectionManagerOpen] = useState(false)\n\n  function breakConnection(\n    connectionConf: AnyConfigurationModel,\n    deletingConnection?: boolean,\n  ) {\n    const name = readConfObject(connectionConf, 'name')\n    const result = session.prepareToBreakConnection?.(connectionConf)\n    if (result) {\n      const [safelyBreakConnection, dereferenceTypeCount] = result\n      if (Object.keys(dereferenceTypeCount).length > 0) {\n        setModalInfo({\n          connectionConf,\n          safelyBreakConnection,\n          dereferenceTypeCount,\n          name,\n        })\n      } else {\n        safelyBreakConnection()\n      }\n    }\n    if (deletingConnection) {\n      setDeleteDlgDetails({ name, connectionConf })\n    }\n  }\n\n  return (\n    <>\n      <CascadingMenuButton\n        menuItems={[\n          ...(isSessionWithAddTracks(session)\n            ? [\n                {\n                  label: 'Add track...',\n                  onClick: () => {\n                    if (isSessionModelWithWidgets(session)) {\n                      session.showWidget(\n                        session.addWidget('AddTrackWidget', 'addTrackWidget', {\n                          view: model.view.id,\n                        }),\n                      )\n                    }\n                  },\n                },\n              ]\n            : []),\n          ...(isSessionModelWithConnections(session)\n            ? [\n                {\n                  label: 'Turn on/off connections...',\n                  onClick: () => setConnectionToggleOpen(true),\n                },\n              ]\n            : []),\n          ...(isSessionModelWithConnectionEditing(session)\n            ? [\n                {\n                  label: 'Add connection...',\n                  onClick: () => {\n                    if (isSessionModelWithWidgets(session)) {\n                      session.showWidget(\n                        session.addWidget(\n                          'AddConnectionWidget',\n                          'addConnectionWidget',\n                        ),\n                      )\n                    }\n                  },\n                },\n                {\n                  label: 'Delete connections...',\n                  onClick: () => setConnectionManagerOpen(true),\n                },\n              ]\n            : []),\n          { type: 'divider' },\n          {\n            label: 'Sort tracks by name',\n            type: 'checkbox',\n            checked: model.activeSortTrackNames,\n            onClick: () => model.setSortTrackNames(!model.activeSortTrackNames),\n          },\n          {\n            label: 'Sort categories by name',\n            type: 'checkbox',\n            checked: model.activeSortCategories,\n            onClick: () => model.setSortCategories(!model.activeSortCategories),\n          },\n          { type: 'divider' },\n          ...(model.hasAnySubcategories\n            ? [\n                {\n                  label: 'Collapse subcategories',\n                  onClick: () => model.collapseSubCategories(),\n                },\n              ]\n            : []),\n          {\n            label: 'Collapse top-level categories',\n            onClick: () => model.collapseTopLevelCategories(),\n          },\n          {\n            label: 'Expand all categories',\n            onClick: () => model.expandAllCategories(),\n          },\n        ]}\n      >\n        <MenuIcon />\n      </CascadingMenuButton>\n      <Suspense fallback={<React.Fragment />}>\n        {modalInfo ? (\n          <CloseConnectionDlg\n            modalInfo={modalInfo}\n            onClose={() => setModalInfo(undefined)}\n          />\n        ) : null}\n        {deleteDlgDetails ? (\n          <DeleteConnectionDlg\n            handleClose={() => setDeleteDlgDetails(undefined)}\n            deleteDialogDetails={deleteDlgDetails}\n            session={session}\n          />\n        ) : null}\n        {connectionManagerOpen ? (\n          <ManageConnectionsDlg\n            handleClose={() => setConnectionManagerOpen(false)}\n            breakConnection={breakConnection}\n            session={session}\n          />\n        ) : null}\n        {connectionToggleOpen ? (\n          <ToggleConnectionsDlg\n            handleClose={() => setConnectionToggleOpen(false)}\n            session={session}\n            breakConnection={breakConnection}\n          />\n        ) : null}\n      </Suspense>\n    </>\n  )\n})\n\nexport default HamburgerMenu\n","import React, { Suspense, lazy, useState } from 'react'\nimport { Button, IconButton, InputAdornment, TextField } from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\nimport { observer } from 'mobx-react'\n\n// icons\nimport ClearIcon from '@mui/icons-material/Clear'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../../model'\nimport HamburgerMenu from './HamburgerMenu'\nimport ShoppingCart from '../ShoppingCart'\n\n// lazies\nconst FacetedDialog = lazy(() => import('../faceted/FacetedDialog'))\n\nconst useStyles = makeStyles()(theme => ({\n  searchBox: {\n    margin: theme.spacing(2),\n  },\n  menuIcon: {\n    marginRight: theme.spacing(1),\n    marginBottom: 0,\n  },\n}))\n\nconst SearchTracksTextField = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { filterText } = model\n  const { classes } = useStyles()\n  return (\n    <TextField\n      className={classes.searchBox}\n      label=\"Filter tracks\"\n      value={filterText}\n      onChange={event => model.setFilterText(event.target.value)}\n      fullWidth\n      InputProps={{\n        endAdornment: (\n          <InputAdornment position=\"end\">\n            <IconButton onClick={() => model.clearFilterText()}>\n              <ClearIcon />\n            </IconButton>\n          </InputAdornment>\n        ),\n      }}\n    />\n  )\n})\n\nconst HierarchicalTrackSelectorHeader = observer(function ({\n  model,\n  setHeaderHeight,\n}: {\n  model: HierarchicalTrackSelectorModel\n  setHeaderHeight: (n: number) => void\n}) {\n  const { classes } = useStyles()\n  const [facetedOpen, setFacetedOpen] = useState(false)\n\n  return (\n    <div\n      ref={ref => setHeaderHeight(ref?.getBoundingClientRect().height || 0)}\n      data-testid=\"hierarchical_track_selector\"\n    >\n      <div style={{ display: 'flex' }}>\n        <HamburgerMenu model={model} />\n        <ShoppingCart model={model} />\n        <SearchTracksTextField model={model} />\n        <Button\n          className={classes.menuIcon}\n          onClick={() => setFacetedOpen(true)}\n        >\n          Open faceted selector\n        </Button>\n      </div>\n\n      <Suspense fallback={<div />}>\n        {facetedOpen ? (\n          <FacetedDialog\n            handleClose={() => setFacetedOpen(false)}\n            model={model}\n          />\n        ) : null}\n      </Suspense>\n    </div>\n  )\n})\n\nexport default HierarchicalTrackSelectorHeader\n","import React, { useState } from 'react'\nimport { observer } from 'mobx-react'\nimport AutoSizer from 'react-virtualized-auto-sizer'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../model'\nimport { TreeNode } from '../generateHierarchy'\nimport HierarchicalFab from './HierarchicalFab'\nimport HierarchicalTree from './tree/HierarchicalTree'\nimport HierarchicalHeader from './tree/HierarchicalHeader'\n\n// Don't use autosizer in jest and instead hardcode a height, otherwise fails\n// jest tests\nconst AutoSizedHierarchicalTree = ({\n  tree,\n  model,\n  offset,\n}: {\n  tree: TreeNode\n  model: HierarchicalTrackSelectorModel\n  offset: number\n}) => {\n  return typeof jest === 'undefined' ? (\n    <AutoSizer disableWidth>\n      {args => (\n        <HierarchicalTree\n          height={(args.height || offset) - offset}\n          model={model}\n          tree={tree}\n        />\n      )}\n    </AutoSizer>\n  ) : (\n    <HierarchicalTree height={9000} model={model} tree={tree} />\n  )\n}\n\nconst Wrapper = ({\n  overrideDimensions,\n  children,\n}: {\n  overrideDimensions?: { width: number; height: number }\n  children: React.ReactNode\n}) => {\n  return overrideDimensions ? (\n    <div style={{ ...overrideDimensions }}>{children}</div>\n  ) : (\n    <>{children}</>\n  )\n}\nconst HierarchicalTrackSelectorContainer = observer(function ({\n  model,\n  toolbarHeight,\n  overrideDimensions,\n}: {\n  model: HierarchicalTrackSelectorModel\n  toolbarHeight: number\n  overrideDimensions?: { width: number; height: number }\n}) {\n  return (\n    <Wrapper overrideDimensions={overrideDimensions}>\n      <HierarchicalTrackSelector model={model} toolbarHeight={toolbarHeight} />\n      <HierarchicalFab model={model} />\n    </Wrapper>\n  )\n})\n\nconst HierarchicalTrackSelector = observer(function ({\n  model,\n  toolbarHeight = 0,\n}: {\n  model: HierarchicalTrackSelectorModel\n  toolbarHeight?: number\n}) {\n  const [headerHeight, setHeaderHeight] = useState(0)\n  return (\n    <>\n      <HierarchicalHeader model={model} setHeaderHeight={setHeaderHeight} />\n      <AutoSizedHierarchicalTree\n        tree={model.hierarchy}\n        model={model}\n        offset={toolbarHeight + headerHeight}\n      />\n    </>\n  )\n})\n\nexport default HierarchicalTrackSelectorContainer\n","import React, { useState } from 'react'\nimport { Badge, IconButton } from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\nimport { observer } from 'mobx-react'\nimport JBrowseMenu, { MenuItem } from '@jbrowse/core/ui/Menu'\nimport { getSession, getEnv } from '@jbrowse/core/util'\n\n// icons\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../model'\n\nconst useStyles = makeStyles()(theme => ({\n  searchBox: {\n    margin: theme.spacing(2),\n  },\n  menuIcon: {\n    marginRight: theme.spacing(1),\n    marginBottom: 0,\n  },\n}))\n\nconst ShoppingCart = observer(function ({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { classes } = useStyles()\n  const { selection } = model\n  const { pluginManager } = getEnv(model)\n  const session = getSession(model)\n  const [selectionEl, setSelectionEl] = useState<HTMLButtonElement>()\n  const items = pluginManager.evaluateExtensionPoint(\n    'TrackSelector-multiTrackMenuItems',\n    [],\n    { session },\n  ) as MenuItem[]\n\n  return (\n    <>\n      {selection.length ? (\n        <IconButton\n          className={classes.menuIcon}\n          onClick={event => setSelectionEl(event.currentTarget)}\n        >\n          <Badge badgeContent={selection.length} color=\"primary\">\n            <ShoppingCartIcon />\n          </Badge>\n        </IconButton>\n      ) : null}\n\n      <JBrowseMenu\n        anchorEl={selectionEl}\n        open={Boolean(selectionEl)}\n        onMenuItemClick={(_, callback) => {\n          callback()\n          setSelectionEl(undefined)\n        }}\n        onClose={() => setSelectionEl(undefined)}\n        menuItems={[\n          { label: 'Clear', onClick: () => model.clearSelection() },\n          ...items.map(item => ({\n            ...item,\n            ...('onClick' in item\n              ? { onClick: () => item.onClick(model) }\n              : {}),\n          })),\n        ]}\n      />\n    </>\n  )\n})\n\nexport default ShoppingCart\n"],"names":["useStyles","makeStyles","theme","fab","position","bottom","spacing","right","observer","_ref","model","classes","session","getSession","_useState","useState","_useState2","_slicedToArray","anchorEl","setAnchorEl","handleFabClose","hasConnections","isSessionModelWithConnections","hasAddTrack","isSessionWithAddTracks","_jsx","_Fragment","children","_jsxs","Fab","color","className","onClick","event","currentTarget","AddIcon","Menu","open","Boolean","onClose","MenuItem","isSessionModelWithWidgets","showWidget","addWidget","view","id","getAllChildren","subtree","map","t","length","conf","flat","Infinity","treeToMap","tree","arguments","undefined","Map","set","_step","_iterator","_createForOfIteratorHelper","s","n","done","value","err","e","f","isUnsupported","name","endsWith","contrastColor","palette","tertiary","contrastText","accordionText","margin","width","Category","isOpen","setOpen","data","menuEl","setMenuEl","toggleCollapse","Typography","ArrowDropDownIcon","ArrowRightIcon","IconButton","stopPropagation","MoreHorizIcon","JBrowseMenu","menuItems","label","r","get","addToSelection","removeFromSelection","_treeToMap$get","entry","showTrack","_treeToMap$get2","_step2","_iterator2","hideTrack","onMenuItemClick","_event","callback","compactCheckbox","padding","checkboxLabel","marginRight","backgroundColor","action","selected","TrackLabel","checked","drawerPosition","onChange","description","readConfObject","Tooltip","title","placement","FormControlLabel","control","Checkbox","disabled","inputProps","concat","style","background","SanitizedHTML","html","TrackMenuButton","_ref2","_getSession$getTrackA","_getSession","CascadingMenuButton","_toConsumableArray","getTrackActionMenuItems","call","accordionBase","display","accordionCard","cursor","nestingLevelMarker","borderLeft","accordionColor","main","paddingLeft","Node","isLeaf","nestingLevel","marginLeft","Array","fill","_","idx","left","height","whiteSpace","getNodeData","node","extra","selection","_objectSpread","defaultHeight","isOpenByDefault","filterText","treeRef","useRef","obj","useMemo","Object","fromEntries","trackId","toggleTrack","pathName","toggleCategory","treeWalker","useCallback","_regeneratorRuntime","mark","child","parentMeta","curr","wrap","_context","prev","next","t0","finish","sent","t1","stop","useEffect","current","recomputeTree","refreshNodes","useDefaultHeight","VariableSizeTree","ref","CloseConnectionDlg","lazy","DeleteConnectionDlg","ManageConnectionsDlg","ToggleConnectionsDlg","modalInfo","setModalInfo","_useState3","_useState4","deleteDlgDetails","setDeleteDlgDetails","_useState5","_useState6","connectionToggleOpen","setConnectionToggleOpen","_useState7","_useState8","connectionManagerOpen","setConnectionManagerOpen","breakConnection","connectionConf","deletingConnection","_session$prepareToBre","result","prepareToBreakConnection","_result","safelyBreakConnection","dereferenceTypeCount","keys","isSessionModelWithConnectionEditing","type","activeSortTrackNames","setSortTrackNames","activeSortCategories","setSortCategories","hasAnySubcategories","collapseSubCategories","collapseTopLevelCategories","expandAllCategories","MenuIcon","Suspense","fallback","React","handleClose","deleteDialogDetails","FacetedDialog","searchBox","menuIcon","marginBottom","SearchTracksTextField","TextField","setFilterText","target","fullWidth","InputProps","endAdornment","InputAdornment","clearFilterText","ClearIcon","setHeaderHeight","facetedOpen","setFacetedOpen","getBoundingClientRect","HamburgerMenu","ShoppingCart","Button","AutoSizedHierarchicalTree","offset","jest","AutoSizer","disableWidth","args","HierarchicalTree","Wrapper","overrideDimensions","HierarchicalTrackSelectorContainer","_ref3","toolbarHeight","HierarchicalTrackSelector","HierarchicalFab","_ref4","_ref4$toolbarHeight","headerHeight","HierarchicalHeader","hierarchy","pluginManager","getEnv","selectionEl","setSelectionEl","items","evaluateExtensionPoint","Badge","badgeContent","ShoppingCartIcon","clearSelection","item"],"sourceRoot":""}