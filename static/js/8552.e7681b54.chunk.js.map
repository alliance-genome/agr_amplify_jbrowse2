{"version":3,"file":"static/js/8552.e7681b54.chunk.js","mappings":"qQAIoDA,EAAA,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GAAA,SAAAA,IAAA,IAAAK,GAAAC,EAAAA,EAAAA,GAAA,KAAAN,GAAA,QAAAO,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAIlC,OAJkCP,EAAAF,EAAAU,KAAAC,MAAAX,EAAA,OAAAY,OAAAL,KAIxCM,YAAM,EAAAX,CAAA,CAyC+B,OAzC/BY,EAAAA,EAAAA,GAAAjB,EAAA,EAAAkB,IAAA,WAAAC,MAAA,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAEhB,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAL,EAAAA,EAAAA,KAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEmE,OAD3DN,EAAKO,KAAKC,cACVP,GAAOQ,EAAAA,EAAAA,cAAaF,KAAKG,QAAQ,sBAAuBV,GAAGI,EAAAE,KAAA,EAC9CL,EAAKU,SAAS,QAAO,OAA9B,OAAJT,EAAIE,EAAAQ,KAAAR,EAAAS,OAAA,SACHC,OAAOC,YACZb,EACGc,MAAM,cACNC,KAAI,SAAAC,GAAC,OAAIA,EAAEC,MAAM,IACjBC,QAAO,SAAAF,GAAC,QAAMA,CAAC,IACfD,KAAI,SAACI,GACJ,IAAAC,EAAuBD,EAAKL,MAAM,MAAKO,GAAAC,EAAAA,EAAAA,GAAAF,EAAA,GACvC,MAAO,CADIC,EAAA,IAAQA,EAAA,GAErB,MACH,wBAAAnB,EAAAqB,OAAA,GAAA1B,EAAA,UACF,yBAAAJ,EAAAN,MAAA,KAAAN,UAAA,EAhBe,IAgBf,CAAAU,IAAA,QAAAC,MAAA,eAAAgC,GAAA9B,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAED,SAAA6B,IAAA,IAAAC,EAAA,YAAA/B,EAAAA,EAAAA,KAAAM,MAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,OAMG,OALIC,KAAKhB,SACRgB,KAAKhB,OAASgB,KAAKuB,WAAWC,OAAM,SAAAC,GAElC,MADAJ,EAAKrC,YAAS0C,EACRD,CACR,KACDH,EAAAhB,OAAA,SACMN,KAAKhB,QAAM,wBAAAsC,EAAAJ,OAAA,GAAAE,EAAA,UACnB,yBAAAD,EAAArC,MAAA,KAAAN,UAAA,EAVA,IAUA,CAAAU,IAAA,aAAAC,MAAA,eAAAwC,GAAAtC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAED,SAAAqC,IAAA,IAAAC,EAAA,OAAAvC,EAAAA,EAAAA,KAAAM,MAAA,SAAAkC,GAAA,cAAAA,EAAAhC,KAAAgC,EAAA/B,MAAA,cAAA+B,EAAA/B,KAAA,EACwBC,KAAK+B,QAAO,OAArB,OAAPF,EAAOC,EAAAzB,KAAAyB,EAAAxB,OAAA,SACNC,OAAOyB,KAAKH,GAASnB,KAAI,SAAAuB,GAAO,MAAK,CAC1CA,QAAAA,EACAC,MAAO,EACPC,IAAKN,EAAQI,GACd,KAAE,wBAAAH,EAAAZ,OAAA,GAAAU,EAAA,UACJ,yBAAAD,EAAA7C,MAAA,KAAAN,UAAA,EATA,IASA,CAAAU,IAAA,YAAAC,MAED,WACE,MAAO,CAAC,CACV,GAAC,CAAAD,IAAA,gBAAAC,MAED,WAA8C,KAACnB,CAAA,CA7CG,CAEvBoE,EAAAA,Y","sources":["../../../plugins/sequence/src/ChromSizesAdapter/ChromSizesAdapter.ts"],"sourcesContent":["import {\n  RegionsAdapter,\n  BaseAdapter,\n} from '@jbrowse/core/data_adapters/BaseAdapter'\nimport { openLocation } from '@jbrowse/core/util/io'\n\nexport default class extends BaseAdapter implements RegionsAdapter {\n  // the map of refSeq to length\n  protected setupP?: Promise<{ [key: string]: number }>\n\n  async setupPre() {\n    const pm = this.pluginManager\n    const file = openLocation(this.getConf('chromSizesLocation'), pm)\n    const data = await file.readFile('utf8')\n    return Object.fromEntries(\n      data\n        .split(/\\n|\\r\\n|\\r/)\n        .map(f => f.trim())\n        .filter(f => !!f)\n        .map((line: string) => {\n          const [name, length] = line.split('\\t')\n          return [name, +length]\n        }),\n    )\n  }\n\n  async setup() {\n    if (!this.setupP) {\n      this.setupP = this.setupPre().catch(e => {\n        this.setupP = undefined\n        throw e\n      })\n    }\n    return this.setupP\n  }\n\n  public async getRegions() {\n    const refSeqs = await this.setup()\n    return Object.keys(refSeqs).map(refName => ({\n      refName,\n      start: 0,\n      end: refSeqs[refName],\n    }))\n  }\n\n  public getHeader() {\n    return {}\n  }\n\n  public freeResources(/* { region } */): void {}\n}\n"],"names":["_default","_BaseAdapter","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","setupP","_createClass","key","value","_setupPre","_asyncToGenerator","_regeneratorRuntime","mark","_callee","pm","file","data","wrap","_context","prev","next","this","pluginManager","openLocation","getConf","readFile","sent","abrupt","Object","fromEntries","split","map","f","trim","filter","line","_line$split","_line$split2","_slicedToArray","stop","_setup","_callee2","_this2","_context2","setupPre","catch","e","undefined","_getRegions","_callee3","refSeqs","_context3","setup","keys","refName","start","end","BaseAdapter"],"sourceRoot":""}